(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function rS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var qm={exports:{}},iu={};var g_;function sS(){if(g_)return iu;g_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return iu.Fragment=e,iu.jsx=n,iu.jsxs=n,iu}var y_;function aS(){return y_||(y_=1,qm.exports=sS()),qm.exports}var y=aS(),Hm={exports:{}},Se={};var v_;function oS(){if(v_)return Se;v_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,V={};function X(z,te,oe){this.props=z,this.context=te,this.refs=V,this.updater=oe||O}X.prototype.isReactComponent={},X.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},X.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function B(){}B.prototype=X.prototype;function I(z,te,oe){this.props=z,this.context=te,this.refs=V,this.updater=oe||O}var re=I.prototype=new B;re.constructor=I,U(re,X.prototype),re.isPureReactComponent=!0;var le=Array.isArray;function de(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(z,te,oe){var ce=oe.ref;return{$$typeof:r,type:z,key:te,ref:ce!==void 0?ce:null,props:oe}}function P(z,te){return R(z.type,te,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function H(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(oe){return te[oe]})}var D=/\/+/g;function je(z,te){return typeof z=="object"&&z!==null&&z.key!=null?H(""+z.key):te.toString(36)}function Ge(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(de,de):(z.status="pending",z.then(function(te){z.status==="pending"&&(z.status="fulfilled",z.value=te)},function(te){z.status==="pending"&&(z.status="rejected",z.reason=te)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function J(z,te,oe,ce,xe){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var qe=!1;if(z===null)qe=!0;else switch(Ce){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(z.$$typeof){case r:case e:qe=!0;break;case v:return qe=z._init,J(qe(z._payload),te,oe,ce,xe)}}if(qe)return xe=xe(z),qe=ce===""?"."+je(z,0):ce,le(xe)?(oe="",qe!=null&&(oe=qe.replace(D,"$&/")+"/"),J(xe,te,oe,"",function(Ls){return Ls})):xe!=null&&(k(xe)&&(xe=P(xe,oe+(xe.key==null||z&&z.key===xe.key?"":(""+xe.key).replace(D,"$&/")+"/")+qe)),te.push(xe)),1;qe=0;var Lt=ce===""?".":ce+":";if(le(z))for(var ht=0;ht<z.length;ht++)ce=z[ht],Ce=Lt+je(ce,ht),qe+=J(ce,te,oe,Ce,xe);else if(ht=N(z),typeof ht=="function")for(z=ht.call(z),ht=0;!(ce=z.next()).done;)ce=ce.value,Ce=Lt+je(ce,ht++),qe+=J(ce,te,oe,Ce,xe);else if(Ce==="object"){if(typeof z.then=="function")return J(Ge(z),te,oe,ce,xe);throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return qe}function ae(z,te,oe){if(z==null)return z;var ce=[],xe=0;return J(z,ce,"","",function(Ce){return te.call(oe,Ce,xe++)}),ce}function pe(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(oe){(z._status===0||z._status===-1)&&(z._status=1,z._result=oe)},function(oe){(z._status===0||z._status===-1)&&(z._status=2,z._result=oe)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var ke=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Qe={map:ae,forEach:function(z,te,oe){ae(z,function(){te.apply(this,arguments)},oe)},count:function(z){var te=0;return ae(z,function(){te++}),te},toArray:function(z){return ae(z,function(te){return te})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Se.Activity=b,Se.Children=Qe,Se.Component=X,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=I,Se.StrictMode=s,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},Se.cache=function(z){return function(){return z.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(z,te,oe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ce=U({},z.props),xe=z.key;if(te!=null)for(Ce in te.key!==void 0&&(xe=""+te.key),te)!A.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ce[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=oe;else if(1<Ce){for(var qe=Array(Ce),Lt=0;Lt<Ce;Lt++)qe[Lt]=arguments[Lt+2];ce.children=qe}return R(z.type,xe,ce)},Se.createContext=function(z){return z={$$typeof:h,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},Se.createElement=function(z,te,oe){var ce,xe={},Ce=null;if(te!=null)for(ce in te.key!==void 0&&(Ce=""+te.key),te)A.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(xe[ce]=te[ce]);var qe=arguments.length-2;if(qe===1)xe.children=oe;else if(1<qe){for(var Lt=Array(qe),ht=0;ht<qe;ht++)Lt[ht]=arguments[ht+2];xe.children=Lt}if(z&&z.defaultProps)for(ce in qe=z.defaultProps,qe)xe[ce]===void 0&&(xe[ce]=qe[ce]);return R(z,Ce,xe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(z){return{$$typeof:g,render:z}},Se.isValidElement=k,Se.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:pe}},Se.memo=function(z,te){return{$$typeof:p,type:z,compare:te===void 0?null:te}},Se.startTransition=function(z){var te=C.T,oe={};C.T=oe;try{var ce=z(),xe=C.S;xe!==null&&xe(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(de,ke)}catch(Ce){ke(Ce)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),C.T=te}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(z){return C.H.use(z)},Se.useActionState=function(z,te,oe){return C.H.useActionState(z,te,oe)},Se.useCallback=function(z,te){return C.H.useCallback(z,te)},Se.useContext=function(z){return C.H.useContext(z)},Se.useDebugValue=function(){},Se.useDeferredValue=function(z,te){return C.H.useDeferredValue(z,te)},Se.useEffect=function(z,te){return C.H.useEffect(z,te)},Se.useEffectEvent=function(z){return C.H.useEffectEvent(z)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(z,te,oe){return C.H.useImperativeHandle(z,te,oe)},Se.useInsertionEffect=function(z,te){return C.H.useInsertionEffect(z,te)},Se.useLayoutEffect=function(z,te){return C.H.useLayoutEffect(z,te)},Se.useMemo=function(z,te){return C.H.useMemo(z,te)},Se.useOptimistic=function(z,te){return C.H.useOptimistic(z,te)},Se.useReducer=function(z,te,oe){return C.H.useReducer(z,te,oe)},Se.useRef=function(z){return C.H.useRef(z)},Se.useState=function(z){return C.H.useState(z)},Se.useSyncExternalStore=function(z,te,oe){return C.H.useSyncExternalStore(z,te,oe)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.4",Se}var __;function Hp(){return __||(__=1,Hm.exports=oS()),Hm.exports}var j=Hp();const Bt=rS(j);var Fm={exports:{}},ru={},Gm={exports:{}},Qm={};var E_;function lS(){return E_||(E_=1,(function(r){function e(J,ae){var pe=J.length;J.push(ae);e:for(;0<pe;){var ke=pe-1>>>1,Qe=J[ke];if(0<o(Qe,ae))J[ke]=ae,J[pe]=Qe,pe=ke;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],pe=J.pop();if(pe!==ae){J[0]=pe;e:for(var ke=0,Qe=J.length,z=Qe>>>1;ke<z;){var te=2*(ke+1)-1,oe=J[te],ce=te+1,xe=J[ce];if(0>o(oe,pe))ce<Qe&&0>o(xe,oe)?(J[ke]=xe,J[ce]=pe,ke=ce):(J[ke]=oe,J[te]=pe,ke=te);else if(ce<Qe&&0>o(xe,pe))J[ke]=xe,J[ce]=pe,ke=ce;else break e}}return ae}function o(J,ae){var pe=J.sortIndex-ae.sortIndex;return pe!==0?pe:J.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var m=[],p=[],v=1,b=null,x=3,N=!1,O=!1,U=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=J)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function le(J){if(U=!1,re(J),!O)if(n(m)!==null)O=!0,de||(de=!0,H());else{var ae=n(p);ae!==null&&Ge(le,ae.startTime-J)}}var de=!1,C=-1,A=5,R=-1;function P(){return V?!0:!(r.unstable_now()-R<A)}function k(){if(V=!1,de){var J=r.unstable_now();R=J;var ae=!0;try{e:{O=!1,U&&(U=!1,B(C),C=-1),N=!0;var pe=x;try{t:{for(re(J),b=n(m);b!==null&&!(b.expirationTime>J&&P());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,x=b.priorityLevel;var Qe=ke(b.expirationTime<=J);if(J=r.unstable_now(),typeof Qe=="function"){b.callback=Qe,re(J),ae=!0;break t}b===n(m)&&s(m),re(J)}else s(m);b=n(m)}if(b!==null)ae=!0;else{var z=n(p);z!==null&&Ge(le,z.startTime-J),ae=!1}}break e}finally{b=null,x=pe,N=!1}ae=void 0}}finally{ae?H():de=!1}}}var H;if(typeof I=="function")H=function(){I(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,je=D.port2;D.port1.onmessage=k,H=function(){je.postMessage(null)}}else H=function(){X(k,0)};function Ge(J,ae){C=X(function(){J(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(J){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var pe=x;x=ae;try{return J()}finally{x=pe}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var pe=x;x=J;try{return ae()}finally{x=pe}},r.unstable_scheduleCallback=function(J,ae,pe){var ke=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ke+pe:ke):pe=ke,J){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=pe+Qe,J={id:v++,callback:ae,priorityLevel:J,startTime:pe,expirationTime:Qe,sortIndex:-1},pe>ke?(J.sortIndex=pe,e(p,J),n(m)===null&&J===n(p)&&(U?(B(C),C=-1):U=!0,Ge(le,pe-ke))):(J.sortIndex=Qe,e(m,J),O||N||(O=!0,de||(de=!0,H()))),J},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(J){var ae=x;return function(){var pe=x;x=ae;try{return J.apply(this,arguments)}finally{x=pe}}}})(Qm)),Qm}var b_;function uS(){return b_||(b_=1,Gm.exports=lS()),Gm.exports}var Ym={exports:{}},an={};var T_;function cS(){if(T_)return an;T_=1;var r=Hp();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,v)},an.flushSync=function(m){var p=h.T,v=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=p,s.p=v,s.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=g(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:N}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=g(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=g(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,v){return h.H.useFormState(m,p,v)},an.useFormStatus=function(){return h.H.useHostTransitionStatus()},an.version="19.2.4",an}var x_;function hS(){if(x_)return Ym.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ym.exports=cS(),Ym.exports}var w_;function dS(){if(w_)return ru;w_=1;var r=uS(),e=Hp(),n=hS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return m(d),t;if(f===l)return m(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var E=!1,w=d.child;w;){if(w===a){E=!0,a=d,l=f;break}if(w===l){E=!0,l=d,a=f;break}w=w.sibling}if(!E){for(w=f.child;w;){if(w===a){E=!0,a=f,l=d;break}if(w===l){E=!0,l=f,a=d;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),I=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case X:return"Profiler";case V:return"StrictMode";case le:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case I:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:je(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return je(t(i))}catch{}}return null}var Ge=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ke=[],Qe=-1;function z(t){return{current:t}}function te(t){0>Qe||(t.current=ke[Qe],ke[Qe]=null,Qe--)}function oe(t,i){Qe++,ke[Qe]=t.current,t.current=i}var ce=z(null),xe=z(null),Ce=z(null),qe=z(null);function Lt(t,i){switch(oe(Ce,i),oe(xe,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?U0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=U0(i),t=z0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ce),oe(ce,t)}function ht(){te(ce),te(xe),te(Ce)}function Ls(t){t.memoizedState!==null&&oe(qe,t);var i=ce.current,a=z0(i,t.type);i!==a&&(oe(xe,t),oe(ce,a))}function ja(t){xe.current===t&&(te(ce),te(xe)),qe.current===t&&(te(qe),Zl._currentValue=pe)}var ka,Va;function Ei(t){if(ka===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ka=i&&i[1]||"",Va=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+t+Va}var Zo=!1;function Us(t,i){if(!t||Zo)return"";Zo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var Y=$}Reflect.construct(t,[],ne)}else{try{ne.call()}catch($){Y=$}t.call(ne.prototype)}}else{try{throw Error()}catch($){Y=$}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],w=f[1];if(E&&w){var M=E.split(`
`),Q=w.split(`
`);for(d=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(l===M.length||d===Q.length)for(l=M.length-1,d=Q.length-1;1<=l&&0<=d&&M[l]!==Q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(M[l]!==Q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||M[l]!==Q[d]){var W=`
`+M[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=d);break}}}finally{Zo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ei(a):""}function el(t,i){switch(t.tag){case 26:case 27:case 5:return Ei(t.type);case 16:return Ei("Lazy");case 13:return t.child!==i&&i!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Us(t.type,!1);case 11:return Us(t.type.render,!1);case 1:return Us(t.type,!0);case 31:return Ei("Activity");default:return""}}function tl(t){try{var i="",a=null;do i+=el(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Mr=r.unstable_cancelCallback,Hd=r.unstable_shouldYield,Xu=r.unstable_requestPaint,hn=r.unstable_now,zs=r.unstable_getCurrentPriorityLevel,nl=r.unstable_ImmediatePriority,il=r.unstable_UserBlockingPriority,jr=r.unstable_NormalPriority,Fd=r.unstable_LowPriority,Ju=r.unstable_IdlePriority,Wu=r.log,Zu=r.unstable_setDisableYieldValue,ni=null,$t=null;function Un(t){if(typeof Wu=="function"&&Zu(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ni,t)}catch{}}var bt=Math.clz32?Math.clz32:tc,ec=Math.log,Pa=Math.LN2;function tc(t){return t>>>=0,t===0?32:31-(ec(t)/Pa|0)|0}var bi=256,Bs=262144,Nt=4194304;function Ti(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?d=Ti(l):(E&=w,E!==0?d=Ti(E):a||(a=w&~t,a!==0&&(d=Ti(a))))):(w=l&~f,w!==0?d=Ti(w):E!==0?d=Ti(E):a||(a=l&~t,a!==0&&(d=Ti(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function ii(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Gd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function wi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function qs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qd(t,i,a,l,d,f){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,M=t.expirationTimes,Q=t.hiddenUpdates;for(a=E&~a;0<a;){var W=31-bt(a),ne=1<<W;w[W]=0,M[W]=-1;var Y=Q[W];if(Y!==null)for(Q[W]=null,W=0;W<Y.length;W++){var $=Y[W];$!==null&&($.lane&=-536870913)}a&=~ne}l!==0&&Hs(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~i))}function Hs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-bt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function rl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-bt(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function sl(t,i){var a=i&-i;return a=(a&42)!==0?1:Fs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ic(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:u_(t.type))}function ri(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var si=Math.random().toString(36).slice(2),Rt="__reactFiber$"+si,Gt="__reactProps$"+si,Si="__reactContainer$"+si,La="__reactEvents$"+si,Yd="__reactListeners$"+si,rc="__reactHandles$"+si,sc="__reactResources$"+si,Ai="__reactMarker$"+si;function Ua(t){delete t[Rt],delete t[Gt],delete t[La],delete t[Yd],delete t[rc]}function Ni(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Si]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Y0(t);t!==null;){if(a=t[Rt])return a;t=Y0(t)}return i}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Rt]||t[Si]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ri(t){var i=t[sc];return i||(i=t[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[Ai]=!0}var al=new Set,ol={};function Ci(t,i){Ii(t,i),Ii(t+"Capture",i)}function Ii(t,i){for(ol[t]=i,t=0;t<i.length;t++)al.add(i[t])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function ac(t){return At.call(cl,t)?!0:At.call(ul,t)?!1:ll.test(t)?cl[t]=!0:(ul[t]=!0,!1)}function za(t,i,a){if(ac(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Nn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function It(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){a=""+E,f.call(this,E)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function We(t){if(!t._valueTracker){var i=kr(t)?"checked":"value";t._valueTracker=hl(t,i,""+t[i])}}function Gs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=kr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qs=/[\n"\\]/g;function gn(t){return t.replace(Qs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ba(t,i,a,l,d,f,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Qt(i)):t.value!==""+Qt(i)&&(t.value=""+Qt(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?dl(t,E,Qt(i)):a!=null?dl(t,E,Qt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Qt(w):t.removeAttribute("name")}function oc(t,i,a,l,d,f,E,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){We(t);return}a=a!=null?""+Qt(a):"",i=i!=null?""+Qt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),We(t)}function dl(t,i,a){i==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vr(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function lc(t,i,a){if(i!=null&&(i=""+Qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Qt(a):""}function Pr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ge(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Qt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),We(t)}function yn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||uc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ml(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&fl(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&fl(t,f,i[f])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return Lr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var pl=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ur=null,Oi=null;function Ys(t){var i=zn(t);if(i&&(t=i.stateNode)){var a=t[Gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Gt]||null;if(!d)throw Error(s(90));Ba(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Gs(l)}break e;case"textarea":lc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Vr(t,!!a.multiple,i,!1)}}}var Fa=!1;function zr(t,i,a){if(Fa)return t(i,a);Fa=!0;try{var l=t(i);return l}finally{if(Fa=!1,(Ur!==null||Oi!==null)&&(ih(),Ur&&(i=Ur,t=Oi,Oi=Ur=null,Ys(i),t)))for(i=0;i<t.length;i++)Ys(t[i])}}function oi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(qn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Ks=!1}var Mi=null,gl=null,$s=null;function yl(){if($s)return $s;var t,i=gl,a=i.length,l,d="value"in Mi?Mi.value:Mi.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===d[f-l];l++);return $s=d.slice(t,1<l?1-l:void 0)}function Xs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function li(){return!1}function Xt(t){function i(a,l,d,f,E){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:li,this.isPropagationStopped=li,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),i}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Xt(Zi),Br=b({},Zi,{view:0,detail:0}),vl=Xt(Br),qr,Ga,ki,Qa=b({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(qr=t.screenX-ki.screenX,Ga=t.screenY-ki.screenY):Ga=qr=0,ki=t),qr)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),_l=Xt(Qa),Js=b({},Qa,{dataTransfer:0}),hc=Xt(Js),dc=b({},Br,{relatedTarget:0}),Ws=Xt(dc),El=b({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=Xt(El),Ya=b({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mc=Xt(Ya),pc=b({},Zi,{data:0}),Vi=Xt(pc),gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=vc[t])?!!i[t]:!1}function Hr(){return _c}var dn=b({},Br,{key:function(t){if(t.key){var i=gc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ec=Xt(dn),bc=b({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=Xt(bc),c=b({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),_=Xt(c),T=b({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Xt(T),F=b({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Xt(F),se=b({},Zi,{newState:0,oldState:0}),Ne=Xt(se),Tt=[9,13,27,32],$e=qn&&"CompositionEvent"in window,dt=null;qn&&"documentMode"in document&&(dt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!dt,Pi=qn&&(!$e||dt&&8<dt&&11>=dt),ui=" ",ci=!1;function Zs(t,i){switch(t){case"keyup":return Tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function R1(t,i){switch(t){case"compositionend":return Ka(i);case"keypress":return i.which!==32?null:(ci=!0,ui);case"textInput":return t=i.data,t===ui&&ci?null:t;default:return null}}function C1(t,i){if($a)return t==="compositionend"||!$e&&Zs(t,i)?(t=yl(),$s=gl=Mi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pi&&i.locale!=="ko"?null:i.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!I1[t.type]:i==="textarea"}function Jg(t,i,a,l){Ur?Oi?Oi.push(l):Oi=[l]:Ur=l,i=ch(i,"onChange"),0<i.length&&(a=new ji("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var bl=null,Tl=null;function D1(t){M0(t,0)}function Tc(t){var i=An(t);if(Gs(i))return t}function Wg(t,i){if(t==="change")return i}var Zg=!1;if(qn){var Kd;if(qn){var $d="oninput"in document;if(!$d){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),$d=typeof ey.oninput=="function"}Kd=$d}else Kd=!1;Zg=Kd&&(!document.documentMode||9<document.documentMode)}function ty(){bl&&(bl.detachEvent("onpropertychange",ny),Tl=bl=null)}function ny(t){if(t.propertyName==="value"&&Tc(Tl)){var i=[];Jg(i,Tl,t,Bn(t)),zr(D1,i)}}function O1(t,i,a){t==="focusin"?(ty(),bl=i,Tl=a,bl.attachEvent("onpropertychange",ny)):t==="focusout"&&ty()}function M1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(Tl)}function j1(t,i){if(t==="click")return Tc(i)}function k1(t,i){if(t==="input"||t==="change")return Tc(i)}function V1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rn=typeof Object.is=="function"?Object.is:V1;function xl(t,i){if(Rn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!At.call(i,d)||!Rn(t[d],i[d]))return!1}return!0}function iy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ry(t,i){var a=iy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=iy(a)}}function sy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ay(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Di(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Di(t.document)}return i}function Xd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var P1=qn&&"documentMode"in document&&11>=document.documentMode,Xa=null,Jd=null,wl=null,Wd=!1;function oy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wd||Xa==null||Xa!==Di(l)||(l=Xa,"selectionStart"in l&&Xd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&xl(wl,l)||(wl=l,l=ch(Jd,"onSelect"),0<l.length&&(i=new ji("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Xa)))}function ea(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ja={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Zd={},ly={};qn&&(ly=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ta(t){if(Zd[t])return Zd[t];if(!Ja[t])return t;var i=Ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ly)return Zd[t]=i[a];return t}var uy=ta("animationend"),cy=ta("animationiteration"),hy=ta("animationstart"),L1=ta("transitionrun"),U1=ta("transitionstart"),z1=ta("transitioncancel"),dy=ta("transitionend"),fy=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function hi(t,i){fy.set(t,i),Ci(i,[t])}var xc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Wa=0,tf=0;function wc(){for(var t=Wa,i=tf=Wa=0;i<t;){var a=Fn[i];Fn[i++]=null;var l=Fn[i];Fn[i++]=null;var d=Fn[i];Fn[i++]=null;var f=Fn[i];if(Fn[i++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}f!==0&&my(a,d,f)}}function Sc(t,i,a,l){Fn[Wa++]=t,Fn[Wa++]=i,Fn[Wa++]=a,Fn[Wa++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,i,a,l){return Sc(t,i,a,l),Ac(t)}function na(t,i){return Sc(t,null,null,i),Ac(t)}function my(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-bt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function Ac(t){if(50<Ql)throw Ql=0,dm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Za={};function B1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,i,a,l){return new B1(t,i,a,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tr(t,i){var a=t.alternate;return a===null?(a=Cn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function py(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Nc(t,i,a,l,d,f){var E=0;if(l=t,typeof t=="function")rf(t)&&(E=1);else if(typeof t=="string")E=Qw(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Cn(31,a,i,d),t.elementType=R,t.lanes=f,t;case U:return ia(a.children,d,f,i);case V:E=8,d|=24;break;case X:return t=Cn(12,a,i,d|2),t.elementType=X,t.lanes=f,t;case le:return t=Cn(13,a,i,d),t.elementType=le,t.lanes=f,t;case de:return t=Cn(19,a,i,d),t.elementType=de,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:E=10;break e;case B:E=9;break e;case re:E=11;break e;case C:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Cn(E,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function ia(t,i,a,l){return t=Cn(7,t,l,i),t.lanes=a,t}function sf(t,i,a){return t=Cn(6,t,null,i),t.lanes=a,t}function gy(t){var i=Cn(18,null,null,0);return i.stateNode=t,i}function af(t,i,a){return i=Cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var yy=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var a=yy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:tl(i)},yy.set(t,i),i)}return{value:t,source:i,stack:tl(i)}}var eo=[],to=0,Rc=null,Sl=0,Qn=[],Yn=0,Fr=null,Li=1,Ui="";function nr(t,i){eo[to++]=Sl,eo[to++]=Rc,Rc=t,Sl=i}function vy(t,i,a){Qn[Yn++]=Li,Qn[Yn++]=Ui,Qn[Yn++]=Fr,Fr=t;var l=Li;t=Ui;var d=32-bt(l)-1;l&=~(1<<d),a+=1;var f=32-bt(i)+d;if(30<f){var E=d-d%5;f=(l&(1<<E)-1).toString(32),l>>=E,d-=E,Li=1<<32-bt(i)+d|a<<d|l,Ui=f+t}else Li=1<<f|a<<d|l,Ui=t}function of(t){t.return!==null&&(nr(t,1),vy(t,1,0))}function lf(t){for(;t===Rc;)Rc=eo[--to],eo[to]=null,Sl=eo[--to],eo[to]=null;for(;t===Fr;)Fr=Qn[--Yn],Qn[Yn]=null,Ui=Qn[--Yn],Qn[Yn]=null,Li=Qn[--Yn],Qn[Yn]=null}function _y(t,i){Qn[Yn++]=Li,Qn[Yn++]=Ui,Qn[Yn++]=Fr,Li=i.id,Ui=i.overflow,Fr=t}var Jt=null,ot=null,Be=!1,Gr=null,Kn=!1,uf=Error(s(519));function Qr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Gn(i,t)),uf}function Ey(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[Gt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Kl.length;a++)Oe(Kl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),oc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Pr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||P0(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=ai),i=!0):i=!1,i||Qr(t,!0)}function by(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Jt=Jt.return}}function no(t){if(t!==Jt)return!1;if(!Be)return by(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Nm(t.type,t.memoizedProps)),a=!a),a&&ot&&Qr(t),by(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=Q0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=Q0(t)}else i===27?(i=ot,as(t.type)?(t=Om,Om=null,ot=t):ot=i):ot=Jt?Xn(t.stateNode.nextSibling):null;return!0}function ra(){ot=Jt=null,Be=!1}function cf(){var t=Gr;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Gr=null),t}function Al(t){Gr===null?Gr=[t]:Gr.push(t)}var hf=z(null),sa=null,ir=null;function Yr(t,i,a){oe(hf,i._currentValue),i._currentValue=a}function rr(t){t._currentValue=hf.current,te(hf)}function df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ff(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var E=d.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=d;for(var M=0;M<i.length;M++)if(w.context===i[M]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),df(f.return,a,t),l||(E=null);break e}f=w.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=a,f=E.alternate,f!==null&&(f.lanes|=a),df(E,a,t),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===t){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function io(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=d.type;Rn(d.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(d===qe.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}d=d.return}t!==null&&ff(i,t,a,l),i.flags|=262144}function Cc(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){sa=t,ir=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Ty(sa,t)}function Ic(t,i){return sa===null&&aa(t),Ty(t,i)}function Ty(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ir===null){if(t===null)throw Error(s(308));ir=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ir=ir.next=i;return a}var q1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},H1=r.unstable_scheduleCallback,F1=r.unstable_NormalPriority,Dt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new q1,data:new Map,refCount:0}}function Nl(t){t.refCount--,t.refCount===0&&H1(F1,function(){t.controller.abort()})}var Rl=null,pf=0,ro=0,so=null;function G1(t,i){if(Rl===null){var a=Rl=[];pf=0,ro=vm(),so={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pf++,i.then(xy,xy),i}function xy(){if(--pf===0&&Rl!==null){so!==null&&(so.status="fulfilled");var t=Rl;Rl=null,ro=0,so=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Q1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var wy=J.S;J.S=function(t,i){o0=hn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&G1(t,i),wy!==null&&wy(t,i)};var oa=z(null);function gf(){var t=oa.current;return t!==null?t:st.pooledCache}function Dc(t,i){i===null?oe(oa,oa.current):oe(oa,i.pool)}function Sy(){var t=gf();return t===null?null:{parent:Dt._currentValue,pool:t}}var ao=Error(s(460)),yf=Error(s(474)),Oc=Error(s(542)),Mc={then:function(){}};function Ay(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ny(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ai,ai),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cy(t),t;default:if(typeof i.status=="string")i.then(ai,ai);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cy(t),t}throw ua=i,ao}}function la(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ua=a,ao):a}}var ua=null;function Ry(){if(ua===null)throw Error(s(459));var t=ua;return ua=null,t}function Cy(t){if(t===ao||t===Oc)throw Error(s(483))}var oo=null,Cl=0;function jc(t){var i=Cl;return Cl+=1,oo===null&&(oo=[]),Ny(oo,t,i)}function Il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function kc(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Iy(t){function i(q,L){if(t){var G=q.deletions;G===null?(q.deletions=[L],q.flags|=16):G.push(L)}}function a(q,L){if(!t)return null;for(;L!==null;)i(q,L),L=L.sibling;return null}function l(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function d(q,L){return q=tr(q,L),q.index=0,q.sibling=null,q}function f(q,L,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<L?(q.flags|=67108866,L):G):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function E(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function w(q,L,G,Z){return L===null||L.tag!==6?(L=sf(G,q.mode,Z),L.return=q,L):(L=d(L,G),L.return=q,L)}function M(q,L,G,Z){var ge=G.type;return ge===U?W(q,L,G.props.children,Z,G.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&la(ge)===L.type)?(L=d(L,G.props),Il(L,G),L.return=q,L):(L=Nc(G.type,G.key,G.props,null,q.mode,Z),Il(L,G),L.return=q,L)}function Q(q,L,G,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=af(G,q.mode,Z),L.return=q,L):(L=d(L,G.children||[]),L.return=q,L)}function W(q,L,G,Z,ge){return L===null||L.tag!==7?(L=ia(G,q.mode,Z,ge),L.return=q,L):(L=d(L,G),L.return=q,L)}function ne(q,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=sf(""+L,q.mode,G),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return G=Nc(L.type,L.key,L.props,null,q.mode,G),Il(G,L),G.return=q,G;case O:return L=af(L,q.mode,G),L.return=q,L;case A:return L=la(L),ne(q,L,G)}if(Ge(L)||H(L))return L=ia(L,q.mode,G,null),L.return=q,L;if(typeof L.then=="function")return ne(q,jc(L),G);if(L.$$typeof===I)return ne(q,Ic(q,L),G);kc(q,L)}return null}function Y(q,L,G,Z){var ge=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ge!==null?null:w(q,L,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case N:return G.key===ge?M(q,L,G,Z):null;case O:return G.key===ge?Q(q,L,G,Z):null;case A:return G=la(G),Y(q,L,G,Z)}if(Ge(G)||H(G))return ge!==null?null:W(q,L,G,Z,null);if(typeof G.then=="function")return Y(q,L,jc(G),Z);if(G.$$typeof===I)return Y(q,L,Ic(q,G),Z);kc(q,G)}return null}function $(q,L,G,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return q=q.get(G)||null,w(L,q,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return q=q.get(Z.key===null?G:Z.key)||null,M(L,q,Z,ge);case O:return q=q.get(Z.key===null?G:Z.key)||null,Q(L,q,Z,ge);case A:return Z=la(Z),$(q,L,G,Z,ge)}if(Ge(Z)||H(Z))return q=q.get(G)||null,W(L,q,Z,ge,null);if(typeof Z.then=="function")return $(q,L,G,jc(Z),ge);if(Z.$$typeof===I)return $(q,L,G,Ic(L,Z),ge);kc(L,Z)}return null}function fe(q,L,G,Z){for(var ge=null,Ye=null,me=L,Ie=L=0,Pe=null;me!==null&&Ie<G.length;Ie++){me.index>Ie?(Pe=me,me=null):Pe=me.sibling;var Ke=Y(q,me,G[Ie],Z);if(Ke===null){me===null&&(me=Pe);break}t&&me&&Ke.alternate===null&&i(q,me),L=f(Ke,L,Ie),Ye===null?ge=Ke:Ye.sibling=Ke,Ye=Ke,me=Pe}if(Ie===G.length)return a(q,me),Be&&nr(q,Ie),ge;if(me===null){for(;Ie<G.length;Ie++)me=ne(q,G[Ie],Z),me!==null&&(L=f(me,L,Ie),Ye===null?ge=me:Ye.sibling=me,Ye=me);return Be&&nr(q,Ie),ge}for(me=l(me);Ie<G.length;Ie++)Pe=$(me,q,Ie,G[Ie],Z),Pe!==null&&(t&&Pe.alternate!==null&&me.delete(Pe.key===null?Ie:Pe.key),L=f(Pe,L,Ie),Ye===null?ge=Pe:Ye.sibling=Pe,Ye=Pe);return t&&me.forEach(function(hs){return i(q,hs)}),Be&&nr(q,Ie),ge}function Ee(q,L,G,Z){if(G==null)throw Error(s(151));for(var ge=null,Ye=null,me=L,Ie=L=0,Pe=null,Ke=G.next();me!==null&&!Ke.done;Ie++,Ke=G.next()){me.index>Ie?(Pe=me,me=null):Pe=me.sibling;var hs=Y(q,me,Ke.value,Z);if(hs===null){me===null&&(me=Pe);break}t&&me&&hs.alternate===null&&i(q,me),L=f(hs,L,Ie),Ye===null?ge=hs:Ye.sibling=hs,Ye=hs,me=Pe}if(Ke.done)return a(q,me),Be&&nr(q,Ie),ge;if(me===null){for(;!Ke.done;Ie++,Ke=G.next())Ke=ne(q,Ke.value,Z),Ke!==null&&(L=f(Ke,L,Ie),Ye===null?ge=Ke:Ye.sibling=Ke,Ye=Ke);return Be&&nr(q,Ie),ge}for(me=l(me);!Ke.done;Ie++,Ke=G.next())Ke=$(me,q,Ie,Ke.value,Z),Ke!==null&&(t&&Ke.alternate!==null&&me.delete(Ke.key===null?Ie:Ke.key),L=f(Ke,L,Ie),Ye===null?ge=Ke:Ye.sibling=Ke,Ye=Ke);return t&&me.forEach(function(iS){return i(q,iS)}),Be&&nr(q,Ie),ge}function rt(q,L,G,Z){if(typeof G=="object"&&G!==null&&G.type===U&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case N:e:{for(var ge=G.key;L!==null;){if(L.key===ge){if(ge=G.type,ge===U){if(L.tag===7){a(q,L.sibling),Z=d(L,G.props.children),Z.return=q,q=Z;break e}}else if(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&la(ge)===L.type){a(q,L.sibling),Z=d(L,G.props),Il(Z,G),Z.return=q,q=Z;break e}a(q,L);break}else i(q,L);L=L.sibling}G.type===U?(Z=ia(G.props.children,q.mode,Z,G.key),Z.return=q,q=Z):(Z=Nc(G.type,G.key,G.props,null,q.mode,Z),Il(Z,G),Z.return=q,q=Z)}return E(q);case O:e:{for(ge=G.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(q,L.sibling),Z=d(L,G.children||[]),Z.return=q,q=Z;break e}else{a(q,L);break}else i(q,L);L=L.sibling}Z=af(G,q.mode,Z),Z.return=q,q=Z}return E(q);case A:return G=la(G),rt(q,L,G,Z)}if(Ge(G))return fe(q,L,G,Z);if(H(G)){if(ge=H(G),typeof ge!="function")throw Error(s(150));return G=ge.call(G),Ee(q,L,G,Z)}if(typeof G.then=="function")return rt(q,L,jc(G),Z);if(G.$$typeof===I)return rt(q,L,Ic(q,G),Z);kc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(q,L.sibling),Z=d(L,G),Z.return=q,q=Z):(a(q,L),Z=sf(G,q.mode,Z),Z.return=q,q=Z),E(q)):a(q,L)}return function(q,L,G,Z){try{Cl=0;var ge=rt(q,L,G,Z);return oo=null,ge}catch(me){if(me===ao||me===Oc)throw me;var Ye=Cn(29,me,null,q.mode);return Ye.lanes=Z,Ye.return=q,Ye}}}var ca=Iy(!0),Dy=Iy(!1),Kr=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Ac(t),my(t,null,a),i}return Sc(t,l,i,a),Ac(t)}function Dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,rl(t,a)}}function Ef(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=E:f=f.next=E,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var bf=!1;function Ol(){if(bf){var t=so;if(t!==null)throw t}}function Ml(t,i,a,l){bf=!1;var d=t.updateQueue;Kr=!1;var f=d.firstBaseUpdate,E=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var M=w,Q=M.next;M.next=null,E===null?f=Q:E.next=Q,E=M;var W=t.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==E&&(w===null?W.firstBaseUpdate=Q:w.next=Q,W.lastBaseUpdate=M))}if(f!==null){var ne=d.baseState;E=0,W=Q=M=null,w=f;do{var Y=w.lane&-536870913,$=Y!==w.lane;if($?(Ve&Y)===Y:(l&Y)===Y){Y!==0&&Y===ro&&(bf=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=t,Ee=w;Y=i;var rt=a;switch(Ee.tag){case 1:if(fe=Ee.payload,typeof fe=="function"){ne=fe.call(rt,ne,Y);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ee.payload,Y=typeof fe=="function"?fe.call(rt,ne,Y):fe,Y==null)break e;ne=b({},ne,Y);break e;case 2:Kr=!0}}Y=w.callback,Y!==null&&(t.flags|=64,$&&(t.flags|=8192),$=d.callbacks,$===null?d.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(Q=W=$,M=ne):W=W.next=$,E|=Y;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;$=w,w=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);W===null&&(M=ne),d.baseState=M,d.firstBaseUpdate=Q,d.lastBaseUpdate=W,f===null&&(d.shared.lanes=0),ts|=E,t.lanes=E,t.memoizedState=ne}}function Oy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function My(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Oy(a[t],i)}var lo=z(null),Vc=z(0);function jy(t,i){t=fr,oe(Vc,t),oe(lo,i),fr=t|i.baseLanes}function Tf(){oe(Vc,fr),oe(lo,lo.current)}function xf(){fr=Vc.current,te(lo),te(Vc)}var In=z(null),$n=null;function Jr(t){var i=t.alternate;oe(xt,xt.current&1),oe(In,t),$n===null&&(i===null||lo.current!==null||i.memoizedState!==null)&&($n=t)}function wf(t){oe(xt,xt.current),oe(In,t),$n===null&&($n=t)}function ky(t){t.tag===22?(oe(xt,xt.current),oe(In,t),$n===null&&($n=t)):Wr()}function Wr(){oe(xt,xt.current),oe(In,In.current)}function Dn(t){te(In),$n===t&&($n=null),te(xt)}var xt=z(0);function Pc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Im(a)||Dm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var sr=0,Re=null,nt=null,Ot=null,Lc=!1,uo=!1,ha=!1,Uc=0,jl=0,co=null,Y1=0;function gt(){throw Error(s(321))}function Sf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Rn(t[a],i[a]))return!1;return!0}function Af(t,i,a,l,d,f){return sr=f,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?vv:Bf,ha=!1,f=a(l,d),ha=!1,uo&&(f=Py(i,a,l,d)),Vy(t),f}function Vy(t){J.H=Pl;var i=nt!==null&&nt.next!==null;if(sr=0,Ot=nt=Re=null,Lc=!1,jl=0,co=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&Cc(t)&&(Mt=!0))}function Py(t,i,a,l){Re=t;var d=0;do{if(uo&&(co=null),jl=0,uo=!1,25<=d)throw Error(s(301));if(d+=1,Ot=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}J.H=_v,f=i(a,l)}while(uo);return f}function K1(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?kl(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Re.flags|=1024),i}function Nf(){var t=Uc!==0;return Uc=0,t}function Rf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Cf(t){if(Lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Lc=!1}sr=0,Ot=nt=Re=null,uo=!1,jl=Uc=0,co=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Re.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function wt(){if(nt===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=Ot===null?Re.memoizedState:Ot.next;if(i!==null)Ot=i,nt=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ot===null?Re.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(t){var i=jl;return jl+=1,co===null&&(co=[]),t=Ny(co,t,i),i=Re,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?vv:Bf),t}function Bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kl(t);if(t.$$typeof===I)return Wt(t)}throw Error(s(438,String(t)))}function If(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=zc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=P;return i.index++,a}function ar(t,i){return typeof i=="function"?i(t):i}function qc(t){var i=wt();return Df(i,nt,t)}function Df(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var E=d.next;d.next=f.next,f.next=E}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var w=E=null,M=null,Q=i,W=!1;do{var ne=Q.lane&-536870913;if(ne!==Q.lane?(Ve&ne)===ne:(sr&ne)===ne){var Y=Q.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ne===ro&&(W=!0);else if((sr&Y)===Y){Q=Q.next,Y===ro&&(W=!0);continue}else ne={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},M===null?(w=M=ne,E=f):M=M.next=ne,Re.lanes|=Y,ts|=Y;ne=Q.action,ha&&a(f,ne),f=Q.hasEagerState?Q.eagerState:a(f,ne)}else Y={lane:ne,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},M===null?(w=M=Y,E=f):M=M.next=Y,Re.lanes|=ne,ts|=ne;Q=Q.next}while(Q!==null&&Q!==i);if(M===null?E=f:M.next=w,!Rn(f,t.memoizedState)&&(Mt=!0,W&&(a=so,a!==null)))throw a;t.memoizedState=f,t.baseState=E,t.baseQueue=M,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Of(t){var i=wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do f=t(f,E.action),E=E.next;while(E!==d);Rn(f,i.memoizedState)||(Mt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Ly(t,i,a){var l=Re,d=wt(),f=Be;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Rn((nt||d).memoizedState,a);if(E&&(d.memoizedState=a,Mt=!0),d=d.queue,kf(By.bind(null,l,d,t),[t]),d.getSnapshot!==i||E||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,ho(9,{destroy:void 0},zy.bind(null,l,d,a,i),null),st===null)throw Error(s(349));f||(sr&127)!==0||Uy(l,i,a)}return a}function Uy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=zc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function zy(t,i,a,l){i.value=a,i.getSnapshot=l,qy(i)&&Hy(t)}function By(t,i,a){return a(function(){qy(i)&&Hy(t)})}function qy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Rn(t,a)}catch{return!0}}function Hy(t){var i=na(t,2);i!==null&&Tn(i,t,2)}function Mf(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),ha){Un(!0);try{a()}finally{Un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:t},i}function Fy(t,i,a,l){return t.baseState=a,Df(t,nt,typeof l=="function"?l:ar)}function $1(t,i,a,l,d){if(Gc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};J.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Gy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Gy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=J.T,E={};J.T=E;try{var w=a(d,l),M=J.S;M!==null&&M(E,w),Qy(t,i,w)}catch(Q){jf(t,i,Q)}finally{f!==null&&E.types!==null&&(f.types=E.types),J.T=f}}else try{f=a(d,l),Qy(t,i,f)}catch(Q){jf(t,i,Q)}}function Qy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yy(t,i,l)},function(l){return jf(t,i,l)}):Yy(t,i,a)}function Yy(t,i,a){i.status="fulfilled",i.value=a,Ky(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gy(t,a)))}function jf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ky(i),i=i.next;while(i!==l)}t.action=null}function Ky(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function $y(t,i){return i}function Xy(t,i){if(Be){var a=st.formState;if(a!==null){e:{var l=Re;if(Be){if(ot){t:{for(var d=ot,f=Kn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Xn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ot=Xn(d.nextSibling),l=d.data==="F!";break e}}Qr(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$y,lastRenderedState:i},a.queue=l,a=pv.bind(null,Re,l),l.dispatch=a,l=Mf(!1),f=zf.bind(null,Re,!1,l.queue),l=fn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=$1.bind(null,Re,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function Jy(t){var i=wt();return Wy(i,nt,t)}function Wy(t,i,a){if(i=Df(t,i,$y)[0],t=qc(ar)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=kl(i)}catch(E){throw E===ao?Oc:E}else l=i;i=wt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,ho(9,{destroy:void 0},X1.bind(null,d,a),null)),[l,f,t]}function X1(t,i){t.action=i}function Zy(t){var i=wt(),a=nt;if(a!==null)return Wy(i,a,t);wt(),i=i.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ho(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=zc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ev(){return wt().memoizedState}function Hc(t,i,a,l){var d=fn();Re.flags|=t,d.memoizedState=ho(1|i,{destroy:void 0},a,l===void 0?null:l)}function Fc(t,i,a,l){var d=wt();l=l===void 0?null:l;var f=d.memoizedState.inst;nt!==null&&l!==null&&Sf(l,nt.memoizedState.deps)?d.memoizedState=ho(i,f,a,l):(Re.flags|=t,d.memoizedState=ho(1|i,f,a,l))}function tv(t,i){Hc(8390656,8,t,i)}function kf(t,i){Fc(2048,8,t,i)}function J1(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=zc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function nv(t){var i=wt().memoizedState;return J1({ref:i,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function iv(t,i){return Fc(4,2,t,i)}function rv(t,i){return Fc(4,4,t,i)}function sv(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function av(t,i,a){a=a!=null?a.concat([t]):null,Fc(4,4,sv.bind(null,i,t),a)}function Vf(){}function ov(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function lv(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=t(),ha){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,i],l}function Pf(t,i,a){return a===void 0||(sr&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=u0(),Re.lanes|=t,ts|=t,a)}function uv(t,i,a,l){return Rn(a,i)?a:lo.current!==null?(t=Pf(t,a,l),Rn(t,i)||(Mt=!0),t):(sr&42)===0||(sr&1073741824)!==0&&(Ve&261930)===0?(Mt=!0,t.memoizedState=a):(t=u0(),Re.lanes|=t,ts|=t,i)}function cv(t,i,a,l,d){var f=ae.p;ae.p=f!==0&&8>f?f:8;var E=J.T,w={};J.T=w,zf(t,!1,i,a);try{var M=d(),Q=J.S;if(Q!==null&&Q(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=Q1(M,l);Vl(t,i,W,jn(t))}else Vl(t,i,l,jn(t))}catch(ne){Vl(t,i,{then:function(){},status:"rejected",reason:ne},jn())}finally{ae.p=f,E!==null&&w.types!==null&&(E.types=w.types),J.T=E}}function W1(){}function Lf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=hv(t).queue;cv(t,d,i,pe,a===null?W1:function(){return dv(t),a(l)})}function hv(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function dv(t){var i=hv(t);i.next===null&&(i=t.alternate.memoizedState),Vl(t,i.next.queue,{},jn())}function Uf(){return Wt(Zl)}function fv(){return wt().memoizedState}function mv(){return wt().memoizedState}function Z1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=jn();t=$r(a);var l=Xr(i,t,a);l!==null&&(Tn(l,i,a),Dl(l,i,a)),i={cache:mf()},t.payload=i;return}i=i.return}}function ew(t,i,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gc(t)?gv(i,a):(a=nf(t,i,a,l),a!==null&&(Tn(a,t,l),yv(a,i,l)))}function pv(t,i,a){var l=jn();Vl(t,i,a,l)}function Vl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gc(t))gv(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,w=f(E,a);if(d.hasEagerState=!0,d.eagerState=w,Rn(w,E))return Sc(t,i,d,0),st===null&&wc(),!1}catch{}if(a=nf(t,i,d,l),a!==null)return Tn(a,t,l),yv(a,i,l),!0}return!1}function zf(t,i,a,l){if(l={lane:2,revertLane:vm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gc(t)){if(i)throw Error(s(479))}else i=nf(t,a,l,2),i!==null&&Tn(i,t,2)}function Gc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function gv(t,i){uo=Lc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function yv(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,rl(t,a)}}var Pl={readContext:Wt,use:Bc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Pl.useEffectEvent=gt;var vv={readContext:Wt,use:Bc,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:tv,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Hc(4194308,4,sv.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Hc(4194308,4,t,i)},useInsertionEffect:function(t,i){Hc(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(ha){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var d=a(i);if(ha){Un(!0);try{a(i)}finally{Un(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=ew.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Mf(t);var i=t.queue,a=pv.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(t,i){var a=fn();return Pf(a,t,i)},useTransition:function(){var t=Mf(!1);return t=cv.bind(null,Re,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,d=fn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),st===null)throw Error(s(349));(Ve&127)!==0||Uy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,tv(By.bind(null,l,f,t),[t]),l.flags|=2048,ho(9,{destroy:void 0},zy.bind(null,l,f,a,i),null),a},useId:function(){var t=fn(),i=st.identifierPrefix;if(Be){var a=Ui,l=Li;a=(l&~(1<<32-bt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Uc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Y1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Uf,useFormState:Xy,useActionState:Xy,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:If,useCacheRefresh:function(){return fn().memoizedState=Z1.bind(null,Re)},useEffectEvent:function(t){var i=fn(),a={impl:t};return i.memoizedState=a,function(){if((Xe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:Wt,use:Bc,useCallback:ov,useContext:Wt,useEffect:kf,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:qc,useRef:ev,useState:function(){return qc(ar)},useDebugValue:Vf,useDeferredValue:function(t,i){var a=wt();return uv(a,nt.memoizedState,t,i)},useTransition:function(){var t=qc(ar)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:kl(t),i]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:Uf,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,i){var a=wt();return Fy(a,nt,t,i)},useMemoCache:If,useCacheRefresh:mv};Bf.useEffectEvent=nv;var _v={readContext:Wt,use:Bc,useCallback:ov,useContext:Wt,useEffect:kf,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:Of,useRef:ev,useState:function(){return Of(ar)},useDebugValue:Vf,useDeferredValue:function(t,i){var a=wt();return nt===null?Pf(a,t,i):uv(a,nt.memoizedState,t,i)},useTransition:function(){var t=Of(ar)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:kl(t),i]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:Uf,useFormState:Zy,useActionState:Zy,useOptimistic:function(t,i){var a=wt();return nt!==null?Fy(a,nt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:mv};_v.useEffectEvent=nv;function qf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=jn(),d=$r(l);d.payload=i,a!=null&&(d.callback=a),i=Xr(t,d,l),i!==null&&(Tn(i,t,l),Dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=jn(),d=$r(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Xr(t,d,l),i!==null&&(Tn(i,t,l),Dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=jn(),l=$r(a);l.tag=2,i!=null&&(l.callback=i),i=Xr(t,l,a),i!==null&&(Tn(i,t,a),Dl(i,t,a))}};function Ev(t,i,a,l,d,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!xl(a,l)||!xl(d,f):!0}function bv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Hf.enqueueReplaceState(i,i.state,null)}function da(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Tv(t){xc(t)}function xv(t){console.error(t)}function wv(t){xc(t)}function Qc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Sv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ff(t,i,a){return a=$r(a),a.tag=3,a.payload={element:null},a.callback=function(){Qc(t,i)},a}function Av(t){return t=$r(t),t.tag=3,t}function Nv(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Sv(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Sv(i,a,l),typeof d!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function tw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&io(i,a,d,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?rh():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Mc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),pm(t,l,d)),!1;case 22:return a.flags|=65536,l===Mc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),pm(t,l,d)),!1}throw Error(s(435,a.tag))}return pm(t,l,d),rh(),!1}if(Be)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==uf&&(t=Error(s(422),{cause:l}),Al(Gn(t,a)))):(l!==uf&&(i=Error(s(423),{cause:l}),Al(Gn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Gn(l,a),d=Ff(t.stateNode,l,d),Ef(t,d),yt!==4&&(yt=2)),!1;var f=Error(s(520),{cause:l});if(f=Gn(f,a),Gl===null?Gl=[f]:Gl.push(f),yt!==4&&(yt=2),i===null)return!0;l=Gn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Ff(a.stateNode,l,t),Ef(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ns===null||!ns.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Av(d),Nv(d,t,a,l),Ef(a,d),!1}a=a.return}while(a!==null);return!1}var Gf=Error(s(461)),Mt=!1;function Zt(t,i,a,l){i.child=t===null?Dy(i,null,a,l):ca(i,t.child,a,l)}function Rv(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return aa(i),l=Af(t,i,a,E,f,d),w=Nf(),t!==null&&!Mt?(Rf(t,i,d),or(t,i,d)):(Be&&w&&of(i),i.flags|=1,Zt(t,i,l,d),i.child)}function Cv(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Iv(t,i,f,l,d)):(t=Nc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Zf(t,d)){var E=f.memoizedProps;if(a=a.compare,a=a!==null?a:xl,a(E,l)&&t.ref===i.ref)return or(t,i,d)}return i.flags|=1,t=tr(f,l),t.ref=i.ref,t.return=i,i.child=t}function Iv(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(xl(f,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=f,Zf(t,d))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,or(t,i,d)}return Qf(t,i,a,l,d)}function Dv(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return Ov(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dc(i,f!==null?f.cachePool:null),f!==null?jy(i,f):Tf(),ky(i);else return l=i.lanes=536870912,Ov(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Dc(i,f.cachePool),jy(i,f),Wr(),i.memoizedState=null):(t!==null&&Dc(i,null),Tf(),Wr());return Zt(t,i,d,a),i.child}function Ll(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ov(t,i,a,l,d){var f=gf();return f=f===null?null:{parent:Dt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Dc(i,null),Tf(),ky(i),t!==null&&io(t,i,l,!0),i.childLanes=d,null}function Yc(t,i){return i=$c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Mv(t,i,a){return ca(i,t.child,null,a),t=Yc(i,i.pendingProps),t.flags|=2,Dn(i),i.memoizedState=null,t}function nw(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Yc(i,l),i.lanes=536870912,Ll(null,t);if(wf(i),(t=ot)?(t=G0(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Fr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=gy(t),a.return=i,i.child=a,Jt=i,ot=null)):t=null,t===null)throw Qr(i);return i.lanes=536870912,null}return Yc(i,l)}var f=t.memoizedState;if(f!==null){var E=f.dehydrated;if(wf(i),d)if(i.flags&256)i.flags&=-257,i=Mv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Mt||io(t,i,a,!1),d=(a&t.childLanes)!==0,Mt||d){if(l=st,l!==null&&(E=sl(l,a),E!==0&&E!==f.retryLane))throw f.retryLane=E,na(t,E),Tn(l,t,E),Gf;rh(),i=Mv(t,i,a)}else t=f.treeContext,ot=Xn(E.nextSibling),Jt=i,Be=!0,Gr=null,Kn=!1,t!==null&&_y(i,t),i=Yc(i,l),i.flags|=4096;return i}return t=tr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Kc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Qf(t,i,a,l,d){return aa(i),a=Af(t,i,a,l,void 0,d),l=Nf(),t!==null&&!Mt?(Rf(t,i,d),or(t,i,d)):(Be&&l&&of(i),i.flags|=1,Zt(t,i,a,d),i.child)}function jv(t,i,a,l,d,f){return aa(i),i.updateQueue=null,a=Py(i,l,a,d),Vy(t),l=Nf(),t!==null&&!Mt?(Rf(t,i,f),or(t,i,f)):(Be&&l&&of(i),i.flags|=1,Zt(t,i,a,f),i.child)}function kv(t,i,a,l,d){if(aa(i),i.stateNode===null){var f=Za,E=a.contextType;typeof E=="object"&&E!==null&&(f=Wt(E)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},vf(i),E=a.contextType,f.context=typeof E=="object"&&E!==null?Wt(E):Za,f.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(qf(i,a,E,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&Hf.enqueueReplaceState(f,f.state,null),Ml(i,l,f,d),Ol(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var w=i.memoizedProps,M=da(a,w);f.props=M;var Q=f.context,W=a.contextType;E=Za,typeof W=="object"&&W!==null&&(E=Wt(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||Q!==E)&&bv(i,f,l,E),Kr=!1;var Y=i.memoizedState;f.state=Y,Ml(i,l,f,d),Ol(),Q=i.memoizedState,w||Y!==Q||Kr?(typeof ne=="function"&&(qf(i,a,ne,l),Q=i.memoizedState),(M=Kr||Ev(i,a,M,l,Y,Q,E))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Q),f.props=l,f.state=Q,f.context=E,l=M):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,_f(t,i),E=i.memoizedProps,W=da(a,E),f.props=W,ne=i.pendingProps,Y=f.context,Q=a.contextType,M=Za,typeof Q=="object"&&Q!==null&&(M=Wt(Q)),w=a.getDerivedStateFromProps,(Q=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==ne||Y!==M)&&bv(i,f,l,M),Kr=!1,Y=i.memoizedState,f.state=Y,Ml(i,l,f,d),Ol();var $=i.memoizedState;E!==ne||Y!==$||Kr||t!==null&&t.dependencies!==null&&Cc(t.dependencies)?(typeof w=="function"&&(qf(i,a,w,l),$=i.memoizedState),(W=Kr||Ev(i,a,W,l,Y,$,M)||t!==null&&t.dependencies!==null&&Cc(t.dependencies))?(Q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,M)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),f.props=l,f.state=$,f.context=M,l=W):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Kc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ca(i,t.child,null,d),i.child=ca(i,null,a,d)):Zt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=or(t,i,d),t}function Vv(t,i,a,l){return ra(),i.flags|=256,Zt(t,i,a,l),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:Sy()}}function $f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function Pv(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),E&&(d=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(d?Jr(i):Wr(),(t=ot)?(t=G0(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Fr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=gy(t),a.return=i,i.child=a,Jt=i,ot=null)):t=null,t===null)throw Qr(i);return Dm(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,d?(Wr(),d=i.mode,w=$c({mode:"hidden",children:w},d),l=ia(l,d,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=Kf(a),l.childLanes=$f(t,E,a),i.memoizedState=Yf,Ll(null,l)):(Jr(i),Xf(i,w))}var M=t.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(f)i.flags&256?(Jr(i),i.flags&=-257,i=Jf(t,i,a)):i.memoizedState!==null?(Wr(),i.child=t.child,i.flags|=128,i=null):(Wr(),w=l.fallback,d=i.mode,l=$c({mode:"visible",children:l.children},d),w=ia(w,d,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,ca(i,t.child,null,a),l=i.child,l.memoizedState=Kf(a),l.childLanes=$f(t,E,a),i.memoizedState=Yf,i=Ll(null,l));else if(Jr(i),Dm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var Q=E.dgst;E=Q,l=Error(s(419)),l.stack="",l.digest=E,Al({value:l,source:null,stack:null}),i=Jf(t,i,a)}else if(Mt||io(t,i,a,!1),E=(a&t.childLanes)!==0,Mt||E){if(E=st,E!==null&&(l=sl(E,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,na(t,l),Tn(E,t,l),Gf;Im(w)||rh(),i=Jf(t,i,a)}else Im(w)?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,ot=Xn(w.nextSibling),Jt=i,Be=!0,Gr=null,Kn=!1,t!==null&&_y(i,t),i=Xf(i,l.children),i.flags|=4096);return i}return d?(Wr(),w=l.fallback,d=i.mode,M=t.child,Q=M.sibling,l=tr(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,Q!==null?w=tr(Q,w):(w=ia(w,d,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,Ll(null,l),l=i.child,w=t.child.memoizedState,w===null?w=Kf(a):(d=w.cachePool,d!==null?(M=Dt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Sy(),w={baseLanes:w.baseLanes|a,cachePool:d}),l.memoizedState=w,l.childLanes=$f(t,E,a),i.memoizedState=Yf,Ll(t.child,l)):(Jr(i),a=t.child,t=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function Xf(t,i){return i=$c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function $c(t,i){return t=Cn(22,t,null,i),t.lanes=0,t}function Jf(t,i,a){return ca(i,t.child,null,a),t=Xf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Lv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),df(t.return,i,a)}function Wf(t,i,a,l,d,f){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=d,E.treeForkCount=f)}function Uv(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var E=xt.current,w=(E&2)!==0;if(w?(E=E&1|2,i.flags|=128):E&=1,oe(xt,E),Zt(t,i,l,a),l=Be?Sl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lv(t,a,i);else if(t.tag===19)Lv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Pc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Wf(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Pc(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Wf(i,!0,a,null,f,l);break;case"together":Wf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function or(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ts|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(io(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=tr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=tr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Cc(t)))}function iw(t,i,a){switch(i.tag){case 3:Lt(i,i.stateNode.containerInfo),Yr(i,Dt,t.memoizedState.cache),ra();break;case 27:case 5:Ls(i);break;case 4:Lt(i,i.stateNode.containerInfo);break;case 10:Yr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Pv(t,i,a):(Jr(i),t=or(t,i,a),t!==null?t.sibling:null);Jr(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(io(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return Uv(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(xt,xt.current),l)break;return null;case 22:return i.lanes=0,Dv(t,i,a,i.pendingProps);case 24:Yr(i,Dt,t.memoizedState.cache)}return or(t,i,a)}function zv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Zf(t,a)&&(i.flags&128)===0)return Mt=!1,iw(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,Be&&(i.flags&1048576)!==0&&vy(i,Sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=la(i.elementType),i.type=t,typeof t=="function")rf(t)?(l=da(t,l),i.tag=1,i=kv(null,i,t,l,a)):(i.tag=0,i=Qf(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===re){i.tag=11,i=Rv(null,i,t,l,a);break e}else if(d===C){i.tag=14,i=Cv(null,i,t,l,a);break e}}throw i=je(t)||t,Error(s(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=da(l,i.pendingProps),kv(t,i,l,d,a);case 3:e:{if(Lt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,_f(t,i),Ml(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Yr(i,Dt,l),l!==f.cache&&ff(i,[Dt],a,!0),Ol(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Vv(t,i,l,a);break e}else if(l!==d){d=Gn(Error(s(424)),i),Al(d),i=Vv(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Xn(t.firstChild),Jt=i,Be=!0,Gr=null,Kn=!0,a=Dy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ra(),l===d){i=or(t,i,a);break e}Zt(t,i,l,a)}i=i.child}return i;case 26:return Kc(t,i),t===null?(a=J0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=hh(Ce.current).createElement(a),l[Rt]=i,l[Gt]=t,en(l,a,t),Ct(l),i.stateNode=l):i.memoizedState=J0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ls(i),t===null&&Be&&(l=i.stateNode=K0(i.type,i.pendingProps,Ce.current),Jt=i,Kn=!0,d=ot,as(i.type)?(Om=d,ot=Xn(l.firstChild)):ot=d),Zt(t,i,i.pendingProps.children,a),Kc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((d=l=ot)&&(l=Mw(l,i.type,i.pendingProps,Kn),l!==null?(i.stateNode=l,Jt=i,ot=Xn(l.firstChild),Kn=!1,d=!0):d=!1),d||Qr(i)),Ls(i),d=i.type,f=i.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,Nm(d,f)?l=null:E!==null&&Nm(d,E)&&(i.flags|=32),i.memoizedState!==null&&(d=Af(t,i,K1,null,null,a),Zl._currentValue=d),Kc(t,i),Zt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ot)&&(a=jw(a,i.pendingProps,Kn),a!==null?(i.stateNode=a,Jt=i,ot=null,t=!0):t=!1),t||Qr(i)),null;case 13:return Pv(t,i,a);case 4:return Lt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ca(i,null,l,a):Zt(t,i,l,a),i.child;case 11:return Rv(t,i,i.type,i.pendingProps,a);case 7:return Zt(t,i,i.pendingProps,a),i.child;case 8:return Zt(t,i,i.pendingProps.children,a),i.child;case 12:return Zt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Yr(i,i.type,l.value),Zt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,aa(i),d=Wt(d),l=l(d),i.flags|=1,Zt(t,i,l,a),i.child;case 14:return Cv(t,i,i.type,i.pendingProps,a);case 15:return Iv(t,i,i.type,i.pendingProps,a);case 19:return Uv(t,i,a);case 31:return nw(t,i,a);case 22:return Dv(t,i,a,i.pendingProps);case 24:return aa(i),l=Wt(Dt),t===null?(d=gf(),d===null&&(d=st,f=mf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},vf(i),Yr(i,Dt,d)):((t.lanes&a)!==0&&(_f(t,i),Ml(i,null,null,a),Ol()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Yr(i,Dt,l)):(l=f.cache,Yr(i,Dt,l),l!==d.cache&&ff(i,[Dt],a,!0))),Zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function lr(t){t.flags|=4}function em(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(f0())t.flags|=8192;else throw ua=Mc,yf}else t.flags&=-16777217}function Bv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!n_(i))if(f0())t.flags|=8192;else throw ua=Mc,yf}function Xc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?nc():536870912,t.lanes|=i,go|=i)}function Ul(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function rw(t,i,a){var l=i.pendingProps;switch(lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),rr(Dt),ht(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(no(i)?lr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cf())),lt(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(lr(i),f!==null?(lt(i),Bv(i,f)):(lt(i),em(i,d,null,l,a))):f?f!==t.memoizedState?(lr(i),lt(i),Bv(i,f)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&lr(i),lt(i),em(i,d,t,l,a)),null;case 27:if(ja(i),a=Ce.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&lr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=ce.current,no(i)?Ey(i):(t=K0(d,l,a),i.stateNode=t,lr(i))}return lt(i),null;case 5:if(ja(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&lr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(f=ce.current,no(i))Ey(i);else{var E=hh(Ce.current);switch(f){case 1:f=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=E.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?E.createElement(d,{is:l.is}):E.createElement(d)}}f[Rt]=i,f[Gt]=l;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)f.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=f;e:switch(en(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&lr(i)}}return lt(i),em(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&lr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,no(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Jt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||P0(t.nodeValue,a)),t||Qr(i,!0)}else t=hh(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=no(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Rt]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Dn(i),i):(Dn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=no(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Rt]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),d=!1}else d=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Dn(i),i):(Dn(i),null)}return Dn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Xc(i,i.updateQueue),lt(i),null);case 4:return ht(),t===null&&Tm(i.stateNode.containerInfo),lt(i),null;case 10:return rr(i.type),lt(i),null;case 19:if(te(xt),l=i.memoizedState,l===null)return lt(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Ul(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Pc(t),f!==null){for(i.flags|=128,Ul(l,!1),t=f.updateQueue,i.updateQueue=t,Xc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)py(a,t),a=a.sibling;return oe(xt,xt.current&1|2),Be&&nr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&hn()>th&&(i.flags|=128,d=!0,Ul(l,!1),i.lanes=4194304)}else{if(!d)if(t=Pc(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Xc(i,t),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Be)return lt(i),null}else 2*hn()-l.renderingStartTime>th&&a!==536870912&&(i.flags|=128,d=!0,Ul(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=hn(),t.sibling=null,a=xt.current,oe(xt,d?a&1|2:a&1),Be&&nr(i,l.treeForkCount),t):(lt(i),null);case 22:case 23:return Dn(i),xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&Xc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(oa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),rr(Dt),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function sw(t,i){switch(lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return rr(Dt),ht(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ja(i),null;case 31:if(i.memoizedState!==null){if(Dn(i),i.alternate===null)throw Error(s(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Dn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(xt),null;case 4:return ht(),null;case 10:return rr(i.type),null;case 22:case 23:return Dn(i),xf(),t!==null&&te(oa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return rr(Dt),null;case 25:return null;default:return null}}function qv(t,i){switch(lf(i),i.tag){case 3:rr(Dt),ht();break;case 26:case 27:case 5:ja(i);break;case 4:ht();break;case 31:i.memoizedState!==null&&Dn(i);break;case 13:Dn(i);break;case 19:te(xt);break;case 10:rr(i.type);break;case 22:case 23:Dn(i),xf(),t!==null&&te(oa);break;case 24:rr(Dt)}}function zl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,E=a.inst;l=f(),E.destroy=l}a=a.next}while(a!==d)}}catch(w){et(i,i.return,w)}}function Zr(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,d=i;var M=a,Q=w;try{Q()}catch(W){et(d,M,W)}}}l=l.next}while(l!==f)}}catch(W){et(i,i.return,W)}}function Hv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{My(i,a)}catch(l){et(t,t.return,l)}}}function Fv(t,i,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function Bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){et(t,i,d)}}function zi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){et(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){et(t,i,d)}else a.current=null}function Gv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){et(t,t.return,d)}}function tm(t,i,a){try{var l=t.stateNode;Nw(l,t.type,a,i),l[Gt]=i}catch(d){et(t,t.return,d)}}function Qv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&as(t.type)||t.tag===4}function nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&as(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function im(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ai));else if(l!==4&&(l===27&&as(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(im(t,i,a),t=t.sibling;t!==null;)im(t,i,a),t=t.sibling}function Jc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&as(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Jc(t,i,a),t=t.sibling;t!==null;)Jc(t,i,a),t=t.sibling}function Yv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);en(i,l,a),i[Rt]=t,i[Gt]=a}catch(f){et(t,t.return,f)}}var ur=!1,jt=!1,rm=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function aw(t,i){if(t=t.containerInfo,Sm=vh,t=ay(t),Xd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var E=0,w=-1,M=-1,Q=0,W=0,ne=t,Y=null;t:for(;;){for(var $;ne!==a||d!==0&&ne.nodeType!==3||(w=E+d),ne!==f||l!==0&&ne.nodeType!==3||(M=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),($=ne.firstChild)!==null;)Y=ne,ne=$;for(;;){if(ne===t)break t;if(Y===a&&++Q===d&&(w=E),Y===f&&++W===l&&(M=E),($=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=$}a=w===-1||M===-1?null:{start:w,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Am={focusedElem:t,selectionRange:a},vh=!1,Yt=i;Yt!==null;)if(i=Yt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Yt=t;else for(;Yt!==null;){switch(i=Yt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var fe=da(a.type,d);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){et(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Cm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Yt=t;break}Yt=i.return}}function $v(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hr(t,a),l&4&&zl(5,a);break;case 1:if(hr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){et(a,a.return,E)}else{var d=da(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){et(a,a.return,E)}}l&64&&Hv(a),l&512&&Bl(a,a.return);break;case 3:if(hr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{My(t,i)}catch(E){et(a,a.return,E)}}break;case 27:i===null&&l&4&&Yv(a);case 26:case 5:hr(t,a),i===null&&l&4&&Gv(a),l&512&&Bl(a,a.return);break;case 12:hr(t,a);break;case 31:hr(t,a),l&4&&Wv(t,a);break;case 13:hr(t,a),l&4&&Zv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pw.bind(null,a),kw(t,a))));break;case 22:if(l=a.memoizedState!==null||ur,!l){i=i!==null&&i.memoizedState!==null||jt,d=ur;var f=jt;ur=l,(jt=i)&&!f?dr(t,a,(a.subtreeFlags&8772)!==0):hr(t,a),ur=d,jt=f}break;case 30:break;default:hr(t,a)}}function Xv(t){var i=t.alternate;i!==null&&(t.alternate=null,Xv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ua(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,vn=!1;function cr(t,i,a){for(a=a.child;a!==null;)Jv(t,i,a),a=a.sibling}function Jv(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ni,a)}catch{}switch(a.tag){case 26:jt||zi(a,i),cr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||zi(a,i);var l=ft,d=vn;as(a.type)&&(ft=a.stateNode,vn=!1),cr(t,i,a),Xl(a.stateNode),ft=l,vn=d;break;case 5:jt||zi(a,i);case 6:if(l=ft,d=vn,ft=null,cr(t,i,a),ft=l,vn=d,ft!==null)if(vn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(f){et(a,i,f)}else try{ft.removeChild(a.stateNode)}catch(f){et(a,i,f)}break;case 18:ft!==null&&(vn?(t=ft,H0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wo(t)):H0(ft,a.stateNode));break;case 4:l=ft,d=vn,ft=a.stateNode.containerInfo,vn=!0,cr(t,i,a),ft=l,vn=d;break;case 0:case 11:case 14:case 15:Zr(2,a,i),jt||Zr(4,a,i),cr(t,i,a);break;case 1:jt||(zi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fv(a,i,l)),cr(t,i,a);break;case 21:cr(t,i,a);break;case 22:jt=(l=jt)||a.memoizedState!==null,cr(t,i,a),jt=l;break;default:cr(t,i,a)}}function Wv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wo(t)}catch(a){et(i,i.return,a)}}}function Zv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wo(t)}catch(a){et(i,i.return,a)}}function ow(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Kv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Kv),i;default:throw Error(s(435,t.tag))}}function Wc(t,i){var a=ow(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=gw.bind(null,t,l);l.then(d,d)}})}function _n(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(as(w.type)){ft=w.stateNode,vn=!1;break e}break;case 5:ft=w.stateNode,vn=!1;break e;case 3:case 4:ft=w.stateNode.containerInfo,vn=!0;break e}w=w.return}if(ft===null)throw Error(s(160));Jv(f,E,d),ft=null,vn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)e0(i,t),i=i.sibling}var di=null;function e0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(i,t),En(t),l&4&&(Zr(3,t,t.return),zl(3,t),Zr(5,t,t.return));break;case 1:_n(i,t),En(t),l&512&&(jt||a===null||zi(a,a.return)),l&64&&ur&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=di;if(_n(i,t),En(t),l&512&&(jt||a===null||zi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ai]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),en(f,l,a),f[Rt]=t,Ct(f),l=f;break e;case"link":var E=e_("link","href",d).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(f=E[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}f=d.createElement(l),en(f,l,a),d.head.appendChild(f);break;case"meta":if(E=e_("meta","content",d).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(f=E[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}f=d.createElement(l),en(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Rt]=t,Ct(f),l=f}t.stateNode=l}else t_(d,t.type,t.stateNode);else t.stateNode=Z0(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?t_(d,t.type,t.stateNode):Z0(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tm(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(i,t),En(t),l&512&&(jt||a===null||zi(a,a.return)),a!==null&&l&4&&tm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,t),En(t),l&512&&(jt||a===null||zi(a,a.return)),t.flags&32){d=t.stateNode;try{yn(d,"")}catch(fe){et(t,t.return,fe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,tm(t,d,a!==null?a.memoizedProps:d)),l&1024&&(rm=!0);break;case 6:if(_n(i,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){et(t,t.return,fe)}}break;case 3:if(mh=null,d=di,di=dh(i.containerInfo),_n(i,t),di=d,En(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wo(i.containerInfo)}catch(fe){et(t,t.return,fe)}rm&&(rm=!1,t0(t));break;case 4:l=di,di=dh(t.stateNode.containerInfo),_n(i,t),En(t),di=l;break;case 12:_n(i,t),En(t);break;case 31:_n(i,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wc(t,l)));break;case 13:_n(i,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(eh=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wc(t,l)));break;case 22:d=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,Q=ur,W=jt;if(ur=Q||d,jt=W||M,_n(i,t),jt=W,ur=Q,En(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||M||ur||jt||fa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(f=M.stateNode,d)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=M.stateNode;var ne=M.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){et(M,M.return,fe)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(fe){et(M,M.return,fe)}}}else if(i.tag===18){if(a===null){M=i;try{var $=M.stateNode;d?F0($,!0):F0(M.stateNode,!1)}catch(fe){et(M,M.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wc(t,a))));break;case 19:_n(i,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wc(t,l)));break;case 30:break;case 21:break;default:_n(i,t),En(t)}}function En(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Qv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=nm(t);Jc(t,f,d);break;case 5:var E=a.stateNode;a.flags&32&&(yn(E,""),a.flags&=-33);var w=nm(t);Jc(t,w,E);break;case 3:case 4:var M=a.stateNode.containerInfo,Q=nm(t);im(t,Q,M);break;default:throw Error(s(161))}}catch(W){et(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function t0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;t0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function hr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$v(t,i.alternate,i),i=i.sibling}function fa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Zr(4,i,i.return),fa(i);break;case 1:zi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Fv(i,i.return,a),fa(i);break;case 27:Xl(i.stateNode);case 26:case 5:zi(i,i.return),fa(i);break;case 22:i.memoizedState===null&&fa(i);break;case 30:fa(i);break;default:fa(i)}t=t.sibling}}function dr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:dr(d,f,a),zl(4,f);break;case 1:if(dr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){et(l,l.return,Q)}if(l=f,d=l.updateQueue,d!==null){var w=l.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Oy(M[d],w)}catch(Q){et(l,l.return,Q)}}a&&E&64&&Hv(f),Bl(f,f.return);break;case 27:Yv(f);case 26:case 5:dr(d,f,a),a&&l===null&&E&4&&Gv(f),Bl(f,f.return);break;case 12:dr(d,f,a);break;case 31:dr(d,f,a),a&&E&4&&Wv(d,f);break;case 13:dr(d,f,a),a&&E&4&&Zv(d,f);break;case 22:f.memoizedState===null&&dr(d,f,a),Bl(f,f.return);break;case 30:break;default:dr(d,f,a)}i=i.sibling}}function sm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Nl(a))}function am(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Nl(t))}function fi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n0(t,i,a,l),i=i.sibling}function n0(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:fi(t,i,a,l),d&2048&&zl(9,i);break;case 1:fi(t,i,a,l);break;case 3:fi(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Nl(t)));break;case 12:if(d&2048){fi(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,E=f.id,w=f.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){et(i,i.return,M)}}else fi(t,i,a,l);break;case 31:fi(t,i,a,l);break;case 13:fi(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?fi(t,i,a,l):ql(t,i):f._visibility&2?fi(t,i,a,l):(f._visibility|=2,fo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&sm(E,i);break;case 24:fi(t,i,a,l),d&2048&&am(i.alternate,i);break;default:fi(t,i,a,l)}}function fo(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,E=i,w=a,M=l,Q=E.flags;switch(E.tag){case 0:case 11:case 15:fo(f,E,w,M,d),zl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?fo(f,E,w,M,d):ql(f,E):(W._visibility|=2,fo(f,E,w,M,d)),d&&Q&2048&&sm(E.alternate,E);break;case 24:fo(f,E,w,M,d),d&&Q&2048&&am(E.alternate,E);break;default:fo(f,E,w,M,d)}i=i.sibling}}function ql(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:ql(a,l),d&2048&&sm(l.alternate,l);break;case 24:ql(a,l),d&2048&&am(l.alternate,l);break;default:ql(a,l)}i=i.sibling}}var Hl=8192;function mo(t,i,a){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)i0(t,i,a),t=t.sibling}function i0(t,i,a){switch(t.tag){case 26:mo(t,i,a),t.flags&Hl&&t.memoizedState!==null&&Yw(a,di,t.memoizedState,t.memoizedProps);break;case 5:mo(t,i,a);break;case 3:case 4:var l=di;di=dh(t.stateNode.containerInfo),mo(t,i,a),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,mo(t,i,a),Hl=l):mo(t,i,a));break;default:mo(t,i,a)}}function r0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Yt=l,a0(l,t)}r0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)s0(t),t=t.sibling}function s0(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&Zr(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Zc(t)):Fl(t);break;default:Fl(t)}}function Zc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Yt=l,a0(l,t)}r0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Zr(8,i,i.return),Zc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(i));break;default:Zc(i)}t=t.sibling}}function a0(t,i){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:Zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=t;Yt!==null;){l=Yt;var d=l.sibling,f=l.return;if(Xv(l),l===a){Yt=null;break e}if(d!==null){d.return=f,Yt=d;break e}Yt=f}}}var lw={getCacheForType:function(t){var i=Wt(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Wt(Dt).controller.signal}},uw=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,De=null,Ve=0,Ze=0,On=null,es=!1,po=!1,om=!1,fr=0,yt=0,ts=0,ma=0,lm=0,Mn=0,go=0,Gl=null,bn=null,um=!1,eh=0,o0=0,th=1/0,nh=null,ns=null,zt=0,is=null,yo=null,mr=0,cm=0,hm=null,l0=null,Ql=0,dm=null;function jn(){return(Xe&2)!==0&&Ve!==0?Ve&-Ve:J.T!==null?vm():ic()}function u0(){if(Mn===0)if((Ve&536870912)===0||Be){var t=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),Mn=t}else Mn=536870912;return t=In.current,t!==null&&(t.flags|=32),Mn}function Tn(t,i,a){(t===st&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(vo(t,0),rs(t,Ve,Mn,!1)),qs(t,a),((Xe&2)===0||t!==st)&&(t===st&&((Xe&2)===0&&(ma|=a),yt===4&&rs(t,Ve,Mn,!1)),Bi(t))}function c0(t,i,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ii(t,i),d=l?dw(t,i):mm(t,i,!0),f=l;do{if(d===0){po&&!l&&rs(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!cw(a)){d=mm(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;d=Gl;var M=w.current.memoizedState.isDehydrated;if(M&&(vo(w,E).flags|=256),E=mm(w,E,!1),E!==2){if(om&&!M){w.errorRecoveryDisabledLanes|=f,ma|=f,d=4;break e}f=bn,bn=d,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}d=E}if(f=!1,d!==2)continue}}if(d===1){vo(t,0),rs(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:rs(l,i,Mn,!es);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=eh+300-hn(),10<d)){if(rs(l,i,Mn,!es),xi(l,0,!0)!==0)break e;mr=i,l.timeoutHandle=B0(h0.bind(null,l,a,bn,nh,um,i,Mn,ma,go,es,f,"Throttled",-0,0),d);break e}h0(l,a,bn,nh,um,i,Mn,ma,go,es,f,null,-0,0)}}break}while(!0);Bi(t)}function h0(t,i,a,l,d,f,E,w,M,Q,W,ne,Y,$){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},i0(i,f,ne);var fe=(f&62914560)===f?eh-hn():(f&4194048)===f?o0-hn():0;if(fe=Kw(ne,fe),fe!==null){mr=f,t.cancelPendingCommit=fe(_0.bind(null,t,i,f,a,l,d,E,w,M,W,ne,null,Y,$)),rs(t,f,E,!Q);return}}_0(t,i,f,a,l,d,E,w,M)}function cw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Rn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rs(t,i,a,l){i&=~lm,i&=~ma,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-bt(d),E=1<<f;l[f]=-1,d&=~E}a!==0&&Hs(t,a,i)}function ih(){return(Xe&6)===0?(Yl(0),!1):!0}function fm(){if(De!==null){if(Ze===0)var t=De.return;else t=De,ir=sa=null,Cf(t),oo=null,Cl=0,t=De;for(;t!==null;)qv(t.alternate,t),t=t.return;De=null}}function vo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Iw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),mr=0,fm(),st=t,De=a=tr(t.current,null),Ve=i,Ze=0,On=null,es=!1,po=ii(t,i),om=!1,go=Mn=lm=ma=ts=yt=0,bn=Gl=null,um=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-bt(l),f=1<<d;i|=t[d],l&=~f}return fr=i,wc(),a}function d0(t,i){Re=null,J.H=Pl,i===ao||i===Oc?(i=Ry(),Ze=3):i===yf?(i=Ry(),Ze=4):Ze=i===Gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,De===null&&(yt=1,Qc(t,Gn(i,t.current)))}function f0(){var t=In.current;return t===null?!0:(Ve&4194048)===Ve?$n===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===$n:!1}function m0(){var t=J.H;return J.H=Pl,t===null?Pl:t}function p0(){var t=J.A;return J.A=lw,t}function rh(){yt=4,es||(Ve&4194048)!==Ve&&In.current!==null||(po=!0),(ts&134217727)===0&&(ma&134217727)===0||st===null||rs(st,Ve,Mn,!1)}function mm(t,i,a){var l=Xe;Xe|=2;var d=m0(),f=p0();(st!==t||Ve!==i)&&(nh=null,vo(t,i)),i=!1;var E=yt;e:do try{if(Ze!==0&&De!==null){var w=De,M=On;switch(Ze){case 8:fm(),E=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var Q=Ze;if(Ze=0,On=null,_o(t,w,M,Q),a&&po){E=0;break e}break;default:Q=Ze,Ze=0,On=null,_o(t,w,M,Q)}}hw(),E=yt;break}catch(W){d0(t,W)}while(!0);return i&&t.shellSuspendCounter++,ir=sa=null,Xe=l,J.H=d,J.A=f,De===null&&(st=null,Ve=0,wc()),E}function hw(){for(;De!==null;)g0(De)}function dw(t,i){var a=Xe;Xe|=2;var l=m0(),d=p0();st!==t||Ve!==i?(nh=null,th=hn()+500,vo(t,i)):po=ii(t,i);e:do try{if(Ze!==0&&De!==null){i=De;var f=On;t:switch(Ze){case 1:Ze=0,On=null,_o(t,i,f,1);break;case 2:case 9:if(Ay(f)){Ze=0,On=null,y0(i);break}i=function(){Ze!==2&&Ze!==9||st!==t||(Ze=7),Bi(t)},f.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ay(f)?(Ze=0,On=null,y0(i)):(Ze=0,On=null,_o(t,i,f,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(E?n_(E):w.stateNode.complete){Ze=0,On=null;var M=w.sibling;if(M!==null)De=M;else{var Q=w.return;Q!==null?(De=Q,sh(Q)):De=null}break t}}Ze=0,On=null,_o(t,i,f,5);break;case 6:Ze=0,On=null,_o(t,i,f,6);break;case 8:fm(),yt=6;break e;default:throw Error(s(462))}}fw();break}catch(W){d0(t,W)}while(!0);return ir=sa=null,J.H=l,J.A=d,Xe=a,De!==null?0:(st=null,Ve=0,wc(),yt)}function fw(){for(;De!==null&&!Hd();)g0(De)}function g0(t){var i=zv(t.alternate,t,fr);t.memoizedProps=t.pendingProps,i===null?sh(t):De=i}function y0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=jv(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=jv(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Cf(i);default:qv(a,i),i=De=py(i,fr),i=zv(a,i,fr)}t.memoizedProps=t.pendingProps,i===null?sh(t):De=i}function _o(t,i,a,l){ir=sa=null,Cf(i),oo=null,Cl=0;var d=i.return;try{if(tw(t,d,i,a,Ve)){yt=1,Qc(t,Gn(a,t.current)),De=null;return}}catch(f){if(d!==null)throw De=d,f;yt=1,Qc(t,Gn(a,t.current)),De=null;return}i.flags&32768?(Be||l===1?t=!0:po||(Ve&536870912)!==0?t=!1:(es=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),v0(i,t)):sh(i)}function sh(t){var i=t;do{if((i.flags&32768)!==0){v0(i,es);return}t=i.return;var a=rw(i.alternate,i,fr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);yt===0&&(yt=5)}function v0(t,i){do{var a=sw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);yt=6,De=null}function _0(t,i,a,l,d,f,E,w,M){t.cancelPendingCommit=null;do ah();while(zt!==0);if((Xe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=tf,Qd(t,a,f,E,w,M),t===st&&(De=st=null,Ve=0),yo=i,is=t,mr=a,cm=f,hm=d,l0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yw(jr,function(){return w0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,d=ae.p,ae.p=2,E=Xe,Xe|=4;try{aw(t,i,a)}finally{Xe=E,ae.p=d,J.T=l}}zt=1,E0(),b0(),T0()}}function E0(){if(zt===1){zt=0;var t=is,i=yo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var d=Xe;Xe|=4;try{e0(i,t);var f=Am,E=ay(t.containerInfo),w=f.focusedElem,M=f.selectionRange;if(E!==w&&w&&w.ownerDocument&&sy(w.ownerDocument.documentElement,w)){if(M!==null&&Xd(w)){var Q=M.start,W=M.end;if(W===void 0&&(W=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(W,w.value.length);else{var ne=w.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),fe=w.textContent.length,Ee=Math.min(M.start,fe),rt=M.end===void 0?Ee:Math.min(M.end,fe);!$.extend&&Ee>rt&&(E=rt,rt=Ee,Ee=E);var q=ry(w,Ee),L=ry(w,rt);if(q&&L&&($.rangeCount!==1||$.anchorNode!==q.node||$.anchorOffset!==q.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var G=ne.createRange();G.setStart(q.node,q.offset),$.removeAllRanges(),Ee>rt?($.addRange(G),$.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),$.addRange(G))}}}}for(ne=[],$=w;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var Z=ne[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}vh=!!Sm,Am=Sm=null}finally{Xe=d,ae.p=l,J.T=a}}t.current=i,zt=2}}function b0(){if(zt===2){zt=0;var t=is,i=yo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ae.p;ae.p=2;var d=Xe;Xe|=4;try{$v(t,i.alternate,i)}finally{Xe=d,ae.p=l,J.T=a}}zt=3}}function T0(){if(zt===4||zt===3){zt=0,Xu();var t=is,i=yo,a=mr,l=l0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,yo=is=null,x0(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ns=null),Ji(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ni,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,d=ae.p,ae.p=2,J.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var w=l[E];f(w.value,{componentStack:w.stack})}}finally{J.T=i,ae.p=d}}(mr&3)!==0&&ah(),Bi(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===dm?Ql++:(Ql=0,dm=t):Ql=0,Yl(0)}}function x0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Nl(i)))}function ah(){return E0(),b0(),T0(),w0()}function w0(){if(zt!==5)return!1;var t=is,i=cm;cm=0;var a=Ji(mr),l=J.T,d=ae.p;try{ae.p=32>a?32:a,J.T=null,a=hm,hm=null;var f=is,E=mr;if(zt=0,yo=is=null,mr=0,(Xe&6)!==0)throw Error(s(331));var w=Xe;if(Xe|=4,s0(f.current),n0(f,f.current,E,a),Xe=w,Yl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ni,f)}catch{}return!0}finally{ae.p=d,J.T=l,x0(t,i)}}function S0(t,i,a){i=Gn(a,i),i=Ff(t.stateNode,i,2),t=Xr(t,i,2),t!==null&&(qs(t,2),Bi(t))}function et(t,i,a){if(t.tag===3)S0(t,t,a);else for(;i!==null;){if(i.tag===3){S0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ns===null||!ns.has(l))){t=Gn(a,t),a=Av(2),l=Xr(i,a,2),l!==null&&(Nv(a,l,i,t),qs(l,2),Bi(l));break}}i=i.return}}function pm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(om=!0,d.add(a),t=mw.bind(null,t,i,a),i.then(t,t))}function mw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ve&a)===a&&(yt===4||yt===3&&(Ve&62914560)===Ve&&300>hn()-eh?(Xe&2)===0&&vo(t,0):lm|=a,go===Ve&&(go=0)),Bi(t)}function A0(t,i){i===0&&(i=nc()),t=na(t,i),t!==null&&(qs(t,i),Bi(t))}function pw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),A0(t,a)}function gw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),A0(t,a)}function yw(t,i){return Ut(t,i)}var oh=null,Eo=null,gm=!1,lh=!1,ym=!1,ss=0;function Bi(t){t!==Eo&&t.next===null&&(Eo===null?oh=Eo=t:Eo=Eo.next=t),lh=!0,gm||(gm=!0,_w())}function Yl(t,i){if(!ym&&lh){ym=!0;do for(var a=!1,l=oh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var E=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=d&~(E&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,I0(l,f))}else f=Ve,f=xi(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ii(l,f)||(a=!0,I0(l,f));l=l.next}while(a);ym=!1}}function vw(){N0()}function N0(){lh=gm=!1;var t=0;ss!==0&&Cw()&&(t=ss);for(var i=hn(),a=null,l=oh;l!==null;){var d=l.next,f=R0(l,i);f===0?(l.next=null,a===null?oh=d:a.next=d,d===null&&(Eo=a)):(a=l,(t!==0||(f&3)!==0)&&(lh=!0)),l=d}zt!==0&&zt!==5||Yl(t),ss!==0&&(ss=0)}function R0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-bt(f),w=1<<E,M=d[E];M===-1?((w&a)===0||(w&l)!==0)&&(d[E]=Gd(w,i)):M<=i&&(t.expiredLanes|=w),f&=~w}if(i=st,a=Ve,a=xi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ii(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Mr(l),Ji(a)){case 2:case 8:a=il;break;case 32:a=jr;break;case 268435456:a=Ju;break;default:a=jr}return l=C0.bind(null,t),a=Ut(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Mr(l),t.callbackPriority=2,t.callbackNode=null,2}function C0(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ah()&&t.callbackNode!==a)return null;var l=Ve;return l=xi(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(c0(t,l,i),R0(t,hn()),t.callbackNode!=null&&t.callbackNode===a?C0.bind(null,t):null)}function I0(t,i){if(ah())return null;c0(t,i,!0)}function _w(){Dw(function(){(Xe&6)!==0?Ut(nl,vw):N0()})}function vm(){if(ss===0){var t=ro;t===0&&(t=bi,bi<<=1,(bi&261888)===0&&(bi=256)),ss=t}return ss}function D0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function O0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ew(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=D0((d[Gt]||null).action),E=l.submitter;E&&(i=(i=E[Gt]||null)?D0(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var w=new ji("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ss!==0){var M=E?O0(d,E):new FormData(d);Lf(a,{pending:!0,data:M,method:d.method,action:f},null,M)}}else typeof f=="function"&&(w.preventDefault(),M=E?O0(d,E):new FormData(d),Lf(a,{pending:!0,data:M,method:d.method,action:f},f,M))},currentTarget:d}]})}}for(var _m=0;_m<ef.length;_m++){var Em=ef[_m],bw=Em.toLowerCase(),Tw=Em[0].toUpperCase()+Em.slice(1);hi(bw,"on"+Tw)}hi(uy,"onAnimationEnd"),hi(cy,"onAnimationIteration"),hi(hy,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(L1,"onTransitionRun"),hi(U1,"onTransitionStart"),hi(z1,"onTransitionCancel"),hi(dy,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function M0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],M=w.instance,Q=w.currentTarget;if(w=w.listener,M!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=Q;try{f(d)}catch(W){xc(W)}d.currentTarget=null,f=M}else for(E=0;E<l.length;E++){if(w=l[E],M=w.instance,Q=w.currentTarget,w=w.listener,M!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=Q;try{f(d)}catch(W){xc(W)}d.currentTarget=null,f=M}}}}function Oe(t,i){var a=i[La];a===void 0&&(a=i[La]=new Set);var l=t+"__bubble";a.has(l)||(j0(i,t,2,!1),a.add(l))}function bm(t,i,a){var l=0;i&&(l|=4),j0(a,t,l,i)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Tm(t){if(!t[uh]){t[uh]=!0,al.forEach(function(a){a!=="selectionchange"&&(xw.has(a)||bm(a,!1,t),bm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[uh]||(i[uh]=!0,bm("selectionchange",!1,i))}}function j0(t,i,a,l){switch(u_(i)){case 2:var d=Jw;break;case 8:d=Ww;break;default:d=Pm}a=d.bind(null,i,a,t),d=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function xm(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===d)break;if(E===4)for(E=l.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;w!==null;){if(E=Ni(w),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){l=f=E;continue e}w=w.parentNode}}l=l.return}zr(function(){var Q=f,W=Bn(a),ne=[];e:{var Y=fy.get(t);if(Y!==void 0){var $=ji,fe=t;switch(t){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":$=Ec;break;case"focusin":fe="focus",$=Ws;break;case"focusout":fe="blur",$=Ws;break;case"beforeblur":case"afterblur":$=Ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=_;break;case uy:case cy:case hy:$=fc;break;case dy:$=S;break;case"scroll":case"scrollend":$=vl;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=er;break;case"toggle":case"beforetoggle":$=Ne}var Ee=(i&4)!==0,rt=!Ee&&(t==="scroll"||t==="scrollend"),q=Ee?Y!==null?Y+"Capture":null:Y;Ee=[];for(var L=Q,G;L!==null;){var Z=L;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||q===null||(Z=oi(L,q),Z!=null&&Ee.push($l(L,Z,G))),rt)break;L=L.return}0<Ee.length&&(Y=new $(Y,fe,null,a,W),ne.push({event:Y,listeners:Ee}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",Y&&a!==pl&&(fe=a.relatedTarget||a.fromElement)&&(Ni(fe)||fe[Si]))break e;if(($||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(fe=a.relatedTarget||a.toElement,$=Q,fe=fe?Ni(fe):null,fe!==null&&(rt=u(fe),Ee=fe.tag,fe!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(fe=null)):($=null,fe=Q),$!==fe)){if(Ee=_l,Z="onMouseLeave",q="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=er,Z="onPointerLeave",q="onPointerEnter",L="pointer"),rt=$==null?Y:An($),G=fe==null?Y:An(fe),Y=new Ee(Z,L+"leave",$,a,W),Y.target=rt,Y.relatedTarget=G,Z=null,Ni(W)===Q&&(Ee=new Ee(q,L+"enter",fe,a,W),Ee.target=G,Ee.relatedTarget=rt,Z=Ee),rt=Z,$&&fe)t:{for(Ee=ww,q=$,L=fe,G=0,Z=q;Z;Z=Ee(Z))G++;Z=0;for(var ge=L;ge;ge=Ee(ge))Z++;for(;0<G-Z;)q=Ee(q),G--;for(;0<Z-G;)L=Ee(L),Z--;for(;G--;){if(q===L||L!==null&&q===L.alternate){Ee=q;break t}q=Ee(q),L=Ee(L)}Ee=null}else Ee=null;$!==null&&k0(ne,Y,$,Ee,!1),fe!==null&&rt!==null&&k0(ne,rt,fe,Ee,!0)}}e:{if(Y=Q?An(Q):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var Ye=Wg;else if(Xg(Y))if(Zg)Ye=k1;else{Ye=M1;var me=O1}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Q&&qa(Q.elementType)&&(Ye=Wg):Ye=j1;if(Ye&&(Ye=Ye(t,Q))){Jg(ne,Ye,a,W);break e}me&&me(t,Y,Q),t==="focusout"&&Q&&Y.type==="number"&&Q.memoizedProps.value!=null&&dl(Y,"number",Y.value)}switch(me=Q?An(Q):window,t){case"focusin":(Xg(me)||me.contentEditable==="true")&&(Xa=me,Jd=Q,wl=null);break;case"focusout":wl=Jd=Xa=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,oy(ne,a,W);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":oy(ne,a,W)}var Ie;if($e)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else $a?Zs(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Pi&&a.locale!=="ko"&&($a||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&$a&&(Ie=yl()):(Mi=W,gl="value"in Mi?Mi.value:Mi.textContent,$a=!0)),me=ch(Q,Pe),0<me.length&&(Pe=new Vi(Pe,t,null,a,W),ne.push({event:Pe,listeners:me}),Ie?Pe.data=Ie:(Ie=Ka(a),Ie!==null&&(Pe.data=Ie)))),(Ie=Hn?R1(t,a):C1(t,a))&&(Pe=ch(Q,"onBeforeInput"),0<Pe.length&&(me=new Vi("onBeforeInput","beforeinput",null,a,W),ne.push({event:me,listeners:Pe}),me.data=Ie)),Ew(ne,t,Q,a,W)}M0(ne,i)})}function $l(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ch(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=oi(t,a),d!=null&&l.unshift($l(t,d,f)),d=oi(t,i),d!=null&&l.push($l(t,d,f))),t.tag===3)return l;t=t.return}return[]}function ww(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function k0(t,i,a,l,d){for(var f=i._reactName,E=[];a!==null&&a!==l;){var w=a,M=w.alternate,Q=w.stateNode;if(w=w.tag,M!==null&&M===l)break;w!==5&&w!==26&&w!==27||Q===null||(M=Q,d?(Q=oi(a,f),Q!=null&&E.unshift($l(a,Q,M))):d||(Q=oi(a,f),Q!=null&&E.push($l(a,Q,M)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var Sw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function V0(t){return(typeof t=="string"?t:""+t).replace(Sw,`
`).replace(Aw,"")}function P0(t,i){return i=V0(i),V0(t)===i}function it(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&yn(t,""+l);break;case"className":Nn(t,"class",l);break;case"tabIndex":Nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,l);break;case"style":ml(t,l,f);break;case"data":if(i!=="object"){Nn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&it(t,i,"name",d.name,d,null),it(t,i,"formEncType",d.formEncType,d,null),it(t,i,"formMethod",d.formMethod,d,null),it(t,i,"formTarget",d.formTarget,d,null)):(it(t,i,"encType",d.encType,d,null),it(t,i,"method",d.method,d,null),it(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ai);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),za(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":za(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cc.get(a)||a,za(t,a,l))}}function wm(t,i,a,l,d,f){switch(a){case"style":ml(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):za(t,a,l)}}}function en(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var E=a[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,f,E,a,null)}}d&&it(t,i,"srcSet",a.srcSet,a,null),l&&it(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var w=f=E=d=null,M=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":E=W;break;case"checked":M=W;break;case"defaultChecked":Q=W;break;case"value":f=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:it(t,i,l,W,a,null)}}oc(t,f,w,M,Q,E,d,!1);return;case"select":Oe("invalid",t),l=E=f=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":f=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:it(t,i,d,w,a,null)}i=f,a=E,t.multiple=!!l,i!=null?Vr(t,!!l,i,!1):a!=null&&Vr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),f=d=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":d=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:it(t,i,E,w,a,null)}Pr(t,l,d,f);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":it(t,i,M,l,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Kl.length;l++)Oe(Kl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,Q,l,a,null)}return;default:if(qa(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&wm(t,i,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&it(t,i,w,l,a,null))}function Nw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,E=null,w=null,M=null,Q=null,W=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=ne;default:l.hasOwnProperty($)||it(t,i,$,null,l,ne)}}for(var Y in l){var $=l[Y];if(ne=a[Y],l.hasOwnProperty(Y)&&($!=null||ne!=null))switch(Y){case"type":f=$;break;case"name":d=$;break;case"checked":Q=$;break;case"defaultChecked":W=$;break;case"value":E=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ne&&it(t,i,Y,$,l,ne)}}Ba(t,E,w,M,Q,W,f,d);return;case"select":$=E=w=Y=null;for(f in a)if(M=a[f],a.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":$=M;default:l.hasOwnProperty(f)||it(t,i,f,null,l,M)}for(d in l)if(f=l[d],M=a[d],l.hasOwnProperty(d)&&(f!=null||M!=null))switch(d){case"value":Y=f;break;case"defaultValue":w=f;break;case"multiple":E=f;default:f!==M&&it(t,i,d,f,l,M)}i=w,a=E,l=$,Y!=null?Vr(t,!!a,Y,!1):!!l!=!!a&&(i!=null?Vr(t,!!a,i,!0):Vr(t,!!a,a?[]:"",!1));return;case"textarea":$=Y=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:it(t,i,w,null,l,d)}for(E in l)if(d=l[E],f=a[E],l.hasOwnProperty(E)&&(d!=null||f!=null))switch(E){case"value":Y=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&it(t,i,E,d,l,f)}lc(t,Y,$);return;case"option":for(var fe in a)Y=a[fe],a.hasOwnProperty(fe)&&Y!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:it(t,i,fe,null,l,Y));for(M in l)Y=l[M],$=a[M],l.hasOwnProperty(M)&&Y!==$&&(Y!=null||$!=null)&&(M==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":it(t,i,M,Y,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)Y=a[Ee],a.hasOwnProperty(Ee)&&Y!=null&&!l.hasOwnProperty(Ee)&&it(t,i,Ee,null,l,Y);for(Q in l)if(Y=l[Q],$=a[Q],l.hasOwnProperty(Q)&&Y!==$&&(Y!=null||$!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:it(t,i,Q,Y,l,$)}return;default:if(qa(i)){for(var rt in a)Y=a[rt],a.hasOwnProperty(rt)&&Y!==void 0&&!l.hasOwnProperty(rt)&&wm(t,i,rt,void 0,l,Y);for(W in l)Y=l[W],$=a[W],!l.hasOwnProperty(W)||Y===$||Y===void 0&&$===void 0||wm(t,i,W,Y,l,$);return}}for(var q in a)Y=a[q],a.hasOwnProperty(q)&&Y!=null&&!l.hasOwnProperty(q)&&it(t,i,q,null,l,Y);for(ne in l)Y=l[ne],$=a[ne],!l.hasOwnProperty(ne)||Y===$||Y==null&&$==null||it(t,i,ne,Y,l,$)}function L0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,E=d.initiatorType,w=d.duration;if(f&&w&&L0(E)){for(E=0,w=d.responseEnd,l+=1;l<a.length;l++){var M=a[l],Q=M.startTime;if(Q>w)break;var W=M.transferSize,ne=M.initiatorType;W&&L0(ne)&&(M=M.responseEnd,E+=W*(M<w?1:(w-Q)/(M-Q)))}if(--l,i+=8*(f+E)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sm=null,Am=null;function hh(t){return t.nodeType===9?t:t.ownerDocument}function U0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Nm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rm=null;function Cw(){var t=window.event;return t&&t.type==="popstate"?t===Rm?!1:(Rm=t,!0):(Rm=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,Dw=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(t){return q0.resolve(null).then(t).catch(Ow)}:B0;function Ow(t){setTimeout(function(){throw t})}function as(t){return t==="head"}function H0(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),wo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Xl(a);for(var f=a.firstChild;f;){var E=f.nextSibling,w=f.nodeName;f[Ai]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=E}}else a==="body"&&Xl(t.ownerDocument.body);a=d}while(a);wo(i)}function F0(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Cm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cm(a),Ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Mw(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function jw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function G0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Xn(t.nextSibling),t===null))return null;return t}function Im(t){return t.data==="$?"||t.data==="$~"}function Dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Om=null;function Q0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Xn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Y0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function K0(t,i,a){switch(i=hh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Xl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ua(t)}var Jn=new Map,$0=new Set;function dh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pr=ae.d;ae.d={f:Vw,r:Pw,D:Lw,C:Uw,L:zw,m:Bw,X:Hw,S:qw,M:Fw};function Vw(){var t=pr.f(),i=ih();return t||i}function Pw(t){var i=zn(t);i!==null&&i.tag===5&&i.type==="form"?dv(i):pr.r(t)}var bo=typeof document>"u"?null:document;function X0(t,i,a){var l=bo;if(l&&typeof i=="string"&&i){var d=gn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),$0.has(d)||($0.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),en(i,"link",t),Ct(i),l.head.appendChild(i)))}}function Lw(t){pr.D(t),X0("dns-prefetch",t,null)}function Uw(t,i){pr.C(t,i),X0("preconnect",t,i)}function zw(t,i,a){pr.L(t,i,a);var l=bo;if(l&&t&&i){var d='link[rel="preload"][as="'+gn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+gn(a.imageSizes)+'"]')):d+='[href="'+gn(t)+'"]';var f=d;switch(i){case"style":f=To(t);break;case"script":f=xo(t)}Jn.has(f)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Jn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Jl(f))||i==="script"&&l.querySelector(Wl(f))||(i=l.createElement("link"),en(i,"link",t),Ct(i),l.head.appendChild(i)))}}function Bw(t,i){pr.m(t,i);var a=bo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xo(t)}if(!Jn.has(f)&&(t=b({rel:"modulepreload",href:t},i),Jn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(f)))return}l=a.createElement("link"),en(l,"link",t),Ct(l),a.head.appendChild(l)}}}function qw(t,i,a){pr.S(t,i,a);var l=bo;if(l&&t){var d=Ri(l).hoistableStyles,f=To(t);i=i||"default";var E=d.get(f);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Jl(f)))w.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Jn.get(f))&&Mm(t,a);var M=E=l.createElement("link");Ct(M),en(M,"link",t),M._p=new Promise(function(Q,W){M.onload=Q,M.onerror=W}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,fh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},d.set(f,E)}}}function Hw(t,i){pr.X(t,i);var a=bo;if(a&&t){var l=Ri(a).hoistableScripts,d=xo(t),f=l.get(d);f||(f=a.querySelector(Wl(d)),f||(t=b({src:t,async:!0},i),(i=Jn.get(d))&&jm(t,i),f=a.createElement("script"),Ct(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Fw(t,i){pr.M(t,i);var a=bo;if(a&&t){var l=Ri(a).hoistableScripts,d=xo(t),f=l.get(d);f||(f=a.querySelector(Wl(d)),f||(t=b({src:t,async:!0,type:"module"},i),(i=Jn.get(d))&&jm(t,i),f=a.createElement("script"),Ct(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function J0(t,i,a,l){var d=(d=Ce.current)?dh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=Ri(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=To(a.href);var f=Ri(d).hoistableStyles,E=f.get(t);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=d.querySelector(Jl(t)))&&!f._p&&(E.instance=f,E.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),f||Gw(d,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=xo(a),a=Ri(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function To(t){return'href="'+gn(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function W0(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Gw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),en(i,"link",a),Ct(i),t.head.appendChild(i))}function xo(t){return'[src="'+gn(t)+'"]'}function Wl(t){return"script[async]"+t}function Z0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return i.instance=l,Ct(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),en(l,"style",d),fh(l,a.precedence,t),i.instance=l;case"stylesheet":d=To(a.href);var f=t.querySelector(Jl(d));if(f)return i.state.loading|=4,i.instance=f,Ct(f),f;l=W0(a),(d=Jn.get(d))&&Mm(l,d),f=(t.ownerDocument||t).createElement("link"),Ct(f);var E=f;return E._p=new Promise(function(w,M){E.onload=w,E.onerror=M}),en(f,"link",l),i.state.loading|=4,fh(f,a.precedence,t),i.instance=f;case"script":return f=xo(a.src),(d=t.querySelector(Wl(f)))?(i.instance=d,Ct(d),d):(l=a,(d=Jn.get(f))&&(l=b({},a),jm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ct(d),en(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fh(l,a.precedence,t));return i.instance}function fh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)f=w;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var mh=null;function e_(t,i,a){if(mh===null){var l=new Map,d=mh=new Map;d.set(a,l)}else d=mh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Ai]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(f):l.set(E,[f])}}return l}function t_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Qw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function n_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Yw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=To(l.href),f=i.querySelector(Jl(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ph.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Ct(f);return}f=i.ownerDocument||i,l=W0(l),(d=Jn.get(d))&&Mm(l,d),f=f.createElement("link"),Ct(f);var E=f;E._p=new Promise(function(w,M){E.onload=w,E.onerror=M}),en(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ph.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var km=0;function Kw(t,i){return t.stylesheets&&t.count===0&&yh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&km===0&&(km=62500*Rw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>km?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gh=null;function yh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gh=new Map,i.forEach($w,t),gh=null,ph.call(t))}function $w(t,i){if(!(i.state.loading&4)){var a=gh.get(t);if(a)var l=a.get(null);else{a=new Map,gh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var E=d[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}d=i.instance,E=d.getAttribute("data-precedence"),f=a.get(E)||l,f===l&&a.set(null,d),a.set(E,d),this.count++,l=ph.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Zl={$$typeof:I,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Xw(t,i,a,l,d,f,E,w,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function i_(t,i,a,l,d,f,E,w,M,Q,W,ne){return t=new Xw(t,i,a,E,M,Q,W,ne,w),i=1,f===!0&&(i|=24),f=Cn(3,null,null,i),t.current=f,f.stateNode=t,i=mf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},vf(f),t}function r_(t){return t?(t=Za,t):Za}function s_(t,i,a,l,d,f){d=r_(d),l.context===null?l.context=d:l.pendingContext=d,l=$r(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Xr(t,l,i),a!==null&&(Tn(a,t,i),Dl(a,t,i))}function a_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Vm(t,i){a_(t,i),(t=t.alternate)&&a_(t,i)}function o_(t){if(t.tag===13||t.tag===31){var i=na(t,67108864);i!==null&&Tn(i,t,67108864),Vm(t,67108864)}}function l_(t){if(t.tag===13||t.tag===31){var i=jn();i=Fs(i);var a=na(t,i);a!==null&&Tn(a,t,i),Vm(t,i)}}var vh=!0;function Jw(t,i,a,l){var d=J.T;J.T=null;var f=ae.p;try{ae.p=2,Pm(t,i,a,l)}finally{ae.p=f,J.T=d}}function Ww(t,i,a,l){var d=J.T;J.T=null;var f=ae.p;try{ae.p=8,Pm(t,i,a,l)}finally{ae.p=f,J.T=d}}function Pm(t,i,a,l){if(vh){var d=Lm(l);if(d===null)xm(t,i,l,_h,a),c_(t,l);else if(eS(d,t,i,a,l))l.stopPropagation();else if(c_(t,l),i&4&&-1<Zw.indexOf(t)){for(;d!==null;){var f=zn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Ti(f.pendingLanes);if(E!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var M=1<<31-bt(E);w.entanglements[1]|=M,E&=~M}Bi(f),(Xe&6)===0&&(th=hn()+500,Yl(0))}}break;case 31:case 13:w=na(f,2),w!==null&&Tn(w,f,2),ih(),Vm(f,2)}if(f=Lm(l),f===null&&xm(t,i,l,_h,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else xm(t,i,l,null,a)}}function Lm(t){return t=Bn(t),Um(t)}var _h=null;function Um(t){if(_h=null,t=Ni(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return _h=t,null}function u_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zs()){case nl:return 2;case il:return 8;case jr:case Fd:return 32;case Ju:return 268435456;default:return 32}default:return 32}}var zm=!1,os=null,ls=null,us=null,eu=new Map,tu=new Map,cs=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(t,i){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":eu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function nu(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=zn(i),i!==null&&o_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function eS(t,i,a,l,d){switch(i){case"focusin":return os=nu(os,t,i,a,l,d),!0;case"dragenter":return ls=nu(ls,t,i,a,l,d),!0;case"mouseover":return us=nu(us,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return eu.set(f,nu(eu.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,tu.set(f,nu(tu.get(f)||null,t,i,a,l,d)),!0}return!1}function h_(t){var i=Ni(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,ri(t.priority,function(){l_(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,ri(t.priority,function(){l_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pl=l,a.target.dispatchEvent(l),pl=null}else return i=zn(a),i!==null&&o_(i),t.blockedOn=a,!1;i.shift()}return!0}function d_(t,i,a){Eh(t)&&a.delete(i)}function tS(){zm=!1,os!==null&&Eh(os)&&(os=null),ls!==null&&Eh(ls)&&(ls=null),us!==null&&Eh(us)&&(us=null),eu.forEach(d_),tu.forEach(d_)}function bh(t,i){t.blockedOn===i&&(t.blockedOn=null,zm||(zm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tS)))}var Th=null;function f_(t){Th!==t&&(Th=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Th===t&&(Th=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Um(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(i,3),i-=3,Lf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function wo(t){function i(M){return bh(M,t)}os!==null&&bh(os,t),ls!==null&&bh(ls,t),us!==null&&bh(us,t),eu.forEach(i),tu.forEach(i);for(var a=0;a<cs.length;a++){var l=cs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cs.length&&(a=cs[0],a.blockedOn===null);)h_(a),a.blockedOn===null&&cs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],E=d[Gt]||null;if(typeof f=="function")E||f_(a);else if(E){var w=null;if(f&&f.hasAttribute("formAction")){if(d=f,E=f[Gt]||null)w=E.formAction;else if(Um(d)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),f_(a)}}}function m_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Bm(t){this._internalRoot=t}xh.prototype.render=Bm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=jn();s_(a,l,t,i,null,null)},xh.prototype.unmount=Bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;s_(t.current,2,null,t,null,null),ih(),i[Si]=null}};function xh(t){this._internalRoot=t}xh.prototype.unstable_scheduleHydration=function(t){if(t){var i=ic();t={blockedOn:null,target:t,priority:i};for(var a=0;a<cs.length&&i!==0&&i<cs[a].priority;a++);cs.splice(a,0,t),a===0&&h_(t)}};var p_=e.version;if(p_!=="19.2.4")throw Error(s(527,p_,"19.2.4"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var nS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{ni=wh.inject(nS),$t=wh}catch{}}return ru.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=Tv,f=xv,E=wv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=i_(t,1,!1,null,null,a,l,null,d,f,E,m_),t[Si]=i.current,Tm(t),new Bm(i)},ru.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=Tv,E=xv,w=wv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),i=i_(t,1,!0,i,a??null,l,d,M,f,E,w,m_),i.context=r_(null),a=i.current,l=jn(),l=Fs(l),d=$r(l),d.callback=null,Xr(a,d,l),a=l,i.current.lanes=a,qs(i,a),Bi(i),t[Si]=i.current,Tm(t),new xh(i)},ru.version="19.2.4",ru}var S_;function fS(){if(S_)return Fm.exports;S_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fm.exports=dS(),Fm.exports}var mS=fS();var A_="popstate";function pS(r={}){function e(s,o){let{pathname:u,search:h,hash:g}=s.location;return cp("",{pathname:u,search:h,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:bu(o)}return yS(e,n,null,r)}function mt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gS(){return Math.random().toString(36).substring(2,10)}function N_(r,e){return{usr:r.state,key:r.key,idx:e}}function cp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:n,key:e&&e.key||s||gS()}}function bu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function yS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,g="POP",m=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function b(){g="POP";let V=v(),X=V==null?null:V-p;p=V,m&&m({action:g,location:U.location,delta:X})}function x(V,X){g="PUSH";let B=cp(U.location,V,X);p=v()+1;let I=N_(B,p),re=U.createHref(B);try{h.pushState(I,"",re)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(re)}u&&m&&m({action:g,location:U.location,delta:1})}function N(V,X){g="REPLACE";let B=cp(U.location,V,X);p=v();let I=N_(B,p),re=U.createHref(B);h.replaceState(I,"",re),u&&m&&m({action:g,location:U.location,delta:0})}function O(V){return vS(V)}let U={get action(){return g},get location(){return r(o,h)},listen(V){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(A_,b),m=V,()=>{o.removeEventListener(A_,b),m=null}},createHref(V){return e(o,V)},createURL:O,encodeLocation(V){let X=O(V);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:x,replace:N,go(V){return h.go(V)}};return U}function vS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:bu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pb(r,e,n="/"){return _S(r,e,n,!1)}function _S(r,e,n,s){let o=typeof e=="string"?Bo(e):e,u=wr(o.pathname||"/",n);if(u==null)return null;let h=gb(r);ES(h);let g=null;for(let m=0;g==null&&m<h.length;++m){let p=DS(u);g=CS(h[m],p,s)}return g}function gb(r,e=[],n=[],s="",o=!1){let u=(h,g,m=o,p)=>{let v={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;mt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Er([s,v.relativePath]),x=n.concat(v);h.children&&h.children.length>0&&(mt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),gb(h.children,e,x,b,m)),!(h.path==null&&!h.index)&&e.push({path:b,score:NS(b,h.index),routesMeta:x})};return r.forEach((h,g)=>{if(h.path===""||!h.path?.includes("?"))u(h,g);else for(let m of yb(h.path))u(h,g,!0,m)}),e}function yb(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=yb(s.join("/")),g=[];return g.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&g.push(...h),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function ES(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:RS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bS=/^:[\w-]+$/,TS=3,xS=2,wS=1,SS=10,AS=-2,R_=r=>r==="*";function NS(r,e){let n=r.split("/"),s=n.length;return n.some(R_)&&(s+=AS),e&&(s+=xS),n.filter(o=>!R_(o)).reduce((o,u)=>o+(bS.test(u)?TS:u===""?wS:SS),s)}function RS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function CS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let g=0;g<s.length;++g){let m=s[g],p=g===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=Qh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),x=m.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Qh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Er([u,b.pathname]),pathnameBase:kS(Er([u,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(u=Er([u,b.pathnameBase]))}return h}function Qh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=IS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:b},x)=>{if(v==="*"){let O=g[x]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const N=g[x];return b&&!N?p[v]=void 0:p[v]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function IS(r,e=!1,n=!0){yi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,m)=>(s.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function DS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function wr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function MS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Bo(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=C_(n.substring(1),"/"):u=C_(n,e)):u=e,{pathname:u,search:VS(s),hash:PS(o)}}function C_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Km(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fp(r){let e=jS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gp(r,e,n,s=!1){let o;typeof r=="string"?o=Bo(r):(o={...r},mt(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,g;if(h==null)g=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}g=b>=0?e[b]:"/"}let m=MS(o,g),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Er=r=>r.join("/").replace(/\/\/+/g,"/"),kS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),VS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,PS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,LS=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function US(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function zS(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _b(r,e){let n=r;if(typeof n!="string"||!OS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(vb)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),g=wr(h.pathname,e);h.origin===u.origin&&g!=null?n=g+h.search+h.hash:o=!0}catch{yi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Eb=["POST","PUT","PATCH","DELETE"];new Set(Eb);var BS=["GET",...Eb];new Set(BS);var qo=j.createContext(null);qo.displayName="DataRouter";var pd=j.createContext(null);pd.displayName="DataRouterState";var qS=j.createContext(!1),bb=j.createContext({isTransitioning:!1});bb.displayName="ViewTransition";var HS=j.createContext(new Map);HS.displayName="Fetchers";var FS=j.createContext(null);FS.displayName="Await";var Ln=j.createContext(null);Ln.displayName="Navigation";var Mu=j.createContext(null);Mu.displayName="Location";var _i=j.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var Qp=j.createContext(null);Qp.displayName="RouteError";var Tb="REACT_ROUTER_ERROR",GS="REDIRECT",QS="ROUTE_ERROR_RESPONSE";function YS(r){if(r.startsWith(`${Tb}:${GS}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function KS(r){if(r.startsWith(`${Tb}:${QS}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new LS(e.status,e.statusText,e.data)}catch{}}function $S(r,{relative:e}={}){mt(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Ln),{hash:o,pathname:u,search:h}=ju(r,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:Er([n,u])),s.createHref({pathname:g,search:h,hash:o})}function Ho(){return j.useContext(Mu)!=null}function Cs(){return mt(Ho(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Mu).location}var xb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wb(r){j.useContext(Ln).static||j.useLayoutEffect(r)}function ti(){let{isDataRoute:r}=j.useContext(_i);return r?lA():XS()}function XS(){mt(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(qo),{basename:e,navigator:n}=j.useContext(Ln),{matches:s}=j.useContext(_i),{pathname:o}=Cs(),u=JSON.stringify(Fp(s)),h=j.useRef(!1);return wb(()=>{h.current=!0}),j.useCallback((m,p={})=>{if(yi(h.current,xb),!h.current)return;if(typeof m=="number"){n.go(m);return}let v=Gp(m,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Er([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,u,o,r])}j.createContext(null);function Dr(){let{matches:r}=j.useContext(_i),e=r[r.length-1];return e?e.params:{}}function ju(r,{relative:e}={}){let{matches:n}=j.useContext(_i),{pathname:s}=Cs(),o=JSON.stringify(Fp(n));return j.useMemo(()=>Gp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function JS(r,e){return Sb(r,e)}function Sb(r,e,n,s,o){mt(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(Ln),{matches:h}=j.useContext(_i),g=h[h.length-1],m=g?g.params:{},p=g?g.pathname:"/",v=g?g.pathnameBase:"/",b=g&&g.route;{let B=b&&b.path||"";Nb(p,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let x=Cs(),N;if(e){let B=typeof e=="string"?Bo(e):e;mt(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),N=B}else N=x;let O=N.pathname||"/",U=O;if(v!=="/"){let B=v.replace(/^\//,"").split("/");U="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=pb(r,{pathname:U});yi(b||V!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),yi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=nA(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Er([v,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Er([v,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,n,s,o);return e&&X?j.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},X):X}function WS(){let r=oA(),e=US(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var ZS=j.createElement(WS,null),Ab=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=KS(r.digest);n&&(r=n)}let e=r!==void 0?j.createElement(_i.Provider,{value:this.props.routeContext},j.createElement(Qp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(eA,{error:r},e):e}};Ab.contextType=qS;var $m=new WeakMap;function eA({children:r,error:e}){let{basename:n}=j.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=YS(e.digest);if(s){let o=$m.get(e);if(o)throw o;let u=_b(s.location,n);if(vb&&!$m.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw $m.set(e,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function tA({routeContext:r,match:e,children:n}){let s=j.useContext(qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(_i.Provider,{value:r},n)}function nA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let v=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let g=!1,m=-1;if(n)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:x,errors:N}=n,O=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!N||N[b.route.id]===void 0);if(b.route.lazy||O){g=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=n&&s?(v,b)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:zS(n.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,x)=>{let N,O=!1,U=null,V=null;n&&(N=h&&b.route.id?h[b.route.id]:void 0,U=b.route.errorElement||ZS,g&&(m<0&&x===0?(Nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,V=null):m===x&&(O=!0,V=b.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,x+1)),B=()=>{let I;return N?I=U:O?I=V:b.route.Component?I=j.createElement(b.route.Component,null):b.route.element?I=b.route.element:I=v,j.createElement(tA,{match:b,routeContext:{outlet:v,matches:X,isDataRoute:n!=null},children:I})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?j.createElement(Ab,{location:n.location,revalidation:n.revalidation,component:U,error:N,children:B(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:p}):B()},null)}function Yp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iA(r){let e=j.useContext(qo);return mt(e,Yp(r)),e}function rA(r){let e=j.useContext(pd);return mt(e,Yp(r)),e}function sA(r){let e=j.useContext(_i);return mt(e,Yp(r)),e}function Kp(r){let e=sA(r),n=e.matches[e.matches.length-1];return mt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function aA(){return Kp("useRouteId")}function oA(){let r=j.useContext(Qp),e=rA("useRouteError"),n=Kp("useRouteError");return r!==void 0?r:e.errors?.[n]}function lA(){let{router:r}=iA("useNavigate"),e=Kp("useNavigate"),n=j.useRef(!1);return wb(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{yi(n.current,xb),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var I_={};function Nb(r,e,n){!e&&!I_[r]&&(I_[r]=!0,yi(!1,n))}j.memo(uA);function uA({routes:r,future:e,state:n,onError:s}){return Sb(r,void 0,n,s,e)}function $p({to:r,replace:e,state:n,relative:s}){mt(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Ln);yi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(_i),{pathname:h}=Cs(),g=ti(),m=Gp(r,Fp(u),h,s==="path"),p=JSON.stringify(m);return j.useEffect(()=>{g(JSON.parse(p),{replace:e,state:n,relative:s})},[g,p,s,e,n]),null}function mn(r){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){mt(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[g,o,u,h]);typeof n=="string"&&(n=Bo(n));let{pathname:p="/",search:v="",hash:b="",state:x=null,key:N="default"}=n,O=j.useMemo(()=>{let U=wr(p,g);return U==null?null:{location:{pathname:U,search:v,hash:b,state:x,key:N},navigationType:s}},[g,p,v,b,x,N,s]);return yi(O!=null,`<Router basename="${g}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(Ln.Provider,{value:m},j.createElement(Mu.Provider,{children:e,value:O}))}function hA({children:r,location:e}){return JS(hp(r),e)}function hp(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,hp(s.props.children,u));return}mt(s.type===mn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=hp(s.props.children,u)),n.push(h)}),n}var Mh="get",jh="application/x-www-form-urlencoded";function gd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function dA(r){return gd(r)&&r.tagName.toLowerCase()==="button"}function fA(r){return gd(r)&&r.tagName.toLowerCase()==="form"}function mA(r){return gd(r)&&r.tagName.toLowerCase()==="input"}function pA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gA(r,e){return r.button===0&&(!e||e==="_self")&&!pA(r)}var Sh=null;function yA(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var vA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(r){return r!=null&&!vA.has(r)?(yi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jh}"`),null):r}function _A(r,e){let n,s,o,u,h;if(fA(r)){let g=r.getAttribute("action");s=g?wr(g,e):null,n=r.getAttribute("method")||Mh,o=Xm(r.getAttribute("enctype"))||jh,u=new FormData(r)}else if(dA(r)||mA(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(s=m?wr(m,e):null,n=r.getAttribute("formmethod")||g.getAttribute("method")||Mh,o=Xm(r.getAttribute("formenctype"))||Xm(g.getAttribute("enctype"))||jh,u=new FormData(g,r),!yA()){let{name:p,type:v,value:b}=r;if(v==="image"){let x=p?`${p}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else p&&u.append(p,b)}}else{if(gd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mh,s=null,o=jh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function EA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&wr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function bA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function xA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await bA(u,n);return h.links?h.links():[]}return[]}));return NA(s.flat(1).filter(TA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function D_(r,e,n,s,o,u){let h=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,g=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,p)=>h(m,p)||g(m,p)):u==="data"?e.filter((m,p)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(h(m,p)||g(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function wA(r,e,{includeHydrateFallback:n}={}){return SA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function SA(r){return[...new Set(r)]}function AA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function NA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(AA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Rb(){let r=j.useContext(qo);return Xp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function RA(){let r=j.useContext(pd);return Xp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jp=j.createContext(void 0);Jp.displayName="FrameworkContext";function Cb(){let r=j.useContext(Jp);return Xp(r,"You must render this element inside a <HydratedRouter> element"),r}function CA(r,e){let n=j.useContext(Jp),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,x=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let U=X=>{X.forEach(B=>{h(B.isIntersecting)})},V=new IntersectionObserver(U,{threshold:.5});return x.current&&V.observe(x.current),()=>{V.disconnect()}}},[r]),j.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let N=()=>{o(!0)},O=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:su(g,N),onBlur:su(m,O),onMouseEnter:su(p,N),onMouseLeave:su(v,O),onTouchStart:su(b,N)}]:[!1,x,{}]}function su(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function IA({page:r,...e}){let{router:n}=Rb(),s=j.useMemo(()=>pb(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(OA,{page:r,matches:s,...e}):null}function DA(r){let{manifest:e,routeModules:n}=Cb(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return xA(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function OA({page:r,matches:e,...n}){let s=Cs(),{future:o,manifest:u,routeModules:h}=Cb(),{basename:g}=Rb(),{loaderData:m,matches:p}=RA(),v=j.useMemo(()=>D_(r,e,p,u,s,"data"),[r,e,p,u,s]),b=j.useMemo(()=>D_(r,e,p,u,s,"assets"),[r,e,p,u,s]),x=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,V=!1;if(e.forEach(B=>{let I=u.routes[B.route.id];!I||!I.hasLoader||(!v.some(re=>re.route.id===B.route.id)&&B.route.id in m&&h[B.route.id]?.shouldRevalidate||I.hasClientLoader?V=!0:U.add(B.route.id))}),U.size===0)return[];let X=EA(r,g,o.unstable_trailingSlashAwareDataRequests,"data");return V&&U.size>0&&X.searchParams.set("_routes",e.filter(B=>U.has(B.route.id)).map(B=>B.route.id).join(",")),[X.pathname+X.search]},[g,o.unstable_trailingSlashAwareDataRequests,m,s,u,v,e,r,h]),N=j.useMemo(()=>wA(b,u),[b,u]),O=DA(b);return j.createElement(j.Fragment,null,x.map(U=>j.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),N.map(U=>j.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),O.map(({key:U,link:V})=>j.createElement("link",{key:U,nonce:n.nonce,...V,crossOrigin:V.crossOrigin??n.crossOrigin})))}function MA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jA&&(window.__reactRouterVersion="7.13.0")}catch{}function kA({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=pS({window:s,v5Compat:!0}));let u=o.current,[h,g]=j.useState({action:u.action,location:u.location}),m=j.useCallback(p=>{n===!1?g(p):j.startTransition(()=>g(p))},[n]);return j.useLayoutEffect(()=>u.listen(m),[u,m]),j.createElement(cA,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var Ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Db=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:g,target:m,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...N},O){let{basename:U,unstable_useTransitions:V}=j.useContext(Ln),X=typeof p=="string"&&Ib.test(p),B=_b(p,U);p=B.to;let I=$S(p,{relative:o}),[re,le,de]=CA(s,N),C=UA(p,{replace:h,state:g,target:m,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:V});function A(P){e&&e(P),P.defaultPrevented||C(P)}let R=j.createElement("a",{...N,...de,href:B.absoluteURL||I,onClick:B.isExternal||u?e:A,ref:MA(O,le),target:m,"data-discover":!X&&n==="render"?"true":void 0});return re&&!X?j.createElement(j.Fragment,null,R,j.createElement(IA,{page:I})):R});Db.displayName="Link";var VA=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:g,children:m,...p},v){let b=ju(h,{relative:p.relative}),x=Cs(),N=j.useContext(pd),{navigator:O,basename:U}=j.useContext(Ln),V=N!=null&&FA(b)&&g===!0,X=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,B=x.pathname,I=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(B=B.toLowerCase(),I=I?I.toLowerCase():null,X=X.toLowerCase()),I&&U&&(I=wr(I,U)||I);const re=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let le=B===X||!o&&B.startsWith(X)&&B.charAt(re)==="/",de=I!=null&&(I===X||!o&&I.startsWith(X)&&I.charAt(X.length)==="/"),C={isActive:le,isPending:de,isTransitioning:V},A=le?e:void 0,R;typeof s=="function"?R=s(C):R=[s,le?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(C):u;return j.createElement(Db,{...p,"aria-current":A,className:R,ref:v,style:P,to:h,viewTransition:g},typeof m=="function"?m(C):m)});VA.displayName="NavLink";var PA=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Mh,action:g,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...N},O)=>{let{unstable_useTransitions:U}=j.useContext(Ln),V=qA(),X=HA(g,{relative:p}),B=h.toLowerCase()==="get"?"get":"post",I=typeof g=="string"&&Ib.test(g),re=le=>{if(m&&m(le),le.defaultPrevented)return;le.preventDefault();let de=le.nativeEvent.submitter,C=de?.getAttribute("formmethod")||h,A=()=>V(de||le.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x});U&&n!==!1?j.startTransition(()=>A()):A()};return j.createElement("form",{ref:O,method:B,action:X,onSubmit:s?m:re,...N,"data-discover":!I&&r==="render"?"true":void 0})});PA.displayName="Form";function LA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ob(r){let e=j.useContext(qo);return mt(e,LA(r)),e}function UA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let p=ti(),v=Cs(),b=ju(r,{relative:u});return j.useCallback(x=>{if(gA(x,e)){x.preventDefault();let N=n!==void 0?n:bu(v)===bu(b),O=()=>p(r,{replace:N,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g});m?j.startTransition(()=>O()):O()}},[v,p,b,n,s,e,r,o,u,h,g,m])}var zA=0,BA=()=>`__${String(++zA)}__`;function qA(){let{router:r}=Ob("useSubmit"),{basename:e}=j.useContext(Ln),n=aA(),s=r.fetch,o=r.navigate;return j.useCallback(async(u,h={})=>{let{action:g,method:m,encType:p,formData:v,body:b}=_A(u,e);if(h.navigate===!1){let x=h.fetcherKey||BA();await s(x,n,h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:b,formMethod:h.method||m,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:b,formMethod:h.method||m,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function HA(r,{relative:e}={}){let{basename:n}=j.useContext(Ln),s=j.useContext(_i);mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ju(r||".",{relative:e})},h=Cs();if(r==null){u.search=h.search;let g=new URLSearchParams(u.search),m=g.getAll("index");if(m.some(v=>v==="")){g.delete("index"),m.filter(b=>b).forEach(b=>g.append("index",b));let v=g.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Er([n,u.pathname])),bu(u)}function FA(r,{relative:e}={}){let n=j.useContext(bb);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ob("useViewTransitionState"),o=ju(r,{relative:e});if(!n.isTransitioning)return!1;let u=wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qh(o.pathname,h)!=null||Qh(o.pathname,u)!=null}let GA={data:""},QA=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||GA},YA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,KA=/\/\*[^]*?\*\/|  +/g,O_=/\n+/g,fs=(r,e)=>{let n="",s="",o="";for(let u in r){let h=r[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":s+=u[1]=="f"?fs(h,u):u+"{"+fs(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=fs(h,e?e.replace(/([^,])+/g,g=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,g):g?g+" "+m:m)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=fs.p?fs.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+s},gr={},Mb=r=>{if(typeof r=="object"){let e="";for(let n in r)e+=n+Mb(r[n]);return e}return r},$A=(r,e,n,s,o)=>{let u=Mb(r),h=gr[u]||(gr[u]=(m=>{let p=0,v=11;for(;p<m.length;)v=101*v+m.charCodeAt(p++)>>>0;return"go"+v})(u));if(!gr[h]){let m=u!==r?r:(p=>{let v,b,x=[{}];for(;v=YA.exec(p.replace(KA,""));)v[4]?x.shift():v[3]?(b=v[3].replace(O_," ").trim(),x.unshift(x[0][b]=x[0][b]||{})):x[0][v[1]]=v[2].replace(O_," ").trim();return x[0]})(r);gr[h]=fs(o?{["@keyframes "+h]:m}:m,n?"":"."+h)}let g=n&&gr.g?gr.g:null;return n&&(gr.g=gr[h]),((m,p,v,b)=>{b?p.data=p.data.replace(b,m):p.data.indexOf(m)===-1&&(p.data=v?m+p.data:p.data+m)})(gr[h],e,s,g),h},XA=(r,e,n)=>r.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let g=h(n),m=g&&g.props&&g.props.className||/^go/.test(g)&&g;h=m?"."+m:g&&typeof g=="object"?g.props?"":fs(g,""):g===!1?"":g}return s+o+(h??"")},"");function yd(r){let e=this||{},n=r.call?r(e.p):r;return $A(n.unshift?n.raw?XA(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,QA(e.target),e.g,e.o,e.k)}let jb,dp,fp;yd.bind({g:1});let Sr=yd.bind({k:1});function JA(r,e,n,s){fs.p=e,jb=r,dp=n,fp=s}function Is(r,e){let n=this||{};return function(){let s=arguments;function o(u,h){let g=Object.assign({},u),m=g.className||o.className;n.p=Object.assign({theme:dp&&dp()},g),n.o=/ *go\d+/.test(m),g.className=yd.apply(n,s)+(m?" "+m:"");let p=r;return r[0]&&(p=g.as||r,delete g.as),fp&&p[0]&&fp(g),jb(p,g)}return o}}var WA=r=>typeof r=="function",Yh=(r,e)=>WA(r)?r(e):r,ZA=(()=>{let r=0;return()=>(++r).toString()})(),kb=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),e2=20,Wp="default",Vb=(r,e)=>{let{toastLimit:n}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,n)};case 1:return{...r,toasts:r.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return Vb(r,{type:r.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...r,toasts:r.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let u=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},kh=[],Pb={toasts:[],pausedAt:void 0,settings:{toastLimit:e2}},Hi={},Lb=(r,e=Wp)=>{Hi[e]=Vb(Hi[e]||Pb,r),kh.forEach(([n,s])=>{n===e&&s(Hi[e])})},Ub=r=>Object.keys(Hi).forEach(e=>Lb(r,e)),t2=r=>Object.keys(Hi).find(e=>Hi[e].toasts.some(n=>n.id===r)),vd=(r=Wp)=>e=>{Lb(e,r)},n2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},i2=(r={},e=Wp)=>{let[n,s]=j.useState(Hi[e]||Pb),o=j.useRef(Hi[e]);j.useEffect(()=>(o.current!==Hi[e]&&s(Hi[e]),kh.push([e,s]),()=>{let h=kh.findIndex(([g])=>g===e);h>-1&&kh.splice(h,1)}),[e]);let u=n.toasts.map(h=>{var g,m,p;return{...r,...r[h.type],...h,removeDelay:h.removeDelay||((g=r[h.type])==null?void 0:g.removeDelay)||r?.removeDelay,duration:h.duration||((m=r[h.type])==null?void 0:m.duration)||r?.duration||n2[h.type],style:{...r.style,...(p=r[h.type])==null?void 0:p.style,...h.style}}});return{...n,toasts:u}},r2=(r,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...n,id:n?.id||ZA()}),ku=r=>(e,n)=>{let s=r2(e,r,n);return vd(s.toasterId||t2(s.id))({type:2,toast:s}),s.id},qt=(r,e)=>ku("blank")(r,e);qt.error=ku("error");qt.success=ku("success");qt.loading=ku("loading");qt.custom=ku("custom");qt.dismiss=(r,e)=>{let n={type:3,toastId:r};e?vd(e)(n):Ub(n)};qt.dismissAll=r=>qt.dismiss(void 0,r);qt.remove=(r,e)=>{let n={type:4,toastId:r};e?vd(e)(n):Ub(n)};qt.removeAll=r=>qt.remove(void 0,r);qt.promise=(r,e,n)=>{let s=qt.loading(e.loading,{...n,...n?.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?Yh(e.success,o):void 0;return u?qt.success(u,{id:s,...n,...n?.success}):qt.dismiss(s),o}).catch(o=>{let u=e.error?Yh(e.error,o):void 0;u?qt.error(u,{id:s,...n,...n?.error}):qt.dismiss(s)}),r};var s2=1e3,a2=(r,e="default")=>{let{toasts:n,pausedAt:s}=i2(r,e),o=j.useRef(new Map).current,u=j.useCallback((b,x=s2)=>{if(o.has(b))return;let N=setTimeout(()=>{o.delete(b),h({type:4,toastId:b})},x);o.set(b,N)},[]);j.useEffect(()=>{if(s)return;let b=Date.now(),x=n.map(N=>{if(N.duration===1/0)return;let O=(N.duration||0)+N.pauseDuration-(b-N.createdAt);if(O<0){N.visible&&qt.dismiss(N.id);return}return setTimeout(()=>qt.dismiss(N.id,e),O)});return()=>{x.forEach(N=>N&&clearTimeout(N))}},[n,s,e]);let h=j.useCallback(vd(e),[e]),g=j.useCallback(()=>{h({type:5,time:Date.now()})},[h]),m=j.useCallback((b,x)=>{h({type:1,toast:{id:b,height:x}})},[h]),p=j.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),v=j.useCallback((b,x)=>{let{reverseOrder:N=!1,gutter:O=8,defaultPosition:U}=x||{},V=n.filter(I=>(I.position||U)===(b.position||U)&&I.height),X=V.findIndex(I=>I.id===b.id),B=V.filter((I,re)=>re<X&&I.visible).length;return V.filter(I=>I.visible).slice(...N?[B+1]:[0,B]).reduce((I,re)=>I+(re.height||0)+O,0)},[n]);return j.useEffect(()=>{n.forEach(b=>{if(b.dismissed)u(b.id,b.removeDelay);else{let x=o.get(b.id);x&&(clearTimeout(x),o.delete(b.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:m,startPause:g,endPause:p,calculateOffset:v}}},o2=Sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,l2=Sr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,u2=Sr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,c2=Is("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${l2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${u2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,h2=Sr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,d2=Is("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${h2} 1s linear infinite;
`,f2=Sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,m2=Sr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,p2=Is("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${f2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${m2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,g2=Is("div")`
  position: absolute;
`,y2=Is("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,v2=Sr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_2=Is("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${v2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,E2=({toast:r})=>{let{icon:e,type:n,iconTheme:s}=r;return e!==void 0?typeof e=="string"?j.createElement(_2,null,e):e:n==="blank"?null:j.createElement(y2,null,j.createElement(d2,{...s}),n!=="loading"&&j.createElement(g2,null,n==="error"?j.createElement(c2,{...s}):j.createElement(p2,{...s})))},b2=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,T2=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,x2="0%{opacity:0;} 100%{opacity:1;}",w2="0%{opacity:1;} 100%{opacity:0;}",S2=Is("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,A2=Is("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,N2=(r,e)=>{let n=r.includes("top")?1:-1,[s,o]=kb()?[x2,w2]:[b2(n),T2(n)];return{animation:e?`${Sr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Sr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},R2=j.memo(({toast:r,position:e,style:n,children:s})=>{let o=r.height?N2(r.position||e||"top-center",r.visible):{opacity:0},u=j.createElement(E2,{toast:r}),h=j.createElement(A2,{...r.ariaProps},Yh(r.message,r));return j.createElement(S2,{className:r.className,style:{...o,...n,...r.style}},typeof s=="function"?s({icon:u,message:h}):j.createElement(j.Fragment,null,u,h))});JA(j.createElement);var C2=({id:r,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=j.useCallback(h=>{if(h){let g=()=>{let m=h.getBoundingClientRect().height;s(r,m)};g(),new MutationObserver(g).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return j.createElement("div",{ref:u,className:e,style:n},o)},I2=(r,e)=>{let n=r.includes("top"),s=n?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},D2=yd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ah=16,O2=({reverseOrder:r,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:h,containerClassName:g})=>{let{toasts:m,handlers:p}=a2(n,u);return j.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Ah,left:Ah,right:Ah,bottom:Ah,pointerEvents:"none",...h},className:g,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(v=>{let b=v.position||e,x=p.calculateOffset(v,{reverseOrder:r,gutter:s,defaultPosition:e}),N=I2(b,x);return j.createElement(C2,{id:v.id,key:v.id,onHeightUpdate:p.updateHeight,className:v.visible?D2:"",style:N},v.type==="custom"?Yh(v.message,v):o?o(v):j.createElement(R2,{toast:v,position:b}))}))},ye=qt;const M2=()=>{};var M_={};const zb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},j2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],g=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,g=h?r[o+1]:0,m=o+2<r.length,p=m?r[o+2]:0,v=u>>2,b=(u&3)<<4|g>>4;let x=(g&15)<<2|p>>6,N=p&63;m||(N=64,h||(x=64)),s.push(n[v],n[b],n[x],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(zb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):j2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||p==null||b==null)throw new k2;const x=u<<2|g>>4;if(s.push(x),p!==64){const N=g<<4&240|p>>2;if(s.push(N),b!==64){const O=p<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class k2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V2=function(r){const e=zb(r);return Bb.encodeByteArray(e,!0)},Kh=function(r){return V2(r).replace(/\./g,"")},qb=function(r){try{return Bb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function P2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const L2=()=>P2().__FIREBASE_DEFAULTS__,U2=()=>{if(typeof process>"u"||typeof M_>"u")return;const r=M_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},z2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qb(r[1]);return e&&JSON.parse(e)},_d=()=>{try{return M2()||L2()||U2()||z2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Hb=r=>_d()?.emulatorHosts?.[r],B2=r=>{const e=Hb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Fb=()=>_d()?.config,Gb=r=>_d()?.[`_${r}`];class q2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qb(r){return(await fetch(r,{credentials:"include"})).ok}function H2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kh(JSON.stringify(n)),Kh(JSON.stringify(h)),""].join(".")}const mu={};function F2(){const r={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?r.emulator.push(e):r.prod.push(e);return r}function G2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let j_=!1;function Yb(r,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||mu[r]===e||mu[r]||j_)return;mu[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=F2().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{j_=!0,h()},x}function v(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=G2(s),N=n("text"),O=document.getElementById(N)||document.createElement("span"),U=n("learnmore"),V=document.getElementById(U)||document.createElement("a"),X=n("preprendIcon"),B=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const I=x.element;g(I),v(V,U);const re=p();m(B,X),I.append(B,O,V,re),document.body.appendChild(I)}u?(O.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Y2(){const r=_d()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function X2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J2(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function W2(){return!Y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z2(){try{return typeof indexedDB=="object"}catch{return!1}}function eN(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const tN="FirebaseError";class Or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tN,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?nN(u,s):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new Or(o,g,s)}}function nN(r,e){return r.replace(iN,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iN=/\{\$([^}]+)}/g;function rN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ba(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(k_(u)&&k_(h)){if(!ba(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function k_(r){return r!==null&&typeof r=="object"}function Pu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function uu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function sN(r,e){const n=new aN(r,e);return n.subscribe.bind(n)}class aN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Jm),o.error===void 0&&(o.error=Jm),o.complete===void 0&&(o.complete=Jm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oN(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Jm(){}function Ft(r){return r&&r._delegate?r._delegate:r}class Ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pa="[DEFAULT]";class lN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new q2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cN(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uN(r){return r===pa?void 0:r}function cN(r){return r.instantiationMode==="EAGER"}class hN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const dN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},fN=Le.INFO,mN={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},pN=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=mN[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zp{constructor(e){this.name=e,this._logLevel=fN,this._logHandler=pN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const gN=(r,e)=>e.some(n=>r instanceof n);let V_,P_;function yN(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vN(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kb=new WeakMap,mp=new WeakMap,$b=new WeakMap,Wm=new WeakMap,eg=new WeakMap;function _N(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(vs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Kb.set(n,r)}).catch(()=>{}),eg.set(e,r),e}function EN(r){if(mp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});mp.set(r,e)}let pp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return mp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$b.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function bN(r){pp=r(pp)}function TN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Zm(this),e,...n);return $b.set(s,e.sort?e.sort():[e]),vs(s)}:vN().includes(r)?function(...e){return r.apply(Zm(this),e),vs(Kb.get(this))}:function(...e){return vs(r.apply(Zm(this),e))}}function xN(r){return typeof r=="function"?TN(r):(r instanceof IDBTransaction&&EN(r),gN(r,yN())?new Proxy(r,pp):r)}function vs(r){if(r instanceof IDBRequest)return _N(r);if(Wm.has(r))return Wm.get(r);const e=xN(r);return e!==r&&(Wm.set(r,e),eg.set(e,r)),e}const Zm=r=>eg.get(r);function wN(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),g=vs(h);return s&&h.addEventListener("upgradeneeded",m=>{s(vs(h.result),m.oldVersion,m.newVersion,vs(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const SN=["get","getKey","getAll","getAllKeys","count"],AN=["put","add","delete","clear"],ep=new Map;function L_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=AN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||SN.includes(n)))return;const u=async function(h,...g){const m=this.transaction(h,o?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),o&&m.done]))[0]};return ep.set(e,u),u}bN(r=>({...r,get:(e,n,s)=>L_(e,n)||r.get(e,n,s),has:(e,n)=>!!L_(e,n)||r.has(e,n)}));class NN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function RN(r){return r.getComponent()?.type==="VERSION"}const gp="@firebase/app",U_="0.14.8";const Ar=new Zp("@firebase/app"),CN="@firebase/app-compat",IN="@firebase/analytics-compat",DN="@firebase/analytics",ON="@firebase/app-check-compat",MN="@firebase/app-check",jN="@firebase/auth",kN="@firebase/auth-compat",VN="@firebase/database",PN="@firebase/data-connect",LN="@firebase/database-compat",UN="@firebase/functions",zN="@firebase/functions-compat",BN="@firebase/installations",qN="@firebase/installations-compat",HN="@firebase/messaging",FN="@firebase/messaging-compat",GN="@firebase/performance",QN="@firebase/performance-compat",YN="@firebase/remote-config",KN="@firebase/remote-config-compat",$N="@firebase/storage",XN="@firebase/storage-compat",JN="@firebase/firestore",WN="@firebase/ai",ZN="@firebase/firestore-compat",eR="firebase",tR="12.9.0";const yp="[DEFAULT]",nR={[gp]:"fire-core",[CN]:"fire-core-compat",[DN]:"fire-analytics",[IN]:"fire-analytics-compat",[MN]:"fire-app-check",[ON]:"fire-app-check-compat",[jN]:"fire-auth",[kN]:"fire-auth-compat",[VN]:"fire-rtdb",[PN]:"fire-data-connect",[LN]:"fire-rtdb-compat",[UN]:"fire-fn",[zN]:"fire-fn-compat",[BN]:"fire-iid",[qN]:"fire-iid-compat",[HN]:"fire-fcm",[FN]:"fire-fcm-compat",[GN]:"fire-perf",[QN]:"fire-perf-compat",[YN]:"fire-rc",[KN]:"fire-rc-compat",[$N]:"fire-gcs",[XN]:"fire-gcs-compat",[JN]:"fire-fst",[ZN]:"fire-fst-compat",[WN]:"fire-vertex","fire-js":"fire-js",[eR]:"fire-js-all"};const $h=new Map,iR=new Map,vp=new Map;function z_(r,e){try{r.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ko(r){const e=r.name;if(vp.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,r);for(const n of $h.values())z_(n,r);for(const n of iR.values())z_(n,r);return!0}function tg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function kn(r){return r==null?!1:r.settings!==void 0}const rR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Vu("app","Firebase",rR);class sR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}const Go=tR;function Xb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:yp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(n||(n=Fb()),!n)throw _s.create("no-options");const u=$h.get(o);if(u){if(ba(n,u.options)&&ba(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const h=new hN(o);for(const m of vp.values())h.addComponent(m);const g=new sR(n,s,h);return $h.set(o,g),g}function Jb(r=yp){const e=$h.get(r);if(!e&&r===yp&&Fb())return Xb();if(!e)throw _s.create("no-app",{appName:r});return e}function Es(r,e,n){let s=nR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(h.join(" "));return}ko(new Ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const aR="firebase-heartbeat-database",oR=1,Tu="firebase-heartbeat-store";let tp=null;function Wb(){return tp||(tp=wN(aR,oR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw _s.create("idb-open",{originalErrorMessage:r.message})})),tp}async function lR(r){try{const n=(await Wb()).transaction(Tu),s=await n.objectStore(Tu).get(Zb(r));return await n.done,s}catch(e){if(e instanceof Or)Ar.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(n.message)}}}async function B_(r,e){try{const s=(await Wb()).transaction(Tu,"readwrite");await s.objectStore(Tu).put(e,Zb(r)),await s.done}catch(n){if(n instanceof Or)Ar.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n?.message});Ar.warn(s.message)}}}function Zb(r){return`${r.name}!${r.options.appId}`}const uR=1024,cR=30;class hR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>cR){const o=mR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=q_(),{heartbeatsToSend:n,unsentEntries:s}=dR(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ar.warn(e),""}}}function q_(){return new Date().toISOString().substring(0,10)}function dR(r,e=uR){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),H_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z2()?eN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return B_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return B_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H_(r){return Kh(JSON.stringify({version:2,heartbeats:r})).length}function mR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function pR(r){ko(new Ta("platform-logger",e=>new NN(e),"PRIVATE")),ko(new Ta("heartbeat",e=>new hR(e),"PRIVATE")),Es(gp,U_,r),Es(gp,U_,"esm2020"),Es("fire-js","")}pR("");var gR="firebase",yR="12.9.0";Es(gR,yR,"app");function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vR=eT,tT=new Vu("auth","Firebase",eT());const Xh=new Zp("@firebase/auth");function _R(r,...e){Xh.logLevel<=Le.WARN&&Xh.warn(`Auth (${Go}): ${r}`,...e)}function Vh(r,...e){Xh.logLevel<=Le.ERROR&&Xh.error(`Auth (${Go}): ${r}`,...e)}function ei(r,...e){throw ig(r,...e)}function pi(r,...e){return ig(r,...e)}function ng(r,e,n){const s={...vR(),[e]:n};return new Vu("auth","Firebase",s).create(e,{appName:r.name})}function br(r){return ng(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ER(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ei(r,"argument-error"),ng(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ig(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return tT.create(r,...e)}function be(r,e,...n){if(!r)throw ig(e,...n)}function vr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Vh(e),new Error(e)}function Nr(r,e){r||vr(e)}function _p(){return typeof self<"u"&&self.location?.href||""}function bR(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}function TR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bR()||$2()||"connection"in navigator)?navigator.onLine:!0}function xR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=Q2()||X2()}get(){return TR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rg(r,e){Nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class nT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AR=new Lu(3e4,6e4);function Ds(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Os(r,e,n,s,o={}){return iT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const g=Pu({key:r.config.apiKey,...h}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:m,...u};return K2()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(p.credentials="include"),nT.fetch()(await rT(r,r.config.apiHost,n,g),p)})}async function iT(r,e,n){r._canInitEmulator=!1;const s={...wR,...e};try{const o=new RR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Nh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const g=u.ok?h.errorMessage:h.error.message,[m,p]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Nh(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw Nh(r,"user-disabled",h);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ng(r,v,p);ei(r,v)}}catch(o){if(o instanceof Or)throw o;ei(r,"network-request-failed",{message:String(o)})}}async function Uu(r,e,n,s,o={}){const u=await Os(r,e,n,s,o);return"mfaPendingCredential"in u&&ei(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function rT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?rg(r.config,o):`${r.config.apiScheme}://${o}`;return SR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function NR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),AR.get())})}}function Nh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(r,e,s);return o.customData._tokenResponse=n,o}function G_(r){return r!==void 0&&r.enterprise!==void 0}class CR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IR(r,e){return Os(r,"GET","/v2/recaptchaConfig",Ds(r,e))}async function DR(r,e){return Os(r,"POST","/v1/accounts:delete",e)}async function Jh(r,e){return Os(r,"POST","/v1/accounts:lookup",e)}function pu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OR(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=sg(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:pu(np(o.auth_time)),issuedAtTime:pu(np(o.iat)),expirationTime:pu(np(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function np(r){return Number(r)*1e3}function sg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=qb(n);return o?JSON.parse(o):(Vh("Failed to decode base64 JWT payload"),null)}catch(o){return Vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Q_(r){const e=sg(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Or&&MR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function MR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class jR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wh(r){const e=r.auth,n=await r.getIdToken(),s=await xu(r,Jh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?sT(o.providerUserInfo):[],h=VR(r.providerData,u),g=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!h?.length,p=g?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,v)}async function kR(r){const e=Ft(r);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function PR(r,e){const n=await iT(r,{},async()=>{const s=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await rT(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:g,body:s};return r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(m.credentials="include"),nT.fetch()(h,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LR(r,e){return Os(r,"POST","/v2/accounts:revokeToken",Ds(r,e))}class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=Q_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await PR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Io;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return vr("not implemented")}}function ds(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new jR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OR(this,e)}reload(){return kR(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await xu(this,DR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,g=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:N,providerData:O,stsTokenManager:U}=n;be(b&&U,e,"internal-error");const V=Io.fromJSON(this.name,U);be(typeof b=="string",e,"internal-error"),ds(s,e.name),ds(o,e.name),be(typeof x=="boolean",e,"internal-error"),be(typeof N=="boolean",e,"internal-error"),ds(u,e.name),ds(h,e.name),ds(g,e.name),ds(m,e.name),ds(p,e.name),ds(v,e.name);const X=new mi({uid:b,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:N,photoURL:h,phoneNumber:u,tenantId:g,stsTokenManager:V,createdAt:p,lastLoginAt:v});return O&&Array.isArray(O)&&(X.providerData=O.map(B=>({...B}))),m&&(X._redirectEventId=m),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new Io;o.updateFromServerResponse(n);const u=new mi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,g=new Io;g.updateFromIdToken(s);const m=new mi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,p),m}}const Y_=new Map;function _r(r){Nr(r instanceof Function,"Expected a class definition");let e=Y_.get(r);return e?(Nr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Y_.set(r,e),e)}class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aT.type="NONE";const K_=aT;function Ph(r,e,n){return`firebase:${r}:${e}:${n}`}class Do{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jh(this.auth,{idToken:e}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Do(_r(K_),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||_r(K_);const h=Ph(s,e.config.apiKey,e.name);let g=null;for(const p of n)try{const v=await p._get(h);if(v){let b;if(typeof v=="string"){const x=await Jh(e,{idToken:v}).catch(()=>{});if(!x)break;b=await mi._fromGetAccountInfoResponse(e,x,v)}else b=mi._fromJSON(e,v);p!==u&&(g=b),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Do(u,e,s):(u=m[0],g&&await u._set(h,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Do(u,e,s))}}function $_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dT(e))return"Blackberry";if(fT(e))return"Webos";if(lT(e))return"Safari";if((e.includes("chrome/")||uT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function oT(r=cn()){return/firefox\//i.test(r)}function lT(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uT(r=cn()){return/crios\//i.test(r)}function cT(r=cn()){return/iemobile/i.test(r)}function hT(r=cn()){return/android/i.test(r)}function dT(r=cn()){return/blackberry/i.test(r)}function fT(r=cn()){return/webos/i.test(r)}function ag(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UR(r=cn()){return ag(r)&&!!window.navigator?.standalone}function zR(){return J2()&&document.documentMode===10}function mT(r=cn()){return ag(r)||hT(r)||fT(r)||dT(r)||/windows phone/i.test(r)||cT(r)}function pT(r,e=[]){let n;switch(r){case"Browser":n=$_(cn());break;case"Worker":n=`${$_(cn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${s}`}class BR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,g)=>{try{const m=e(u);h(m)}catch(m){g(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function qR(r,e={}){return Os(r,"GET","/v2/passwordPolicy",Ds(r,e))}const HR=6;class FR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class GR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jh(this,{idToken:e}),s=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===h)&&g?.user&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(br(this));const n=e?Ft(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qR(this),n=new FR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await LR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(g,this,"internal-error"),g.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(n);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_R(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ms(r){return Ft(r)}class X_{constructor(e){this.auth=e,this.observer=null,this.addObserver=sN(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QR(r){Ed=r}function gT(r){return Ed.loadJS(r)}function YR(){return Ed.recaptchaEnterpriseScript}function KR(){return Ed.gapiScript}function $R(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class XR{constructor(){this.enterprise=new JR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const WR="recaptcha-enterprise",yT="NO_RECAPTCHA";class ZR{constructor(e){this.type=WR,this.auth=Ms(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,g)=>{IR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new CR(m);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(m=>{g(m)})})}function o(u,h,g){const m=window.grecaptcha;G_(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(yT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(g=>{if(!n&&G_(window.grecaptcha))o(g,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=YR();m.length!==0&&(m+=g),gT(m).then(()=>{o(g,u,h)}).catch(p=>{h(p)})}}).catch(g=>{h(g)})})}}async function J_(r,e,n,s=!1,o=!1){const u=new ZR(r);let h;if(o)h=yT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const m=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const m=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function bp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await J_(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await J_(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function eC(r,e){const n=tg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ba(u,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function tC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_r);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function nC(r,e,n){const s=Ms(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=vT(e),{host:h,port:g}=iC(e),m=g===null?"":`:${g}`,p={url:`${u}//${h}${m}/`},v=Object.freeze({host:h,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ba(p,s.config.emulator)&&ba(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Fo(h)?(Qb(`${u}//${h}${m}`),Yb("Auth",!0)):rC()}function vT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function iC(r){const e=vT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:W_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:W_(h)}}}function W_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function rC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function sC(r,e){return Os(r,"POST","/v1/accounts:signUp",e)}async function aC(r,e){return Uu(r,"POST","/v1/accounts:signInWithPassword",Ds(r,e))}async function oC(r,e){return Uu(r,"POST","/v1/accounts:signInWithEmailLink",Ds(r,e))}async function lC(r,e){return Uu(r,"POST","/v1/accounts:signInWithEmailLink",Ds(r,e))}class wu extends og{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new wu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,n,"signInWithPassword",aC);case"emailLink":return oC(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,s,"signUpPassword",sC);case"emailLink":return lC(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Oo(r,e){return Uu(r,"POST","/v1/accounts:signInWithIdp",Ds(r,e))}const uC="http://localhost";class xa extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new xa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:uC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pu(n)}return e}}function cC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hC(r){const e=lu(uu(r)).link,n=e?lu(uu(e)).deep_link_id:null,s=lu(uu(r)).deep_link_id;return(s?lu(uu(s)).link:null)||s||n||e||r}class lg{constructor(e){const n=lu(uu(e)),s=n.apiKey??null,o=n.oobCode??null,u=cC(n.mode??null);be(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hC(e);try{return new lg(n)}catch{return null}}}class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=lg.parseLink(n);return be(s,"argument-error"),wu._fromEmailAndCode(e,s.code,s.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ug{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zu extends ug{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ms extends zu{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";class yr extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xa._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return yr.credential(n,s)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";class ps extends zu{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";class gs extends zu{constructor(){super("twitter.com")}static credential(e,n){return xa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";async function dC(r,e){return Uu(r,"POST","/v1/accounts:signUp",Ds(r,e))}class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await mi._fromIdTokenResponse(e,s,o),h=Z_(s);return new wa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Z_(s);return new wa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Z_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Zh extends Or{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Zh(e,n,s,o)}}function _T(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(r,u,e,s):u})}async function fC(r,e,n=!1){const s=await xu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return wa._forOperation(r,"link",s)}async function mC(r,e,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(br(s));const o="reauthenticate";try{const u=await xu(r,_T(s,o,e,r),n);be(u.idToken,s,"internal-error");const h=sg(u.idToken);be(h,s,"internal-error");const{sub:g}=h;return be(r.uid===g,s,"user-mismatch"),wa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}async function ET(r,e,n=!1){if(kn(r.app))return Promise.reject(br(r));const s="signIn",o=await _T(r,s,e),u=await wa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function pC(r,e){return ET(Ms(r),e)}async function bT(r){const e=Ms(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gC(r,e,n){if(kn(r.app))return Promise.reject(br(r));const s=Ms(r),h=await bp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dC).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&bT(r),m}),g=await wa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(g.user),g}function yC(r,e,n){return kn(r.app)?Promise.reject(br(r)):pC(Ft(r),Qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bT(r),s})}function vC(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function _C(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function EC(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function bC(r){return Ft(r).signOut()}const ed="__sak";class TT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TC=1e3,xC=10;class xT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,g,m)=>{this.notifyListeners(h,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);zR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xT.type="LOCAL";const wC=xT;class wT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wT.type="SESSION";const ST=wT;function SC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new bd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(h).map(async p=>p(n.origin,u)),m=await SC(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];function cg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class AC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((g,m)=>{const p=cg("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(x.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Gi(){return window}function NC(r){Gi().location.href=r}function AT(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function RC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CC(){return navigator?.serviceWorker?.controller||null}function IC(){return AT()?self:null}const NT="firebaseLocalStorageDb",DC=1,td="firebaseLocalStorage",RT="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Td(r,e){return r.transaction([td],e?"readwrite":"readonly").objectStore(td)}function OC(){const r=indexedDB.deleteDatabase(NT);return new Bu(r).toPromise()}function Tp(){const r=indexedDB.open(NT,DC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(td,{keyPath:RT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(td)?e(s):(s.close(),await OC(),e(await Tp()))})})}async function eE(r,e,n){const s=Td(r,!0).put({[RT]:e,value:n});return new Bu(s).toPromise()}async function MC(r,e){const n=Td(r,!1).get(e),s=await new Bu(n).toPromise();return s===void 0?null:s.value}function tE(r,e){const n=Td(r,!0).delete(e);return new Bu(n).toPromise()}const jC=800,kC=3;class CT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>kC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(IC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RC(),!this.activeServiceWorker)return;this.sender=new AC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await eE(e,ed,"1"),await tE(e,ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>eE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>MC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Td(o,!1).getAll();return new Bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CT.type="LOCAL";const VC=CT;new Lu(3e4,6e4);function IT(r,e){return e?_r(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hg extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PC(r){return ET(r.auth,new hg(r),r.bypassAuthState)}function LC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),mC(n,new hg(r),r.bypassAuthState)}async function UC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),fC(n,new hg(r),r.bypassAuthState)}class DT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:g}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PC;case"linkViaPopup":case"linkViaRedirect":return UC;case"reauthViaPopup":case"reauthViaRedirect":return LC;default:ei(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zC=new Lu(2e3,1e4);async function BC(r,e,n){if(kn(r.app))return Promise.reject(pi(r,"operation-not-supported-in-this-environment"));const s=Ms(r);ER(r,e,ug);const o=IT(s,n);return new ga(s,"signInViaPopup",e,o).executeNotNull()}class ga extends DT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zC.get())};e()}}ga.currentPopupAction=null;const qC="pendingRedirect",Lh=new Map;class HC extends DT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const s=await FC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FC(r,e){const n=YC(e),s=QC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function GC(r,e){Lh.set(r._key(),e)}function QC(r){return _r(r._redirectPersistence)}function YC(r){return Ph(qC,r.config.apiKey,r.name)}async function KC(r,e,n=!1){if(kn(r.app))return Promise.reject(br(r));const s=Ms(r),o=IT(s,e),h=await new HC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const $C=600*1e3;class XC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!OT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$C&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function OT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function JC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(r);default:return!1}}async function WC(r,e={}){return Os(r,"GET","/v1/projects",e)}const ZC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eI=/^https?/;async function tI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await WC(r);for(const n of e)try{if(nI(n))return}catch{}ei(r,"unauthorized-domain")}function nI(r){const e=_p(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!eI.test(n))return!1;if(ZC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const iI=new Lu(3e4,6e4);function iE(){const r=Gi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function rI(r){return new Promise((e,n)=>{function s(){iE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iE(),n(pi(r,"network-request-failed"))},timeout:iI.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)s();else{const o=$R("iframefcb");return Gi()[o]=()=>{gapi.load?s():n(pi(r,"network-request-failed"))},gT(`${KR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function sI(r){return Uh=Uh||rI(r),Uh}const aI=new Lu(5e3,15e3),oI="__/auth/iframe",lI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hI(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?rg(e,lI):`https://${r.config.authDomain}/${oI}`,s={apiKey:e.apiKey,appName:r.name,v:Go},o=cI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Pu(s).slice(1)}`}async function dI(r){const e=await sI(r),n=Gi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:hI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=pi(r,"network-request-failed"),g=Gi().setTimeout(()=>{u(h)},aI.get());function m(){Gi().clearTimeout(g),o(s)}s.ping(m).then(m,()=>{u(h)})}))}const fI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mI=500,pI=600,gI="_blank",yI="http://localhost";class rE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vI(r,e,n,s=mI,o=pI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const m={...fI,width:s.toString(),height:o.toString(),top:u,left:h},p=cn().toLowerCase();n&&(g=uT(p)?gI:n),oT(p)&&(e=e||yI,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[N,O])=>`${x}${N}=${O},`,"");if(UR(p)&&g!=="_self")return _I(e||"",g),new rE(null);const b=window.open(e||"",g,v);be(b,r,"popup-blocked");try{b.focus()}catch{}return new rE(b)}function _I(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const EI="__/auth/handler",bI="emulator/auth/handler",TI=encodeURIComponent("fac");async function sE(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Go,eventId:o};if(e instanceof ug){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",rN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof zu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const g=h;for(const v of Object.keys(g))g[v]===void 0&&delete g[v];const m=await r._getAppCheckToken(),p=m?`#${TI}=${encodeURIComponent(m)}`:"";return`${xI(r)}?${Pu(g).slice(1)}${p}`}function xI({config:r}){return r.emulator?rg(r,bI):`https://${r.authDomain}/${EI}`}const ip="webStorageSupport";class wI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=KC,this._overrideRedirectResult=GC}async _openPopup(e,n,s,o){Nr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await sE(e,n,s,_p(),o);return vI(e,u,cg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await sE(e,n,s,_p(),o);return NC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dI(e),s=new XC(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},o=>{const u=o?.[0]?.[ip];u!==void 0&&n(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||lT()||ag()}}const SI=wI;var aE="@firebase/auth",oE="1.12.0";class AI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RI(r){ko(new Ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(r)},p=new GR(s,o,u,m);return tC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ko(new Ta("auth-internal",e=>{const n=Ms(e.getProvider("auth").getImmediate());return(s=>new AI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(aE,oE,NI(r)),Es(aE,oE,"esm2020")}const CI=300,II=Gb("authIdTokenMaxAge")||CI;let lE=null;const DI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>II)return;const o=n?.token;lE!==o&&(lE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function OI(r=Jb()){const e=tg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=eC(r,{popupRedirectResolver:SI,persistence:[VC,wC,ST]}),s=Gb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=DI(u.toString());_C(n,h,()=>h(n.currentUser)),vC(n,g=>h(g))}}const o=Hb("auth");return o&&nC(n,`http://${o}`),n}function MI(){return document.getElementsByTagName("head")?.[0]??document}QR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",MI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RI("Browser");var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bs,MT;(function(){var r;function e(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(P,k,H){for(var D=Array(arguments.length-2),je=2;je<arguments.length;je++)D[je-2]=arguments[je];return A.prototype[k].apply(P,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(k=0;k<16;++k)P[k]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],k=C.g[2];let H=C.g[3],D;D=A+(H^R&(k^H))+P[0]+3614090360&4294967295,A=R+(D<<7&4294967295|D>>>25),D=H+(k^A&(R^k))+P[1]+3905402710&4294967295,H=A+(D<<12&4294967295|D>>>20),D=k+(R^H&(A^R))+P[2]+606105819&4294967295,k=H+(D<<17&4294967295|D>>>15),D=R+(A^k&(H^A))+P[3]+3250441966&4294967295,R=k+(D<<22&4294967295|D>>>10),D=A+(H^R&(k^H))+P[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=H+(k^A&(R^k))+P[5]+1200080426&4294967295,H=A+(D<<12&4294967295|D>>>20),D=k+(R^H&(A^R))+P[6]+2821735955&4294967295,k=H+(D<<17&4294967295|D>>>15),D=R+(A^k&(H^A))+P[7]+4249261313&4294967295,R=k+(D<<22&4294967295|D>>>10),D=A+(H^R&(k^H))+P[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=H+(k^A&(R^k))+P[9]+2336552879&4294967295,H=A+(D<<12&4294967295|D>>>20),D=k+(R^H&(A^R))+P[10]+4294925233&4294967295,k=H+(D<<17&4294967295|D>>>15),D=R+(A^k&(H^A))+P[11]+2304563134&4294967295,R=k+(D<<22&4294967295|D>>>10),D=A+(H^R&(k^H))+P[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=H+(k^A&(R^k))+P[13]+4254626195&4294967295,H=A+(D<<12&4294967295|D>>>20),D=k+(R^H&(A^R))+P[14]+2792965006&4294967295,k=H+(D<<17&4294967295|D>>>15),D=R+(A^k&(H^A))+P[15]+1236535329&4294967295,R=k+(D<<22&4294967295|D>>>10),D=A+(k^H&(R^k))+P[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=H+(R^k&(A^R))+P[6]+3225465664&4294967295,H=A+(D<<9&4294967295|D>>>23),D=k+(A^R&(H^A))+P[11]+643717713&4294967295,k=H+(D<<14&4294967295|D>>>18),D=R+(H^A&(k^H))+P[0]+3921069994&4294967295,R=k+(D<<20&4294967295|D>>>12),D=A+(k^H&(R^k))+P[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=H+(R^k&(A^R))+P[10]+38016083&4294967295,H=A+(D<<9&4294967295|D>>>23),D=k+(A^R&(H^A))+P[15]+3634488961&4294967295,k=H+(D<<14&4294967295|D>>>18),D=R+(H^A&(k^H))+P[4]+3889429448&4294967295,R=k+(D<<20&4294967295|D>>>12),D=A+(k^H&(R^k))+P[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=H+(R^k&(A^R))+P[14]+3275163606&4294967295,H=A+(D<<9&4294967295|D>>>23),D=k+(A^R&(H^A))+P[3]+4107603335&4294967295,k=H+(D<<14&4294967295|D>>>18),D=R+(H^A&(k^H))+P[8]+1163531501&4294967295,R=k+(D<<20&4294967295|D>>>12),D=A+(k^H&(R^k))+P[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=H+(R^k&(A^R))+P[2]+4243563512&4294967295,H=A+(D<<9&4294967295|D>>>23),D=k+(A^R&(H^A))+P[7]+1735328473&4294967295,k=H+(D<<14&4294967295|D>>>18),D=R+(H^A&(k^H))+P[12]+2368359562&4294967295,R=k+(D<<20&4294967295|D>>>12),D=A+(R^k^H)+P[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=H+(A^R^k)+P[8]+2272392833&4294967295,H=A+(D<<11&4294967295|D>>>21),D=k+(H^A^R)+P[11]+1839030562&4294967295,k=H+(D<<16&4294967295|D>>>16),D=R+(k^H^A)+P[14]+4259657740&4294967295,R=k+(D<<23&4294967295|D>>>9),D=A+(R^k^H)+P[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=H+(A^R^k)+P[4]+1272893353&4294967295,H=A+(D<<11&4294967295|D>>>21),D=k+(H^A^R)+P[7]+4139469664&4294967295,k=H+(D<<16&4294967295|D>>>16),D=R+(k^H^A)+P[10]+3200236656&4294967295,R=k+(D<<23&4294967295|D>>>9),D=A+(R^k^H)+P[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=H+(A^R^k)+P[0]+3936430074&4294967295,H=A+(D<<11&4294967295|D>>>21),D=k+(H^A^R)+P[3]+3572445317&4294967295,k=H+(D<<16&4294967295|D>>>16),D=R+(k^H^A)+P[6]+76029189&4294967295,R=k+(D<<23&4294967295|D>>>9),D=A+(R^k^H)+P[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=H+(A^R^k)+P[12]+3873151461&4294967295,H=A+(D<<11&4294967295|D>>>21),D=k+(H^A^R)+P[15]+530742520&4294967295,k=H+(D<<16&4294967295|D>>>16),D=R+(k^H^A)+P[2]+3299628645&4294967295,R=k+(D<<23&4294967295|D>>>9),D=A+(k^(R|~H))+P[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=H+(R^(A|~k))+P[7]+1126891415&4294967295,H=A+(D<<10&4294967295|D>>>22),D=k+(A^(H|~R))+P[14]+2878612391&4294967295,k=H+(D<<15&4294967295|D>>>17),D=R+(H^(k|~A))+P[5]+4237533241&4294967295,R=k+(D<<21&4294967295|D>>>11),D=A+(k^(R|~H))+P[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=H+(R^(A|~k))+P[3]+2399980690&4294967295,H=A+(D<<10&4294967295|D>>>22),D=k+(A^(H|~R))+P[10]+4293915773&4294967295,k=H+(D<<15&4294967295|D>>>17),D=R+(H^(k|~A))+P[1]+2240044497&4294967295,R=k+(D<<21&4294967295|D>>>11),D=A+(k^(R|~H))+P[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=H+(R^(A|~k))+P[15]+4264355552&4294967295,H=A+(D<<10&4294967295|D>>>22),D=k+(A^(H|~R))+P[6]+2734768916&4294967295,k=H+(D<<15&4294967295|D>>>17),D=R+(H^(k|~A))+P[13]+1309151649&4294967295,R=k+(D<<21&4294967295|D>>>11),D=A+(k^(R|~H))+P[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=H+(R^(A|~k))+P[11]+3174756917&4294967295,H=A+(D<<10&4294967295|D>>>22),D=k+(A^(H|~R))+P[2]+718787259&4294967295,k=H+(D<<15&4294967295|D>>>17),D=R+(H^(k|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+H&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,P=this.C;let k=this.h,H=0;for(;H<A;){if(k==0)for(;H<=R;)o(this,C,H),H+=this.blockSize;if(typeof C=="string"){for(;H<A;)if(P[k++]=C.charCodeAt(H++),k==this.blockSize){o(this,P),k=0;break}}else for(;H<A;)if(P[k++]=C[H++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)C[A++]=this.g[R]>>>P&255;return C};function u(C,A){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function h(C,A){this.h=A;const R=[];let P=!0;for(let k=C.length-1;k>=0;k--){const H=C[k]|0;P&&H==A||(R[k]=H,P=!1)}this.g=R}var g={};function m(C){return-128<=C&&C<128?u(C,function(A){return new h([A|0],A<0?-1:0)}):new h([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return V(p(-C));const A=[];let R=1;for(let P=0;C>=R;P++)A[P]=C/R|0,R*=4294967296;return new h(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return V(v(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let P=b;for(let H=0;H<C.length;H+=8){var k=Math.min(8,C.length-H);const D=parseInt(C.substring(H,H+k),A);k<8?(k=p(Math.pow(A,k)),P=P.j(k).add(p(D))):(P=P.j(R),P=P.add(p(D)))}return P}var b=m(0),x=m(1),N=m(16777216);r=h.prototype,r.m=function(){if(U(this))return-V(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(U(this))return"-"+V(this).toString(C);const A=p(Math.pow(C,6));var R=this;let P="";for(;;){const k=re(R,A).g;R=X(R,k.j(A));let H=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=k,O(R))return H+P;for(;H.length<6;)H="0"+H;P=H+P}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function U(C){return C.h==-1}r.l=function(C){return C=X(this,C),U(C)?-1:O(C)?0:1};function V(C){const A=C.g.length,R=[];for(let P=0;P<A;P++)R[P]=~C.g[P];return new h(R,~C.h).add(x)}r.abs=function(){return U(this)?V(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let P=0;for(let k=0;k<=A;k++){let H=P+(this.i(k)&65535)+(C.i(k)&65535),D=(H>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);P=D>>>16,H&=65535,D&=65535,R[k]=D<<16|H}return new h(R,R[R.length-1]&-2147483648?-1:0)};function X(C,A){return C.add(V(A))}r.j=function(C){if(O(this)||O(C))return b;if(U(this))return U(C)?V(this).j(V(C)):V(V(this).j(C));if(U(C))return V(this.j(V(C)));if(this.l(N)<0&&C.l(N)<0)return p(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var P=0;P<2*A;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<C.g.length;k++){const H=this.i(P)>>>16,D=this.i(P)&65535,je=C.i(k)>>>16,Ge=C.i(k)&65535;R[2*P+2*k]+=D*Ge,B(R,2*P+2*k),R[2*P+2*k+1]+=H*Ge,B(R,2*P+2*k+1),R[2*P+2*k+1]+=D*je,B(R,2*P+2*k+1),R[2*P+2*k+2]+=H*je,B(R,2*P+2*k+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new h(R,0)};function B(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function I(C,A){this.g=C,this.h=A}function re(C,A){if(O(A))throw Error("division by zero");if(O(C))return new I(b,b);if(U(C))return A=re(V(C),A),new I(V(A.g),V(A.h));if(U(A))return A=re(C,V(A)),new I(V(A.g),A.h);if(C.g.length>30){if(U(C)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,P=A;P.l(C)<=0;)R=le(R),P=le(P);var k=de(R,1),H=de(P,1);for(P=de(P,2),R=de(R,2);!O(P);){var D=H.add(P);D.l(C)<=0&&(k=k.add(R),H=D),P=de(P,1),R=de(R,1)}return A=X(C,k.j(A)),new I(k,A)}for(k=b;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),H=p(R),D=H.j(A);U(D)||D.l(C)>0;)R-=P,H=p(R),D=H.j(A);O(H)&&(H=x),k=k.add(H),C=X(C,D)}return new I(k,C)}r.B=function(C){return re(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)&C.i(P);return new h(R,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)|C.i(P);return new h(R,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)^C.i(P);return new h(R,this.h^C.h)};function le(C){const A=C.g.length+1,R=[];for(let P=0;P<A;P++)R[P]=C.i(P)<<1|C.i(P-1)>>>31;return new h(R,C.h)}function de(C,A){const R=A>>5;A%=32;const P=C.g.length-R,k=[];for(let H=0;H<P;H++)k[H]=A>0?C.i(H+R)>>>A|C.i(H+R+1)<<32-A:C.i(H+R);return new h(k,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,MT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,bs=h}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jT,cu,kT,zh,xp,VT,PT,LT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var _=0;_<c.length;++_){var T=c[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var T=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in T))break e;T=T[F]}c=c[c.length-1],S=T[c],_=_(S),_!=S&&_!=null&&e(T,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var T=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&T.push([S,_[S]]);return T}});var u=u||{},h=this||self;function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function m(c,_,T){return c.call.apply(c.bind,arguments)}function p(c,_,T){return p=m,p.apply(null,arguments)}function v(c,_){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,_){function T(){}T.prototype=_.prototype,c.Z=_.prototype,c.prototype=new T,c.prototype.constructor=c,c.Ob=function(S,F,K){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return _.prototype[F].apply(S,se)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const _=c.length;if(_>0){const T=Array(_);for(let S=0;S<_;S++)T[S]=c[S];return T}return[]}function O(c,_){for(let S=1;S<arguments.length;S++){const F=arguments[S];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=c.length||0;const K=F.length||0;c.length=T+K;for(let se=0;se<K;se++)c[T+se]=F[se]}else c.push(F)}}class U{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(c){h.setTimeout(()=>{throw c},0)}function X(){var c=C;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,T){const S=I.get();S.set(_,T),this.h?this.h.next=S:this.g=S,this.h=S}}var I=new U(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,C=new B,A=()=>{const c=Promise.resolve(void 0);le=()=>{c.then(R)}};function R(){for(var c;c=X();){try{c.h.call(c.g)}catch(T){V(T)}var _=I;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}de=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};h.addEventListener("test",T,_),h.removeEventListener("test",T,_)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function je(c,_){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}b(je,k),je.prototype.init=function(c,_){const T=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(T=="mouseover"?_=c.fromElement:T=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(c,_,T,S,F){this.listener=c,this.proxy=null,this.src=_,this.type=T,this.capture=!!S,this.ha=F,this.key=++J,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,_,T){for(const S in c)_.call(T,c[S],S,c)}function Qe(c,_){for(const T in c)_.call(void 0,c[T],T,c)}function z(c){const _={};for(const T in c)_[T]=c[T];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,_){let T,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(T in S)c[T]=S[T];for(let K=0;K<te.length;K++)T=te[K],Object.prototype.hasOwnProperty.call(S,T)&&(c[T]=S[T])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,_,T,S,F){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ce(c,_,S,F);return se>-1?(_=c[se],T||(_.fa=!1)):(_=new ae(_,this.src,K,!!S,F),_.fa=T,c.push(_)),_};function xe(c,_){const T=_.type;if(T in c.g){var S=c.g[T],F=Array.prototype.indexOf.call(S,_,void 0),K;(K=F>=0)&&Array.prototype.splice.call(S,F,1),K&&(pe(_),c.g[T].length==0&&(delete c.g[T],c.h--))}}function Ce(c,_,T,S){for(let F=0;F<c.length;++F){const K=c[F];if(!K.da&&K.listener==_&&K.capture==!!T&&K.ha==S)return F}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Lt={};function ht(c,_,T,S,F){if(Array.isArray(_)){for(let K=0;K<_.length;K++)ht(c,_[K],T,S,F);return null}return T=tl(T),c&&c[Ge]?c.J(_,T,g(S)?!!S.capture:!1,F):Ls(c,_,T,!1,S,F)}function Ls(c,_,T,S,F,K){if(!_)throw Error("Invalid event type");const se=g(F)?!!F.capture:!!F;let Ne=Us(c);if(Ne||(c[qe]=Ne=new ce(c)),T=Ne.add(_,T,S,se,K),T.proxy)return T;if(S=ja(),T.proxy=S,S.src=c,S.listener=T,c.addEventListener)H||(F=se),F===void 0&&(F=!1),c.addEventListener(_.toString(),S,F);else if(c.attachEvent)c.attachEvent(Ei(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ja(){function c(T){return _.call(c.src,c.listener,T)}const _=Zo;return c}function ka(c,_,T,S,F){if(Array.isArray(_))for(var K=0;K<_.length;K++)ka(c,_[K],T,S,F);else S=g(S)?!!S.capture:!!S,T=tl(T),c&&c[Ge]?(c=c.i,K=String(_).toString(),K in c.g&&(_=c.g[K],T=Ce(_,T,S,F),T>-1&&(pe(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete c.g[K],c.h--)))):c&&(c=Us(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Ce(_,T,S,F)),(T=c>-1?_[c]:null)&&Va(T))}function Va(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Ge])xe(_.i,c);else{var T=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(T,S,c.capture):_.detachEvent?_.detachEvent(Ei(T),S):_.addListener&&_.removeListener&&_.removeListener(S),(T=Us(_))?(xe(T,c),T.h==0&&(T.src=null,_[qe]=null)):pe(c)}}}function Ei(c){return c in Lt?Lt[c]:Lt[c]="on"+c}function Zo(c,_){if(c.da)c=!0;else{_=new je(_,this);const T=c.listener,S=c.ha||c.src;c.fa&&Va(c),c=T.call(S,_)}return c}function Us(c){return c=c[qe],c instanceof ce?c:null}var el="__closure_events_fn_"+(Math.random()*1e9>>>0);function tl(c){return typeof c=="function"?c:(c[el]||(c[el]=function(_){return c.handleEvent(_)}),c[el])}function At(){P.call(this),this.i=new ce(this),this.M=this,this.G=null}b(At,P),At.prototype[Ge]=!0,At.prototype.removeEventListener=function(c,_,T,S){ka(this,c,_,T,S)};function Ut(c,_){var T,S=c.G;if(S)for(T=[];S;S=S.G)T.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new k(_,c);else if(_ instanceof k)_.target=_.target||c;else{var F=_;_=new k(S,c),oe(_,F)}F=!0;let K,se;if(T)for(se=T.length-1;se>=0;se--)K=_.g=T[se],F=Mr(K,S,!0,_)&&F;if(K=_.g=c,F=Mr(K,S,!0,_)&&F,F=Mr(K,S,!1,_)&&F,T)for(se=0;se<T.length;se++)K=_.g=T[se],F=Mr(K,S,!1,_)&&F}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const T=c.g[_];for(let S=0;S<T.length;S++)pe(T[S]);delete c.g[_],c.h--}}this.G=null},At.prototype.J=function(c,_,T,S){return this.i.add(String(c),_,!1,T,S)},At.prototype.K=function(c,_,T,S){return this.i.add(String(c),_,!0,T,S)};function Mr(c,_,T,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let K=0;K<_.length;++K){const se=_[K];if(se&&!se.da&&se.capture==T){const Ne=se.listener,Tt=se.ha||se.src;se.fa&&xe(c.i,se),F=Ne.call(Tt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Hd(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(c,_||0)}function Xu(c){c.g=Hd(()=>{c.g=null,c.i&&(c.i=!1,Xu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class hn extends P{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(c){P.call(this),this.h=c,this.g={}}b(zs,P);var nl=[];function il(c){ke(c.g,function(_,T){this.g.hasOwnProperty(T)&&Va(_)},c),c.g={}}zs.prototype.N=function(){zs.Z.N.call(this),il(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jr=h.JSON.stringify,Fd=h.JSON.parse,Ju=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Wu(){}function Zu(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){k.call(this,"d")}b($t,k);function Un(){k.call(this,"c")}b(Un,k);var bt={},ec=null;function Pa(){return ec=ec||new At}bt.Ia="serverreachability";function tc(c){k.call(this,bt.Ia,c)}b(tc,k);function bi(c){const _=Pa();Ut(_,new tc(_))}bt.STAT_EVENT="statevent";function Bs(c,_){k.call(this,bt.STAT_EVENT,c),this.stat=_}b(Bs,k);function Nt(c){const _=Pa();Ut(_,new Bs(_,c))}bt.Ja="timingevent";function Ti(c,_){k.call(this,bt.Ja,c),this.size=_}b(Ti,k);function xi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},_)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Gd(c,_,T,S,F,K){c.info(function(){if(c.g)if(K){var se="",Ne=K.split("&");for(let $e=0;$e<Ne.length;$e++){var Tt=Ne[$e].split("=");if(Tt.length>1){const dt=Tt[0];Tt=Tt[1];const Hn=dt.split("_");se=Hn.length>=2&&Hn[1]=="type"?se+(dt+"="+Tt+"&"):se+(dt+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+_+`
`+T+`
`+se})}function nc(c,_,T,S,F,K,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+_+`
`+T+`
`+K+" "+se})}function wi(c,_,T,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qd(c,T)+(S?" "+S:"")})}function qs(c,_){c.info(function(){return"TIMEOUT: "+_})}ii.prototype.info=function(){};function Qd(c,_){if(!c.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var T=K[c];if(!(T.length<2)){var S=T[1];if(Array.isArray(S)&&!(S.length<1)){var F=S[0];if(F!="noop"&&F!="stop"&&F!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return jr(K)}catch{return _}}var Hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sl;function Fs(){}b(Fs,Wu),Fs.prototype.g=function(){return new XMLHttpRequest},sl=new Fs;function Ji(c){return encodeURIComponent(String(c))}function ic(c){var _=1;c=c.split(":");const T=[];for(;_>0&&c.length;)T.push(c.shift()),_--;return c.length&&T.push(c.join(":")),T}function ri(c,_,T,S){this.j=c,this.i=_,this.l=T,this.S=S||1,this.V=new zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var Rt={},Gt={};function Si(c,_,T){c.M=1,c.A=Gs(It(_)),c.u=T,c.R=!0,La(c,null)}function La(c,_){c.F=Date.now(),Ai(c),c.B=It(c.A);var T=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),qa(T.i,"t",S),c.C=0,T=c.j.L,c.h=new si,c.g=vc(c.j,T?_:null,!c.u),c.P>0&&(c.O=new hn(p(c.Y,c,c.g),c.P)),_=c.V,T=c.g,S=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(nl[0]=F.toString()),F=nl);for(let K=0;K<F.length;K++){const se=ht(T,F[K],S||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=c.J?z(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),bi(),Gd(c.i,c.v,c.B,c.l,c.S,c.u)}ri.prototype.ba=function(c){c=c.target;const _=this.O;_&&li(c)==3?_.j():this.Y(c)},ri.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=li(this.g),Tt=this.g.ya(),$e=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ne!=4||Tt==7||(Tt==8||$e<=0?bi(3):bi(2)),Ni(this);var _=this.g.ca();this.X=_;var T=Yd(this);if(this.o=_==200,nc(this.i,this.v,this.B,this.l,this.S,Ne,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,F=this.g;if((S=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var K=S;break t}}K=null}if(c=K)wi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,c);else{this.o=!1,this.m=3,Nt(12),An(this),zn(this);break e}}if(this.R){c=!0;let dt;for(;!this.K&&this.C<T.length;)if(dt=sc(this,T),dt==Gt){Ne==4&&(this.m=4,Nt(14),c=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Rt){this.m=4,Nt(15),wi(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else wi(this.i,this.l,dt,null),Ri(this,dt);if(rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||T.length!=0||this.h.h||(this.m=1,Nt(16),c=!1),this.o=this.o&&c,!c)wi(this.i,this.l,T,"[Invalid Chunked Response]"),An(this),zn(this);else if(T.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),El(se),se.P=!0,Nt(11))}}else wi(this.i,this.l,T,null),Ri(this,T);Ne==4&&An(this),this.o&&!this.K&&(Ne==4?mc(this.j,this):(this.o=!1,Ai(this)))}else Zi(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),An(this),zn(this)}}}catch{}};function Yd(c){if(!rc(c))return c.g.la();const _=Xt(c.g);if(_==="")return"";let T="";const S=_.length,F=li(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),zn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,T+=c.h.i.decode(_[K],{stream:!(F&&K==S-1)});return _.length=0,c.h.g+=T,c.C=0,c.h.g}function rc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function sc(c,_){var T=c.C,S=_.indexOf(`
`,T);return S==-1?Gt:(T=Number(_.substring(T,S)),isNaN(T)?Rt:(S+=1,S+T>_.length?Gt:(_=_.slice(S,S+T),c.C=S+T,_)))}ri.prototype.cancel=function(){this.K=!0,An(this)};function Ai(c){c.T=Date.now()+c.H,Ua(c,c.H)}function Ua(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=xi(p(c.aa,c),_)}function Ni(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ri.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(qs(this.i,this.B),this.M!=2&&(bi(),Nt(17)),An(this),this.m=2,zn(this)):Ua(this,this.T-c)};function zn(c){c.j.I==0||c.K||mc(c.j,c)}function An(c){Ni(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,il(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Ri(c,_){try{var T=c.j;if(T.I!=0&&(T.g==c||Ii(T.h,c))){if(!c.L&&Ii(T.h,c)&&T.I==3){try{var S=T.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<c.F)Ya(T),qr(T);else break e;Ws(T),Nt(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=xi(p(T.Va,T),6e3));Ci(T.h)<=1&&T.ta&&(T.ta=void 0)}else Vi(T,11)}else if((c.L||T.g==c)&&Ya(T),!D(_))for(F=T.Ba.g.parse(_),_=0;_<F.length;_++){let $e=F[_];const dt=$e[0];if(!(dt<=T.K))if(T.K=dt,$e=$e[1],T.I==2)if($e[0]=="c"){T.M=$e[1],T.ba=$e[2];const Hn=$e[3];Hn!=null&&(T.ka=Hn,T.j.info("VER="+T.ka));const Pi=$e[4];Pi!=null&&(T.za=Pi,T.j.info("SVER="+T.za));const ui=$e[5];ui!=null&&typeof ui=="number"&&ui>0&&(S=1.5*ui,T.O=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const ci=c.g;if(ci){const Zs=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var K=S.h;K.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ll(K,K.h),K.h=null))}if(S.G){const Ka=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(S.wa=Ka,We(S.J,S.G,Ka))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-c.F,T.j.info("Handshake RTT: "+T.T+"ms")),S=T;var se=c;if(S.na=yc(S,S.L?S.ba:null,S.W),se.L){ul(S.h,se);var Ne=se,Tt=S.O;Tt&&(Ne.H=Tt),Ne.D&&(Ni(Ne),Ai(Ne)),S.g=se}else dc(S);T.i.length>0&&ki(T)}else $e[0]!="stop"&&$e[0]!="close"||Vi(T,7);else T.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Vi(T,7):vl(T):$e[0]!="noop"&&T.l&&T.l.qa($e),T.A=0)}}bi(4)}catch{}}var Ct=class{constructor(c,_){this.g=c,this.map=_}};function al(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ci(c){return c.h?1:c.g?c.g.size:0}function Ii(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function ll(c,_){c.g?c.g.add(_):c.h=_}function ul(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}al.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const T of c.g.values())_=_.concat(T.G);return _}return N(c.i)}var ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(c,_){if(c){c=c.split("&");for(let T=0;T<c.length;T++){const S=c[T].indexOf("=");let F,K=null;S>=0?(F=c[T].substring(0,S),K=c[T].substring(S+1)):F=c[T],_(F,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Nn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof Nn?(this.l=c.l,Qt(this,c.j),this.o=c.o,this.g=c.g,kr(this,c.u),this.h=c.h,hl(this,cc(c.i)),this.m=c.m):c&&(_=String(c).match(ac))?(this.l=!1,Qt(this,_[1]||"",!0),this.o=Di(_[2]||""),this.g=Di(_[3]||"",!0),kr(this,_[4]),this.h=Di(_[5]||"",!0),hl(this,_[6]||"",!0),this.m=Di(_[7]||"")):(this.l=!1,this.i=new Pr(null,this.l))}Nn.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Qs(_,Ba,!0),":");var T=this.g;return(T||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Qs(_,Ba,!0),"@"),c.push(Ji(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&c.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(Qs(T,T.charAt(0)=="/"?dl:oc,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",Qs(T,lc)),c.join("")},Nn.prototype.resolve=function(c){const _=It(this);let T=!!c.j;T?Qt(_,c.j):T=!!c.o,T?_.o=c.o:T=!!c.g,T?_.g=c.g:T=c.u!=null;var S=c.h;if(T)kr(_,c.u);else if(T=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var F=_.h.lastIndexOf("/");F!=-1&&(S=_.h.slice(0,F+1)+S)}if(F=S,F==".."||F==".")S="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){S=F.lastIndexOf("/",0)==0,F=F.split("/");const K=[];for(let se=0;se<F.length;){const Ne=F[se++];Ne=="."?S&&se==F.length&&K.push(""):Ne==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&se==F.length&&K.push("")):(K.push(Ne),S=!0)}S=K.join("/")}else S=F}return T?_.h=S:T=c.i.toString()!=="",T?hl(_,cc(c.i)):T=!!c.m,T&&(_.m=c.m),_};function It(c){return new Nn(c)}function Qt(c,_,T){c.j=T?Di(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function kr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function hl(c,_,T){_ instanceof Pr?(c.i=_,Ha(c.i,c.l)):(T||(_=Qs(_,Vr)),c.i=new Pr(_,c.l))}function We(c,_,T){c.i.set(_,T)}function Gs(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Di(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qs(c,_,T){return typeof c=="string"?(c=encodeURI(c).replace(_,gn),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ba=/[#\/\?@]/g,oc=/[#\?:]/g,dl=/[#\?]/g,Vr=/[#\?@]/g,lc=/#/g;function Pr(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&za(c.i,function(_,T){c.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}r=Pr.prototype,r.add=function(c,_){yn(this),this.i=null,c=Lr(this,c);let T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(_),this.h+=1,this};function uc(c,_){yn(c),_=Lr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function fl(c,_){return yn(c),_=Lr(c,_),c.g.has(_)}r.forEach=function(c,_){yn(this),this.g.forEach(function(T,S){T.forEach(function(F){c.call(_,F,S,this)},this)},this)};function ml(c,_){yn(c);let T=[];if(typeof _=="string")fl(c,_)&&(T=T.concat(c.g.get(Lr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)T=T.concat(c[_]);return T}r.set=function(c,_){return yn(this),this.i=null,c=Lr(this,c),fl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=ml(this,c),c.length>0?String(c[0]):_):_};function qa(c,_,T){uc(c,_),T.length>0&&(c.i=null,c.g.set(Lr(c,_),N(T)),c.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var T=_[S];const F=Ji(T);T=ml(this,T);for(let K=0;K<T.length;K++){let se=F;T[K]!==""&&(se+="="+Ji(T[K])),c.push(se)}}return this.i=c.join("&")};function cc(c){const _=new Pr;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function Lr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Ha(c,_){_&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(T,S){const F=S.toLowerCase();S!=F&&(uc(this,S),qa(this,F,T))},c)),c.j=_}function ai(c,_){const T=new ii;if(h.Image){const S=new Image;S.onload=v(Bn,T,"TestLoadImage: loaded",!0,_,S),S.onerror=v(Bn,T,"TestLoadImage: error",!1,_,S),S.onabort=v(Bn,T,"TestLoadImage: abort",!1,_,S),S.ontimeout=v(Bn,T,"TestLoadImage: timeout",!1,_,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function pl(c,_){const T=new ii,S=new AbortController,F=setTimeout(()=>{S.abort(),Bn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(F),K.ok?Bn(T,"TestPingServer: ok",!0,_):Bn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),Bn(T,"TestPingServer: error",!1,_)})}function Bn(c,_,T,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(T)}catch{}}function Ur(){this.g=new Ju}function Oi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Oi,Wu),Oi.prototype.g=function(){return new Ys(this.i,this.h)};function Ys(c,_){At.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ys,At),r=Ys.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,oi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?zr(this):oi(this),this.readyState==3&&Fa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,zr(this))},r.Na=function(c){this.g&&(this.response=c,zr(this))},r.ga=function(){this.g&&zr(this)};function zr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,oi(c)}r.setRequestHeader=function(c,_){this.A.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=_.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qn(c){let _="";return ke(c,function(T,S){_+=S,_+=":",_+=T,_+=`\r
`}),_}function Ks(c,_,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=qn(T),typeof c=="string"?T!=null&&Ji(T):We(c,_,T))}function tt(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(tt,At);var Mi=/^https?$/i,gl=["POST","PUT"];r=tt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,_,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sl.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(K){$s(this,K);return}if(c=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)T.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())T.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),F=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(gl,_,void 0)>=0)||S||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of T)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){$s(this,K)}};function $s(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,yl(c),Wi(c)}function yl(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ut(this,"complete"),Ut(this,"abort"),Wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},r.Xa=function(){Xs(this)};function Xs(c){if(c.h&&typeof u<"u"){if(c.v&&li(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ut(c,"readystatechange"),li(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var S;if(S=K===0){let se=String(c.D).match(ac)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!Mi.test(se?se.toLowerCase():"")}T=S}if(T)Ut(c,"complete"),Ut(c,"success");else{c.o=6;try{var F=li(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",yl(c)}}finally{Wi(c)}}}}function Wi(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const T=c.g;c.g=null,_||Ut(c,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function li(c){return c.g?c.g.readyState:0}r.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Fd(_)}};function Xt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(c){const _={};c=(c.g&&li(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(D(c[S]))continue;var T=ic(c[S]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=_[F]||[];_[F]=K,K.push(T)}Qe(_,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(c,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||_}function Br(c){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,c),this.Za=ji("retryDelaySeedMs",1e4,c),this.Ta=ji("forwardChannelMaxRetries",2,c),this.va=ji("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new al(c&&c.concurrentRequestLimit),this.Ba=new Ur,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Br.prototype,r.ka=8,r.I=1,r.connect=function(c,_,T,S){Nt(0),this.W=c,this.H=_||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.J=yc(this,null,this.W),ki(this)};function vl(c){if(Ga(c),c.I==3){var _=c.V++,T=It(c.J);if(We(T,"SID",c.M),We(T,"RID",_),We(T,"TYPE","terminate"),Js(c,T),_=new ri(c,c.j,_),_.M=2,_.A=Gs(It(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&h.Image&&(new Image().src=_.A,T=!0),T||(_.g=vc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ai(_)}gc(c)}function qr(c){c.g&&(El(c),c.g.cancel(),c.g=null)}function Ga(c){qr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function ki(c){if(!ol(c.h)&&!c.m){c.m=!0;var _=c.Ea;le||A(),de||(le(),de=!0),C.add(_,c),c.D=0}}function Qa(c,_){return Ci(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=xi(p(c.Ea,c,_),pc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new ri(this,this.j,c);let K=this.o;if(this.U&&(K?(K=z(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(F.J=K,K=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=hc(this,F,_),T=It(this.J),We(T,"RID",c),We(T,"CVER",22),this.G&&We(T,"X-HTTP-Session-Id",this.G),Js(this,T),K&&(this.R?_="headers="+Ji(qn(K))+"&"+_:this.u&&Ks(T,this.u,K)),ll(this.h,F),this.Ra&&We(T,"TYPE","init"),this.S?(We(T,"$req",_),We(T,"SID","null"),F.U=!0,Si(F,T,null)):Si(F,T,_),this.I=2}}else this.I==3&&(c?_l(this,c):this.i.length==0||ol(this.h)||_l(this))};function _l(c,_){var T;_?T=_.l:T=c.V++;const S=It(c.J);We(S,"SID",c.M),We(S,"RID",T),We(S,"AID",c.K),Js(c,S),c.u&&c.o&&Ks(S,c.u,c.o),T=new ri(c,c.j,T,c.D+1),c.u===null&&(T.J=c.o),_&&(c.i=_.G.concat(c.i)),_=hc(c,T,1e3),T.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ll(c.h,T),Si(T,S,_)}function Js(c,_){c.H&&ke(c.H,function(T,S){We(_,S,T)}),c.l&&ke({},function(T,S){We(_,S,T)})}function hc(c,_,T){T=Math.min(c.i.length,T);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var F=c.i;let Ne=-1;for(;;){const Tt=["count="+T];Ne==-1?T>0?(Ne=F[0].g,Tt.push("ofs="+Ne)):Ne=0:Tt.push("ofs="+Ne);let $e=!0;for(let dt=0;dt<T;dt++){var K=F[dt].g;const Hn=F[dt].map;if(K-=Ne,K<0)Ne=Math.max(0,F[dt].g-100),$e=!1;else try{K="req"+K+"_"||"";try{var se=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Pi,ui]of se){let ci=ui;g(ui)&&(ci=jr(ui)),Tt.push(K+Pi+"="+encodeURIComponent(ci))}}catch(Pi){throw Tt.push(K+"type="+encodeURIComponent("_badmap")),Pi}}catch{S&&S(Hn)}}if($e){se=Tt.join("&");break e}}se=void 0}return c=c.i.splice(0,T),_.G=c,se}function dc(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;le||A(),de||(le(),de=!0),C.add(_,c),c.A=0}}function Ws(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=xi(p(c.Da,c),pc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=xi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),qr(this),fc(this))};function El(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function fc(c){c.g=new ri(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=It(c.na);We(_,"RID","rpc"),We(_,"SID",c.M),We(_,"AID",c.K),We(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(_,"TO",c.ia),We(_,"TYPE","xmlhttp"),Js(c,_),c.u&&c.o&&Ks(_,c.u,c.o),c.O&&(c.g.H=c.O);var T=c.g;c=c.ba,T.M=1,T.A=Gs(It(_)),T.u=null,T.R=!0,La(T,c)}r.Va=function(){this.C!=null&&(this.C=null,qr(this),Ws(this),Nt(19))};function Ya(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function mc(c,_){var T=null;if(c.g==_){Ya(c),El(c),c.g=null;var S=2}else if(Ii(c.h,_))T=_.G,ul(c.h,_),S=1;else return;if(c.I!=0){if(_.o)if(S==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var F=c.D;S=Pa(),Ut(S,new Ti(S,T)),ki(c)}else dc(c);else if(F=_.m,F==3||F==0&&_.X>0||!(S==1&&Qa(c,_)||S==2&&Ws(c)))switch(T&&T.length>0&&(_=c.h,_.i=_.i.concat(T)),F){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function pc(c,_){let T=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(T*=2),T*_}function Vi(c,_){if(c.j.info("Error code "+_),_==2){var T=p(c.bb,c),S=c.Ua;const F=!S;S=new Nn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Qt(S,"https"),Gs(S),F?ai(S.toString(),T):pl(S.toString(),T)}else Nt(2);c.I=0,c.l&&c.l.pa(_),gc(c),Ga(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function gc(c){if(c.I=0,c.ja=[],c.l){const _=cl(c.h);(_.length!=0||c.i.length!=0)&&(O(c.ja,_),O(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function yc(c,_,T){var S=T instanceof Nn?It(T):new Nn(T);if(S.g!="")_&&(S.g=_+"."+S.g),kr(S,S.u);else{var F=h.location;S=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const K=new Nn(null);S&&Qt(K,S),_&&(K.g=_),F&&kr(K,F),T&&(K.h=T),S=K}return T=c.G,_=c.wa,T&&_&&We(S,T,_),We(S,"VER",c.ka),Js(c,S),S}function vc(c,_,T){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new tt(new Oi({ab:T})):new tt(c.ma),_.Fa(c.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}r=_c.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Hr(){}Hr.prototype.g=function(c,_){return new dn(c,_)};function dn(c,_){At.call(this),this.g=new Br(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!D(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new er(this)}b(dn,At),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){vl(this.g)},dn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.v&&(T={},T.__data__=jr(c),c=T);_.i.push(new Ct(_.Ya++,c)),_.I==3&&ki(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,dn.Z.N.call(this)};function Ec(c){$t.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const T in _){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}b(Ec,$t);function bc(){Un.call(this),this.status=1}b(bc,Un);function er(c){this.g=c}b(er,_c),er.prototype.ra=function(){Ut(this.g,"a")},er.prototype.qa=function(c){Ut(this.g,new Ec(c))},er.prototype.pa=function(c){Ut(this.g,new bc)},er.prototype.oa=function(){Ut(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,LT=function(){return new Hr},PT=function(){return Pa()},VT=bt,xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,zh=Hs,rl.COMPLETE="complete",kT=rl,Zu.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",At.prototype.listen=At.prototype.J,cu=Zu,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,jT=tt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Yo="12.9.0";function jI(r){Yo=r}const Sa=new Zp("@firebase/firestore");function So(){return Sa.logLevel}function he(r,...e){if(Sa.logLevel<=Le.DEBUG){const n=e.map(dg);Sa.debug(`Firestore (${Yo}): ${r}`,...n)}}function Rr(r,...e){if(Sa.logLevel<=Le.ERROR){const n=e.map(dg);Sa.error(`Firestore (${Yo}): ${r}`,...n)}}function Aa(r,...e){if(Sa.logLevel<=Le.WARN){const n=e.map(dg);Sa.warn(`Firestore (${Yo}): ${r}`,...n)}}function dg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,UT(r,s,n)}function UT(r,e,n){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Rr(s),new Error(s)}function Je(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||UT(e,o,s)}function Ae(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class zT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class VI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PI{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Tr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},g=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>g(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Tr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new zT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class LI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new LI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class fg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function wp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return rp(o)===rp(u)?Ue(o,u):rp(o)?1:-1}return Ue(r.length,e.length)}const qI=55296,HI=57343;function rp(r){const e=r.charCodeAt(0);return e>=qI&&e<=HI}function Vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const hE="__name__";class qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=qi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=qi.isNumericId(e),o=qi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qi.extractNumericId(e).compare(qi.extractNumericId(n)):wp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class at extends qi{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const FI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends qi{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return FI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new nn([hE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(s+=g,o++):(u(),o++)}if(u(),h)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(at.fromString(e))}static fromName(e){return new _e(at.fromString(e).popFirst(5))}static empty(){return new _e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new at(e.slice()))}}function BT(r,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GI(r,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function dE(r){if(!_e.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fE(r){if(_e.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Sn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xd(r);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Pt(r,e){const n={typeString:r};return e&&(n.value=e),n}function qu(r,e){if(!qT(r))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}const mE=-62135596800,pE=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*pE);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mE)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Pt("string",ut._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ut(0,0))}static max(){return new we(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Su=-1;function QI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new xs(o,_e.empty(),e)}function YI(r){return new xs(r.readTime,r.key,Su)}class xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xs(we.min(),_e.empty(),Su)}static max(){return new xs(we.max(),_e.empty(),Su)}}function KI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const $I="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ko(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==$I)throw r;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((g=>{++o,g.next((()=>{++u,h&&u===o&&n()}),(m=>s(m)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let g=0;for(let m=0;m<u;m++){const p=m;n(e[p]).next((v=>{h[p]=v,++g,g===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function JI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(r){return r.name==="IndexedDbTransactionError"}class wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wd.ce=-1;const mg=-1;function Sd(r){return r==null}function nd(r){return r===0&&1/r==-1/0}function WI(r){return typeof r=="number"&&Number.isInteger(r)&&!nd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const HT="";function ZI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=gE(e)),e=eD(r.get(n),e);return gE(e)}function eD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case HT:n+="";break;default:n+=u}}return n}function gE(r){return r+HT+""}function yE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function js(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function FT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new tn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Ht(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class GT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new GT("Invalid base64 string: "+u):u}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const tD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const n=tD.exec(r);if(Je(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ss(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}const QT="server_timestamp",YT="__type__",KT="__previous_value__",$T="__local_write_time__";function pg(r){return(r?.mapValue?.fields||{})[YT]?.stringValue===QT}function Ad(r){const e=r.mapValue.fields[KT];return pg(e)?Ad(e):e}function Au(r){const e=ws(r.mapValue.fields[$T].timestampValue);return new ut(e.seconds,e.nanos)}class nD{constructor(e,n,s,o,u,h,g,m,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const id="(default)";class Nu{constructor(e,n){this.projectId=e,this.database=n||id}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}function iD(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(r.options.projectId,e)}const XT="__type__",rD="__max__",Ih={mapValue:{}},JT="__vector__",rd="value";function As(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pg(r)?4:aD(r)?9007199254740991:sD(r)?10:11:Te(28295,{value:r})}function Xi(r,e){if(r===e)return!0;const n=As(r);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Au(r).isEqual(Au(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ws(o.timestampValue),g=ws(u.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ss(o.bytesValue).isEqual(Ss(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=St(o.doubleValue),g=St(u.doubleValue);return h===g?nd(h)===nd(g):isNaN(h)&&isNaN(g)}return!1})(r,e);case 9:return Vo(r.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},g=u.mapValue.fields||{};if(yE(h)!==yE(g))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(g[m]===void 0||!Xi(h[m],g[m])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function Ru(r,e){return(r.values||[]).find((n=>Xi(n,e)))!==void 0}function Po(r,e){if(r===e)return 0;const n=As(r),s=As(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const g=St(u.integerValue||u.doubleValue),m=St(h.integerValue||h.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1})(r,e);case 3:return _E(r.timestampValue,e.timestampValue);case 4:return _E(Au(r),Au(e));case 5:return wp(r.stringValue,e.stringValue);case 6:return(function(u,h){const g=Ss(u),m=Ss(h);return g.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const g=u.split("/"),m=h.split("/");for(let p=0;p<g.length&&p<m.length;p++){const v=Ue(g[p],m[p]);if(v!==0)return v}return Ue(g.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const g=Ue(St(u.latitude),St(h.latitude));return g!==0?g:Ue(St(u.longitude),St(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return EE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const g=u.fields||{},m=h.fields||{},p=g[rd]?.arrayValue,v=m[rd]?.arrayValue,b=Ue(p?.values?.length||0,v?.values?.length||0);return b!==0?b:EE(p,v)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ih.mapValue&&h===Ih.mapValue)return 0;if(u===Ih.mapValue)return 1;if(h===Ih.mapValue)return-1;const g=u.fields||{},m=Object.keys(g),p=h.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const x=wp(m[b],v[b]);if(x!==0)return x;const N=Po(g[m[b]],p[v[b]]);if(N!==0)return N}return Ue(m.length,v.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function _E(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=ws(r),s=ws(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function EE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Po(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function Lo(r){return Sp(r)}function Sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ws(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sp(n.fields[h])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Bh(r){switch(As(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ad(r);return e?16+Bh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Bh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return js(s.fields,((u,h)=>{o+=u.length+Bh(h)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function bE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ap(r){return!!r&&"integerValue"in r}function gg(r){return!!r&&"arrayValue"in r}function TE(r){return!!r&&"nullValue"in r}function xE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qh(r){return!!r&&"mapValue"in r}function sD(r){return(r?.mapValue?.fields||{})[XT]?.stringValue===JT}function gu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return js(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=gu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(r.arrayValue.values[n]);return e}return{...r}}function aD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===rD}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach(((h,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=g.popLast()}h?s[g.lastSegment()]=gu(h):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];qh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){js(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new wn(gu(this.value))}}function WT(r){const e=[];return js(r.fields,((n,s)=>{const o=new nn([n]);if(qh(s)){const u=WT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Vn(e)}class un{constructor(e,n,s,o,u,h,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=g}static newInvalidDocument(e){return new un(e,0,we.min(),we.min(),we.min(),wn.empty(),0)}static newFoundDocument(e,n,s,o){return new un(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new un(e,2,n,we.min(),we.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,we.min(),we.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sd{constructor(e,n){this.position=e,this.inclusive=n}}function wE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=Po(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function SE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Xi(r.position[n],e.position[n]))return!1;return!0}class Cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function oD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ZT{}class Vt extends ZT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new uD(e,n,s):n==="array-contains"?new dD(e,s):n==="in"?new fD(e,s):n==="not-in"?new mD(e,s):n==="array-contains-any"?new pD(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new cD(e,s):new hD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&As(this.value)===As(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends ZT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vi(e,n)}matches(e){return ex(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ex(r){return r.op==="and"}function tx(r){return lD(r)&&ex(r)}function lD(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function Np(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+Lo(r.value);if(tx(r))return r.filters.map((e=>Np(e))).join(",");{const e=r.filters.map((n=>Np(n))).join(",");return`${r.op}(${e})`}}function nx(r,e){return r instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Xi(s.value,o.value)})(r,e):r instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,g)=>u&&nx(h,o.filters[g])),!0):!1})(r,e):void Te(19439)}function ix(r){return r instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(r):r instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(ix).join(" ,")+"}"})(r):"Filter"}class uD extends Vt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class cD extends Vt{constructor(e,n){super(e,"in",n),this.keys=rx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hD extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=rx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rx(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class dD extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&Ru(n.arrayValue,this.value)}}class fD extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class mD extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}}class pD extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ru(this.value.arrayValue,s)))}}class gD{constructor(e,n=null,s=[],o=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=g,this.Te=null}}function AE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new gD(r,e,n,s,o,u,h)}function yg(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Np(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Sd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Lo(s))).join(",")),e.Te=n}return e.Te}function vg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!oD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!nx(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!SE(r.startAt,e.startAt)&&SE(r.endAt,e.endAt)}function Rp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Xo{constructor(e,n=null,s=[],o=[],u=null,h="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yD(r,e,n,s,o,u,h,g){return new Xo(r,e,n,s,o,u,h,g)}function Nd(r){return new Xo(r)}function NE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vD(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function sx(r){return r.collectionGroup!==null}function yu(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Ht(nn.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Cu(u,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new Cu(nn.keyField(),s))}return e.Ie}function Qi(r){const e=Ae(r);return e.Ee||(e.Ee=_D(e,yu(r))),e.Ee}function _D(r,e){if(r.limitType==="F")return AE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Cu(o.field,u)}));const n=r.endAt?new sd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sd(r.startAt.position,r.startAt.inclusive):null;return AE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Cp(r,e){const n=r.filters.concat([e]);return new Xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ED(r,e){const n=r.explicitOrderBy.concat([e]);return new Xo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Ip(r,e,n){return new Xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Rd(r,e){return vg(Qi(r),Qi(e))&&r.limitType===e.limitType}function ax(r){return`${yg(Qi(r))}|lt:${r.limitType}`}function Ao(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ix(o))).join(", ")}]`),Sd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${s})`})(Qi(r))}; limitType=${r.limitType})`}function Cd(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of yu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,g,m){const p=wE(h,g,m);return h.inclusive?p<=0:p<0})(s.startAt,yu(s),o)||s.endAt&&!(function(h,g,m){const p=wE(h,g,m);return h.inclusive?p>=0:p>0})(s.endAt,yu(s),o))})(r,e)}function bD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ox(r){return(e,n)=>{let s=!1;for(const o of yu(r)){const u=TD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TD(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,h,g){const m=h.data.field(u),p=g.data.field(u);return m!==null&&p!==null?Po(m,p):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}const xD=new pt(_e.comparator);function Cr(){return xD}const lx=new pt(_e.comparator);function hu(...r){let e=lx;for(const n of r)e=e.insert(n.key,n);return e}function ux(r){let e=lx;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ya(){return vu()}function cx(){return vu()}function vu(){return new Da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wD=new pt(_e.comparator),SD=new Ht(_e.comparator);function ze(...r){let e=SD;for(const n of r)e=e.add(n);return e}const AD=new Ht(Ue);function ND(){return AD}function _g(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function hx(r){return{integerValue:""+r}}function RD(r,e){return WI(e)?hx(e):_g(r,e)}class Id{constructor(){this._=void 0}}function CD(r,e,n){return r instanceof Iu?(function(o,u){const h={fields:{[YT]:{stringValue:QT},[$T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pg(u)&&(u=Ad(u)),u&&(h.fields[KT]=u),{mapValue:h}})(n,e):r instanceof Du?fx(r,e):r instanceof Ou?mx(r,e):(function(o,u){const h=dx(o,u),g=RE(h)+RE(o.Ae);return Ap(h)&&Ap(o.Ae)?hx(g):_g(o.serializer,g)})(r,e)}function ID(r,e,n){return r instanceof Du?fx(r,e):r instanceof Ou?mx(r,e):n}function dx(r,e){return r instanceof ad?(function(s){return Ap(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Iu extends Id{}class Du extends Id{constructor(e){super(),this.elements=e}}function fx(r,e){const n=px(e);for(const s of r.elements)n.some((o=>Xi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Ou extends Id{constructor(e){super(),this.elements=e}}function mx(r,e){let n=px(e);for(const s of r.elements)n=n.filter((o=>!Xi(o,s)));return{arrayValue:{values:n}}}class ad extends Id{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function RE(r){return St(r.integerValue||r.doubleValue)}function px(r){return gg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class DD{constructor(e,n){this.field=e,this.transform=n}}function OD(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Du&&o instanceof Du||s instanceof Ou&&o instanceof Ou?Vo(s.elements,o.elements,Xi):s instanceof ad&&o instanceof ad?Xi(s.Ae,o.Ae):s instanceof Iu&&o instanceof Iu})(r.transform,e.transform)}class MD{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dd{}function gx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Eg(r.key,Zn.none()):new Hu(r.key,r.data,Zn.none());{const n=r.data,s=wn.empty();let o=new Ht(nn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ks(r.key,s,new Vn(o.toArray()),Zn.none())}}function jD(r,e,n){r instanceof Hu?(function(o,u,h){const g=o.value.clone(),m=IE(o.fieldTransforms,u,h.transformResults);g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):r instanceof ks?(function(o,u,h){if(!Hh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const g=IE(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(yx(o)),m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function _u(r,e,n,s){return r instanceof Hu?(function(u,h,g,m){if(!Hh(u.precondition,h))return g;const p=u.value.clone(),v=DE(u.fieldTransforms,m,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof ks?(function(u,h,g,m){if(!Hh(u.precondition,h))return g;const p=DE(u.fieldTransforms,m,h),v=h.data;return v.setAll(yx(u)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,h,g){return Hh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g})(r,e,n)}function kD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=dx(s.transform,o||null);u!=null&&(n===null&&(n=wn.empty()),n.set(s.field,u))}return n||null}function CE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vo(s,o,((u,h)=>OD(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Hu extends Dd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends Dd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yx(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function IE(r,e,n){const s=new Map;Je(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,g=e.data.field(u.field);s.set(u.field,ID(h,g,n[o]))}return s}function DE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,CD(u,h,e))}return s}class Eg extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&jD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=cx();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let g=this.applyToLocalView(h,u.mutatedFields);g=n.has(o.key)?null:g;const m=gx(h,g);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,((n,s)=>CE(n,s)))&&Vo(this.baseMutations,e.baseMutations,((n,s)=>CE(n,s)))}}class bg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return wD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new bg(e,n,s,o)}}class LD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UD{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,He;function zD(r){switch(r){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function vx(r){if(r===void 0)return Rr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case kt.OK:return ee.OK;case kt.CANCELLED:return ee.CANCELLED;case kt.UNKNOWN:return ee.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ee.INTERNAL;case kt.UNAVAILABLE:return ee.UNAVAILABLE;case kt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case kt.NOT_FOUND:return ee.NOT_FOUND;case kt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case kt.ABORTED:return ee.ABORTED;case kt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case kt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:r})}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function BD(){return new TextEncoder}const qD=new bs([4294967295,4294967295],0);function OE(r){const e=BD().encode(r),n=new MT;return n.update(e),new Uint8Array(n.digest())}function ME(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new bs([n,s],0),new bs([o,u],0)]}class Tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new du(`Invalid padding: ${n}`);if(s<0)throw new du(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new du(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(bs.fromNumber(s)));return o.compare(qD)===1&&(o=new bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Tg(u,o,n);return s.forEach((g=>h.insert(g))),h}insert(e){if(this.ge===0)return;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Od{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Od(we.min(),o,new pt(Ue),Cr(),ze())}}class Fu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Fu(s,n,ze(),ze(),ze())}}class Fh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class _x{constructor(e,n){this.targetId=e,this.Ce=n}}class Ex{constructor(e,n,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class jE{constructor(){this.ve=0,this.Fe=kE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new Fu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=kE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cr(),this.He=Dh(),this.Je=Dh(),this.Ze=new pt(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rp(u))if(s===0){const h=new _e(u.path);this.et(n,h,un.newNoDocument(h,we.min()))}else Je(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const g=this.ut(e),m=g?this.ct(g,e,h):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,g;try{h=Ss(s).toUint8Array()}catch(m){if(m instanceof GT)return Aa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new Tg(h,o,u)}catch(m){return Aa(m instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),g=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const g=this.ot(h);if(g){if(u.current&&Rp(g.target)){const m=new _e(g.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,un.newNoDocument(m,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=ze();this.Je.forEach(((u,h)=>{let g=!0;h.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Od(e,n,this.Ze,this.je,s);return this.je=Cr(),this.He=Dh(),this.Je=Dh(),this.Ze=new pt(Ue),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new jE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ht(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ht(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dh(){return new pt(_e.comparator)}function kE(){return new pt(_e.comparator)}const FD={asc:"ASCENDING",desc:"DESCENDING"},GD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QD={and:"AND",or:"OR"};class YD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(r,e){return r.useProto3Json||Sd(e)?e:{value:e}}function od(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function KD(r,e){return od(r,e.toTimestamp())}function Yi(r){return Je(!!r,49232),we.fromTimestamp((function(n){const s=ws(n);return new ut(s.seconds,s.nanos)})(r))}function xg(r,e){return Op(r,e).canonicalString()}function Op(r,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Tx(r){const e=at.fromString(r);return Je(Nx(e),10190,{key:e.toString()}),e}function Mp(r,e){return xg(r.databaseId,e.path)}function sp(r,e){const n=Tx(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(wx(n))}function xx(r,e){return xg(r.databaseId,e)}function $D(r){const e=Tx(r);return e.length===4?at.emptyPath():wx(e)}function jp(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wx(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function VE(r,e,n){return{name:Mp(r,e),fields:n.value.mapValue.fields}}function XD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,v){return p.useProto3Json?(Je(v===void 0||typeof v=="string",58123),sn.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),sn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&(function(p){const v=p.code===void 0?ee.UNKNOWN:vx(p.code);return new ue(v,p.message||"")})(h);n=new Ex(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=sp(r,s.document.name),u=Yi(s.document.updateTime),h=s.document.createTime?Yi(s.document.createTime):we.min(),g=new wn({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(o,u,h,g),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Fh(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=sp(r,s.document),u=s.readTime?Yi(s.readTime):we.min(),h=un.newNoDocument(o,u),g=s.removedTargetIds||[];n=new Fh([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=sp(r,s.document),u=s.removedTargetIds||[];n=new Fh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new UD(o,u),g=s.targetId;n=new _x(g,h)}}return n}function JD(r,e){let n;if(e instanceof Hu)n={update:VE(r,e.key,e.value)};else if(e instanceof Eg)n={delete:Mp(r,e.key)};else if(e instanceof ks)n={update:VE(r,e.key,e.data),updateMask:a4(e.fieldMask)};else{if(!(e instanceof VD))return Te(16599,{dt:e.type});n={verify:Mp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const g=h.transform;if(g instanceof Iu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ad)return{fieldPath:h.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:KD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function WD(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Yi(o.updateTime):Yi(u);return h.isEqual(we.min())&&(h=Yi(u)),new MD(h,o.transformResults||[])})(n,e)))):[]}function ZD(r,e){return{documents:[xx(r,e.path)]}}function e4(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=xx(r,o);const u=(function(p){if(p.length!==0)return Ax(vi.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((v=>(function(x){return{field:No(x.field),direction:i4(x.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=Dp(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function t4(r){let e=$D(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(b){const x=Sx(b);return x instanceof vi&&tx(x)?x.getFilters():[x]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((x=>(function(O){return new Cu(Ro(O.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(x)))})(n.orderBy));let g=null;n.limit&&(g=(function(b){let x;return x=typeof b=="object"?b.value:b,Sd(x)?null:x})(n.limit));let m=null;n.startAt&&(m=(function(b){const x=!!b.before,N=b.values||[];return new sd(N,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const x=!b.before,N=b.values||[];return new sd(N,x)})(n.endAt)),yD(e,o,h,u,g,"F",m,p)}function n4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sx(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ro(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ro(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ro(n.unaryFilter.field);return Vt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Vt.create(Ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>Sx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function i4(r){return FD[r]}function r4(r){return GD[r]}function s4(r){return QD[r]}function No(r){return{fieldPath:r.canonicalString()}}function Ro(r){return nn.fromServerFormat(r.fieldPath)}function Ax(r){return r instanceof Vt?(function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(TE(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(TE(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:r4(n.op),value:n.value}}})(r):r instanceof vi?(function(n){const s=n.getFilters().map((o=>Ax(o)));return s.length===1?s[0]:{compositeFilter:{op:s4(n.op),filters:s}}})(r):Te(54877,{filter:r})}function a4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Nx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Rx(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ys{constructor(e,n,s,o,u=we.min(),h=we.min(),g=sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class o4{constructor(e){this.yt=e}}function l4(r){const e=t4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ip(e,e.limit,"L"):e}class u4{constructor(){this.Sn=new c4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(xs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class c4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ht(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ht(at.comparator)).toArray()}}const PE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cx=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(Cx,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class Uo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Uo(0)}static ar(){return new Uo(-1)}}const LE="LruGarbageCollector",h4=1048576;function UE([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class d4{constructor(e){this.Pr=e,this.buffer=new Ht(UE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();UE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(LE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?he(LE,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.Ar(3e5)}))}}class m4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(wd.ce);const s=new d4(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(PE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,g,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,g=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),So()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${u} targets in `+(m-g)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function p4(r,e){return new m4(r,e)}class g4{constructor(){this.changes=new Da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class y4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class v4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&_u(s.mutation,o,Vn.empty(),ut.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=ya();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=hu();return u.forEach(((g,m)=>{h=h.insert(g,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ya();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,g)=>{n.set(h,g)}))}))}computeViews(e,n,s,o){let u=Cr();const h=vu(),g=(function(){return vu()})();return n.forEach(((m,p)=>{const v=s.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof ks)?u=u.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),_u(v.mutation,p,v.mutation.getFieldMask(),ut.now())):h.set(p.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((p,v)=>h.set(p,v))),n.forEach(((p,v)=>g.set(p,new y4(v,h.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=vu();let o=new pt(((h,g)=>h-g)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const g of h)g.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=s.get(m)||Vn.empty();v=g.applyToLocalView(p,v),s.set(m,v);const b=(o.get(g.batchId)||ze()).add(m);o=o.insert(g.batchId,b)}))})).next((()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),p=m.key,v=m.value,b=cx();v.forEach((x=>{if(!u.has(x)){const N=gx(n.get(x),s.get(x));N!==null&&b.set(x,N),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return vD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(ya());let g=Su,m=u;return h.next((p=>ie.forEach(p,((v,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{m=m.insert(v,x)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,m,p,ze()))).next((v=>({batchId:g,changes:ux(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=hu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=hu();return this.indexManager.getCollectionParents(e,u).next((g=>ie.forEach(g,(m=>{const p=(function(b,x){return new Xo(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((v=>{v.forEach(((b,x)=>{h=h.insert(b,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((m,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,un.newInvalidDocument(v)))}));let g=hu();return h.forEach(((m,p)=>{const v=u.get(m);v!==void 0&&_u(v.mutation,p,Vn.empty(),ut.now()),Cd(n,p)&&(g=g.insert(m,p))})),g}))}}class _4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:l4(o.bundledQuery),readTime:Yi(o.readTime)}})(n)),ie.resolve()}}class E4{constructor(){this.overlays=new pt(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ya();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=ya(),u=n.length+1,h=new _e(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const m=g.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new pt(((p,v)=>p-v));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=u.get(p.largestBatchId);v===null&&(v=ya(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const g=ya(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>g.set(p,v))),!(g.size()>=o)););return ie.resolve(g)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new LD(n,s));let u=this.Lr.get(n);u===void 0&&(u=ze(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class b4{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class wg{constructor(){this.kr=new Ht(Kt.Kr),this.qr=new Ht(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Kt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new at([])),s=new Kt(n,e),o=new Kt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new at([])),s=new Kt(n,e),o=new Kt(n,e+1);let u=ze();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Kt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class T4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Kt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new PD(u,n,s,o);this.mutationQueue.push(h);for(const g of o)this.Jr=this.Jr.add(new Kt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?mg:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),o=new Kt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const g=this.Zr(h.Hr);u.push(g)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(Ue);return n.forEach((o=>{const u=new Kt(o,0),h=new Kt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(g=>{s=s.add(g.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Kt(new _e(u),0);let g=new Ht(Ue);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(m.Hr)),!0)}),h),ie.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const u=new Kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Kt(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class x4{constructor(e){this.ti=e,this.docs=(function(){return new pt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=Cr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Cr();const h=n.path,g=new _e(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||KI(YI(v),s)<=0||(o.has(v.key)||Cd(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new w4(this)}getSize(e){return ie.resolve(this.size)}}class w4 extends g4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class S4{constructor(e){this.persistence=e,this.ri=new Da((n=>yg(n)),vg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new wg,this.targetCount=0,this.oi=Uo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class Ix{constructor(e,n){this._i={},this.overlays={},this.ai=new wd(0),this.ui=!1,this.ui=!0,this.ci=new b4,this.referenceDelegate=e(this),this.li=new S4(this),this.indexManager=new u4,this.remoteDocumentCache=(function(o){return new x4(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new o4(n),this.Pi=new _4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new T4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new A4(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class A4 extends XI{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.Ri=new wg,this.Ai=null}static Vi(e){return new Sg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=_e.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ld{constructor(e,n){this.persistence=e,this.fi=new Da((s=>ZI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=p4(this,n)}static Vi(e,n){return new ld(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((g=>{g||(s++,u.removeEntry(h,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bh(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ag{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ag(e,n.fromCache,s,o)}}class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class R4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return W2()?8:JI(cn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new N4;return this.ys(e,n,h).next((g=>{if(u.result=g,this.As)return this.ws(e,n,h,g.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(So()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(So()<=Le.DEBUG&&he("QueryEngine","Query:",Ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(So()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ie.resolve())}gs(e,n){if(NE(n))return ie.resolve(null);let s=Qi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ip(n,null,"F"),s=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ze(...u);return this.fs.getDocuments(e,h).next((g=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,g);return this.Ss(n,p,h,m.readTime)?this.gs(e,Ip(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,o){return NE(n)||o.isEqual(we.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ie.resolve(null):(So()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(n)),this.Ds(e,h,n,QI(o,Su)).next((g=>g)))}))}bs(e,n){let s=new Ht(ox(e));return n.forEach(((o,u)=>{Cd(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return So()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.fs.getDocumentsMatchingQuery(e,n,xs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Ng="LocalStore",C4=3e8;class I4{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new pt(Ue),this.Fs=new Da((u=>yg(u)),vg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function D4(r,e,n,s){return new I4(r,e,n,s)}async function Dx(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],g=[];let m=ze();for(const p of o){h.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of u){g.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:g})))}))}))}function O4(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,m,p,v){const b=p.batch,x=b.keys();let N=ie.resolve();return x.forEach((O=>{N=N.next((()=>v.getEntry(m,O))).next((U=>{const V=p.docVersions.get(O);Je(V!==null,48541),U.version.compareTo(V)<0&&(b.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),v.addEntry(U)))}))})),N.next((()=>g.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let m=ze();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(m=m.add(g.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Ox(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function M4(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const g=[];e.targetChanges.forEach(((v,b)=>{const x=o.get(b);if(!x)return;g.push(n.li.removeMatchingKeys(u,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,v.addedDocuments,b))));let N=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(sn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),o=o.insert(b,N),(function(U,V,X){return U.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=C4?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(x,N,v)&&g.push(n.li.updateTargetData(u,N))}));let m=Cr(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),g.push(j4(u,h,e.documentUpdates).next((v=>{m=v.Bs,p=v.Ls}))),!s.isEqual(we.min())){const v=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(v)}return ie.waitFor(g).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,p))).next((()=>m))})).then((u=>(n.vs=o,u)))}function j4(r,e,n){let s=ze(),o=ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Cr();return n.forEach(((g,m)=>{const p=u.get(g);m.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(g,m.readTime),h=h.insert(g,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),h=h.insert(g,m)):he(Ng,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",m.version)})),{Bs:h,Ls:o}}))}function k4(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=mg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function V4(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ys(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function kp(r,e,n){const s=Ae(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!$o(h))throw h;he(Ng,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function zE(r,e,n){const s=Ae(r);let o=we.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,p,v){const b=Ae(m),x=b.Fs.get(v);return x!==void 0?ie.resolve(b.vs.get(x)):b.li.getTargetData(p,v)})(s,h,Qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,g.targetId).next((m=>{u=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:ze()))).next((g=>(P4(s,bD(e),g),{documents:g,ks:u})))))}function P4(r,e,n){let s=r.Ms.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class BE{constructor(){this.activeTargetIds=ND()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L4{constructor(){this.vo=new BE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new BE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U4{Mo(e){}shutdown(){}}const qE="ConnectivityMonitor";class HE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(qE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oh=null;function Vp(){return Oh===null?Oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oh++,"0x"+Oh.toString(16)}const ap="RestConnection",z4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class B4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===id?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Vp(),g=this.Qo(e,n.toUriEncodedString());he(ap,`Sending RPC '${e}' ${h}:`,g,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,u);const{host:p}=new URL(g),v=Fo(p);return this.zo(e,g,m,s,v).then((b=>(he(ap,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Aa(ap,`RPC '${e}' ${h} failed with error: `,b,"url: ",g,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=z4[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class q4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",au=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Mo extends B4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Mo.c_){const e=PT();au(e,VT.STAT_EVENT,(n=>{n.stat===xp.PROXY?he(on,"STAT_EVENT: detected buffering proxy"):n.stat===xp.NOPROXY&&he(on,"STAT_EVENT: detected no buffering proxy")})),Mo.c_=!0}}zo(e,n,s,o,u){const h=Vp();return new Promise(((g,m)=>{const p=new jT;p.setWithCredentials(!0),p.listenOnce(kT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case zh.NO_ERROR:const b=p.getResponseJson();he(on,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),g(b);break;case zh.TIMEOUT:he(on,`RPC '${e}' ${h} timed out`),m(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const x=p.getStatus();if(he(on,`RPC '${e}' ${h} failed with status:`,x,"response text:",p.getResponseText()),x>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N?.error;if(O&&O.status&&O.message){const U=(function(X){const B=X.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(B)>=0?B:ee.UNKNOWN})(O.status);m(new ue(U,O.message))}else m(new ue(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(on,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);he(on,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=Vp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const p=u.join("");he(on,`Creating RPC '${e}' stream ${o}: ${p}`,g);const v=h.createWebChannel(p,g);this.I_(v);let b=!1,x=!1;const N=new q4({Ho:O=>{x?he(on,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(b||(he(on,`Opening RPC '${e}' stream ${o} transport.`),v.open(),b=!0),he(on,`RPC '${e}' stream ${o} sending:`,O),v.send(O))},Jo:()=>v.close()});return au(v,cu.EventType.OPEN,(()=>{x||(he(on,`RPC '${e}' stream ${o} transport opened.`),N.i_())})),au(v,cu.EventType.CLOSE,(()=>{x||(x=!0,he(on,`RPC '${e}' stream ${o} transport closed`),N.o_(),this.E_(v))})),au(v,cu.EventType.ERROR,(O=>{x||(x=!0,Aa(on,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),N.o_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),au(v,cu.EventType.MESSAGE,(O=>{if(!x){const U=O.data[0];Je(!!U,16349);const V=U,X=V?.error||V[0]?.error;if(X){he(on,`RPC '${e}' stream ${o} received error:`,X);const B=X.status;let I=(function(de){const C=kt[de];if(C!==void 0)return vx(C)})(B),re=X.message;B==="NOT_FOUND"&&re.includes("database")&&re.includes("does not exist")&&re.includes(this.databaseId.database)&&Aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),I===void 0&&(I=ee.INTERNAL,re="Unknown error status: "+B+" with message "+X.message),x=!0,N.o_(new ue(I,re)),v.close()}else he(on,`RPC '${e}' stream ${o} received:`,U),N.__(U)}})),Mo.u_(),setTimeout((()=>{N.s_()}),0),N}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return LT()}}function H4(r){return new Mo(r)}function op(){return typeof document<"u"?document:null}function Md(r){return new YD(r,!0)}Mo.c_=!1;class Mx{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const FE="PersistentStream";class jx{constructor(e,n,s,o,u,h,g,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F4 extends jx{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Yi(h.readTime):we.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=jp(this.serializer),n.addTarget=(function(u,h){let g;const m=h.target;if(g=Rp(m)?{documents:ZD(u,m)}:{query:e4(u,m).ft},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=bx(u,h.resumeToken);const p=Dp(u,h.expectedCount);p!==null&&(g.expectedCount=p)}else if(h.snapshotVersion.compareTo(we.min())>0){g.readTime=od(u,h.snapshotVersion.toTimestamp());const p=Dp(u,h.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=n4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=jp(this.serializer),n.removeTarget=e,this.K_(n)}}class G4 extends jx{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WD(e.writeResults,e.commitTime),s=Yi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=jp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>JD(this.serializer,s)))};this.K_(n)}}class Q4{}class Y4 extends Q4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Op(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,g])=>this.connection.jo(e,Op(n,s),o,h,g,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function K4(r,e,n,s){return new Y4(r,e,n,s)}class $4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class X4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Oa(this)&&(he(Na,"Restarting streams for network reachability change."),await(async function(m){const p=Ae(m);p.Ea.add(4),await Gu(p),p.Va.set("Unknown"),p.Ea.delete(4),await jd(p)})(this))}))})),this.Va=new $4(s,o)}}async function jd(r){if(Oa(r))for(const e of r.Ra)await e(!0)}async function Gu(r){for(const e of r.Ra)await e(!1)}function kx(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Dg(n)?Ig(n):Jo(n).O_()&&Cg(n,e))}function Rg(r,e){const n=Ae(r),s=Jo(n);n.Ia.delete(e),s.O_()&&Vx(n,e),n.Ia.size===0&&(s.O_()?s.L_():Oa(n)&&n.Va.set("Unknown"))}function Cg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(r).Z_(e)}function Vx(r,e){r.da.$e(e),Jo(r).X_(e)}function Ig(r){r.da=new HD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Jo(r).start(),r.Va.ua()}function Dg(r){return Oa(r)&&!Jo(r).x_()&&r.Ia.size>0}function Oa(r){return Ae(r).Ea.size===0}function Px(r){r.da=void 0}async function J4(r){r.Va.set("Online")}async function W4(r){r.Ia.forEach(((e,n)=>{Cg(r,e)}))}async function Z4(r,e){Px(r),Dg(r)?(r.Va.ha(e),Ig(r)):r.Va.set("Unknown")}async function e3(r,e,n){if(r.Va.set("Online"),e instanceof Ex&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.Ia.delete(g),o.da.removeTarget(g))})(r,e)}catch(s){he(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ud(r,s)}else if(e instanceof Fh?r.da.Xe(e):e instanceof _x?r.da.st(e):r.da.tt(e),!n.isEqual(we.min()))try{const s=await Ox(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const g=u.da.Tt(h);return g.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(p);v&&u.Ia.set(p,v.withResumeToken(m.resumeToken,h))}})),g.targetMismatches.forEach(((m,p)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),Vx(u,m);const b=new ys(v.target,m,p,v.sequenceNumber);Cg(u,b)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){he(Na,"Failed to raise snapshot:",s),await ud(r,s)}}async function ud(r,e,n){if(!$o(e))throw e;r.Ea.add(1),await Gu(r),r.Va.set("Offline"),n||(n=()=>Ox(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(Na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await jd(r)}))}function Lx(r,e){return e().catch((n=>ud(r,n,e)))}async function kd(r){const e=Ae(r),n=Ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mg;for(;t3(e);)try{const o=await k4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,n3(e,o)}catch(o){await ud(e,o)}Ux(e)&&zx(e)}function t3(r){return Oa(r)&&r.Ta.length<10}function n3(r,e){r.Ta.push(e);const n=Ns(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function Ux(r){return Oa(r)&&!Ns(r).x_()&&r.Ta.length>0}function zx(r){Ns(r).start()}async function i3(r){Ns(r).ra()}async function r3(r){const e=Ns(r);for(const n of r.Ta)e.ea(n.mutations)}async function s3(r,e,n){const s=r.Ta.shift(),o=bg.from(s,e,n);await Lx(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await kd(r)}async function a3(r,e){e&&Ns(r).Y_&&await(async function(s,o){if((function(h){return zD(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Ns(s).B_(),await Lx(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kd(s)}})(r,e),Ux(r)&&zx(r)}async function GE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),he(Na,"RemoteStore received new credentials");const s=Oa(n);n.Ea.add(3),await Gu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jd(n)}async function o3(r,e){const n=Ae(r);e?(n.Ea.delete(2),await jd(n)):e||(n.Ea.add(2),await Gu(n),n.Va.set("Unknown"))}function Jo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new F4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:J4.bind(null,r),Yo:W4.bind(null,r),t_:Z4.bind(null,r),J_:e3.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Dg(r)?Ig(r):r.Va.set("Unknown")):(await r.ma.stop(),Px(r))}))),r.ma}function Ns(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new G4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:i3.bind(null,r),t_:a3.bind(null,r),ta:r3.bind(null,r),na:s3.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await kd(r)):(await r.fa.stop(),r.Ta.length>0&&(he(Na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Og{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,g=new Og(e,n,h,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(r,e){if(Rr("AsyncQueue",`${e}: ${r}`),$o(r))return new ue(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=hu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new jo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class QE{constructor(){this.ga=new pt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class zo{constructor(e,n,s,o,u,h,g,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((g=>{h.push({type:0,doc:g})})),new zo(e,n,jo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class l3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class u3{constructor(){this.queries=YE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=YE(),u.forEach(((h,g)=>{for(const m of g.ba)m.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function YE(){return new Da((r=>ax(r)),Rd)}async function jg(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new l3,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const g=Mg(h,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Vg(n)}async function kg(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function c3(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const g of h.ba)g.Fa(o)&&(s=!0);h.wa=o}}s&&Vg(n)}function h3(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Vg(r){r.Ca.forEach((e=>{e.next()}))}var Pp,KE;(KE=Pp||(Pp={})).Ma="default",KE.Cache="cache";class Pg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}class Bx{constructor(e){this.key=e}}class qx{constructor(e){this.key=e}}class d3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=ox(e),this.tu=new jo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new QE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const x=o.get(v),N=Cd(this.query,b)?b:null,O=!!x&&this.mutatedKeys.has(x.key),U=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;x&&N?x.data.isEqual(N.data)?O!==U&&(s.track({type:3,doc:N}),V=!0):this.su(x,N)||(s.track({type:2,doc:N}),V=!0,(m&&this.eu(N,m)>0||p&&this.eu(N,p)<0)&&(g=!0)):!x&&N?(s.track({type:0,doc:N}),V=!0):x&&!N&&(s.track({type:1,doc:x}),V=!0,(m||p)&&(g=!0)),V&&(N?(h=h.add(N),u=U?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Ss:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,b)=>(function(N,O){const U=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:V})}};return U(N)-U(O)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,p=m!==this.Xa;return this.Xa=m,h.length!==0||p?{snapshot:new zo(this.query,e.tu,u,h,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new qx(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Bx(s))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Lg="SyncEngine";class f3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class m3{constructor(e){this.key=e,this.hu=!1}}class p3{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Da((g=>ax(g)),Rd),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(_e.comparator),this.Au=new Map,this.Vu=new wg,this.du={},this.mu=new Map,this.fu=Uo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g3(r,e,n=!0){const s=Kx(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Hx(s,e,n,!0),o}async function y3(r,e){const n=Kx(r);await Hx(n,e,!0,!1)}async function Hx(r,e,n,s){const o=await V4(r.localStore,Qi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await v3(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&kx(r.remoteStore,o),g}async function v3(r,e,n,s,o){r.pu=(b,x,N)=>(async function(U,V,X,B){let I=V.view.ru(X);I.Ss&&(I=await zE(U.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,I))));const re=B&&B.targetChanges.get(V.targetId),le=B&&B.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges(I,U.isPrimaryClient,re,le);return XE(U,V.targetId,de.au),de.snapshot})(r,b,x,N);const u=await zE(r.localStore,e,!0),h=new d3(e,u.ks),g=h.ru(u.documents),m=Fu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(g,r.isPrimaryClient,m);XE(r,n,p.au);const v=new f3(e,n,h);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function _3(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Rd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Rg(s.remoteStore,o.targetId),Lp(s,o.targetId)})).catch(Ko)):(Lp(s,o.targetId),await kp(s.localStore,o.targetId,!0))}async function E3(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Rg(n.remoteStore,s.targetId))}async function b3(r,e,n){const s=R3(r);try{const o=await(function(h,g){const m=Ae(h),p=ut.now(),v=g.reduce(((N,O)=>N.add(O.key)),ze());let b,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let O=Cr(),U=ze();return m.xs.getEntries(N,v).next((V=>{O=V,O.forEach(((X,B)=>{B.isValidDocument()||(U=U.add(X))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,O))).next((V=>{b=V;const X=[];for(const B of g){const I=kD(B,b.get(B.key).overlayedDocument);I!=null&&X.push(new ks(B.key,I,WT(I.value.mapValue),Zn.exists(!0)))}return m.mutationQueue.addMutationBatch(N,p,X,g)})).next((V=>{x=V;const X=V.applyToLocalDocumentSet(b,U);return m.documentOverlayCache.saveOverlays(N,V.batchId,X)}))})).then((()=>({batchId:x.batchId,changes:ux(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,g,m){let p=h.du[h.currentUser.toKey()];p||(p=new pt(Ue)),p=p.insert(g,m),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Qu(s,o.changes),await kd(s.remoteStore)}catch(o){const u=Mg(o,"Failed to persist write");n.reject(u)}}async function Fx(r,e){const n=Ae(r);try{const s=await M4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Je(h.hu,14607):o.removedDocuments.size>0&&(Je(h.hu,42227),h.hu=!1))})),await Qu(n,s,e)}catch(s){await Ko(s)}}function $E(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const g=h.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(h,g){const m=Ae(h);m.onlineState=g;let p=!1;m.queries.forEach(((v,b)=>{for(const x of b.ba)x.va(g)&&(p=!0)})),p&&Vg(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function T3(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new pt(_e.comparator);h=h.insert(u,un.newNoDocument(u,we.min()));const g=ze().add(u),m=new Od(we.min(),new Map,new pt(Ue),h,g);await Fx(s,m),s.Ru=s.Ru.remove(u),s.Au.delete(e),Ug(s)}else await kp(s.localStore,e,!1).then((()=>Lp(s,e,n))).catch(Ko)}async function x3(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await O4(n.localStore,e);Qx(n,s,null),Gx(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Qu(n,o)}catch(o){await Ko(o)}}async function w3(r,e,n){const s=Ae(r);try{const o=await(function(h,g){const m=Ae(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,g).next((b=>(Je(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,g))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);Qx(s,e,n),Gx(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Qu(s,o)}catch(o){await Ko(o)}}function Gx(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Qx(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Lp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||Yx(r,s)}))}function Yx(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Rg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Ug(r))}function XE(r,e,n){for(const s of n)s instanceof Bx?(r.Vu.addReference(s.key,e),S3(r,s)):s instanceof qx?(he(Lg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||Yx(r,s.key)):Te(19791,{wu:s})}function S3(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(he(Lg,"New document in limbo: "+n),r.Eu.add(s),Ug(r))}function Ug(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(at.fromString(e)),s=r.fu.next();r.Au.set(s,new m3(n)),r.Ru=r.Ru.insert(n,s),kx(r.remoteStore,new ys(Qi(Nd(n.path)),s,"TargetPurposeLimboResolution",wd.ce))}}async function Qu(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,m)=>{h.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Ag.Es(m.targetId,p);u.push(v)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(m,p){const v=Ae(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(p,(x=>ie.forEach(x.Ts,(N=>v.persistence.referenceDelegate.addReference(b,x.targetId,N))).next((()=>ie.forEach(x.Is,(N=>v.persistence.referenceDelegate.removeReference(b,x.targetId,N)))))))))}catch(b){if(!$o(b))throw b;he(Ng,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const N=v.vs.get(x),O=N.snapshotVersion,U=N.withLastLimboFreeSnapshotVersion(O);v.vs=v.vs.insert(x,U)}}})(s.localStore,u))}async function A3(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){he(Lg,"User change. New user:",e.toKey());const s=await Dx(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((g=>{g.forEach((m=>{m.reject(new ue(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Qu(n,s.Ns)}}function N3(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const g=n.Tu.get(h);o=o.unionWith(g.view.nu)}return o}}function Kx(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T3.bind(null,e),e.Pu.J_=c3.bind(null,e.eventManager),e.Pu.yu=h3.bind(null,e.eventManager),e}function R3(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w3.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return D4(this.persistence,new R4,e.initialUser,this.serializer)}Cu(e){return new Ix(Sg.Vi,this.serializer)}Du(e){return new L4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class C3 extends cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof ld,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new f4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new Ix((s=>ld.Vi(s,n)),this.serializer)}}class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=A3.bind(null,this.syncEngine),await o3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new u3})()}createDatastore(e){const n=Md(e.databaseInfo.databaseId),s=H4(e.databaseInfo);return K4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,g){return new X4(s,o,u,h,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>$E(this.syncEngine,n,0)),(function(){return HE.v()?new HE:new U4})())}createSyncEngine(e,n){return(function(o,u,h,g,m,p,v){const b=new p3(o,u,h,g,m,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);he(Na,"RemoteStore shutting down."),s.Ea.add(5),await Gu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Up.provider={build:()=>new Up};class zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Rs="FirestoreClient";class I3{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{he(Rs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he(Rs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function lp(r,e){r.asyncQueue.verifyOperationInProgress(),he(Rs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Dx(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function JE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await D3(r);he(Rs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>GE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>GE(e.remoteStore,o))),r._onlineComponents=e}async function D3(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Rs,"Using user provided OfflineComponentProvider");try{await lp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),await lp(r,new cd)}}else he(Rs,"Using default OfflineComponentProvider"),await lp(r,new C3(void 0));return r._offlineComponents}async function $x(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Rs,"Using user provided OnlineComponentProvider"),await JE(r,r._uninitializedComponentsProvider._online)):(he(Rs,"Using default OnlineComponentProvider"),await JE(r,new Up))),r._onlineComponents}function O3(r){return $x(r).then((e=>e.syncEngine))}async function hd(r){const e=await $x(r),n=e.eventManager;return n.onListen=g3.bind(null,e.syncEngine),n.onUnlisten=_3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E3.bind(null,e.syncEngine),n}function M3(r,e,n,s){const o=new zg(s),u=new Pg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>jg(await hd(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>kg(await hd(r),u)))}}function j3(r,e,n={}){const s=new Tr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,g,m,p){const v=new zg({next:x=>{v.Nu(),h.enqueueAndForget((()=>kg(u,b)));const N=x.docs.has(g);!N&&x.fromCache?p.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&m&&m.source==="server"?p.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Pg(Nd(g.path),v,{includeMetadataChanges:!0,Ka:!0});return jg(u,b)})(await hd(r),r.asyncQueue,e,n,s))),s.promise}function k3(r,e,n={}){const s=new Tr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,g,m,p){const v=new zg({next:x=>{v.Nu(),h.enqueueAndForget((()=>kg(u,b))),x.fromCache&&m.source==="server"?p.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Pg(g,v,{includeMetadataChanges:!0,Ka:!0});return jg(u,b)})(await hd(r),r.asyncQueue,e,n,s))),s.promise}function V3(r,e){const n=new Tr;return r.asyncQueue.enqueueAndForget((async()=>b3(await O3(r),e,n))),n.promise}function Xx(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const P3="ComponentProvider",WE=new Map;function L3(r,e,n,s,o){return new nD(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Xx(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const Jx="firestore.googleapis.com",ZE=!0;class eb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jx,this.ssl=ZE}else this.host=e.host,this.ssl=e.ssl??ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h4)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kI;switch(s.type){case"firstParty":return new UI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=WE.get(n);s&&(he(P3,"Removing Datastore"),WE.delete(n),s.terminate())})(this),Promise.resolve()}}function U3(r,e,n,s={}){r=Sn(r,Vd);const o=Fo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;o&&(Qb(`https://${g}`),Yb("Firestore",!0)),u.host!==Jx&&u.host!==g&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:g,ssl:o,emulatorOptions:s};if(!ba(m,h)&&(r._setSettings(m),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=ln.MOCK_USER;else{p=H2(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ln(b)}r._authCredentials=new VI(new zT(p,v))}}class Vs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(qu(n,_t._jsonSchema))return new _t(e,s||null,new _e(at.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Pt("string",_t._jsonSchemaVersion),referencePath:Pt("string")};class Ts extends Vs{constructor(e,n,s){super(e,n,Nd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new _e(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function Et(r,e,...n){if(r=Ft(r),BT("collection","path",e),r instanceof Vd){const s=at.fromString(e,...n);return fE(s),new Ts(r,null,s)}{if(!(r instanceof _t||r instanceof Ts))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return fE(s),new Ts(r.firestore,null,s)}}function Fe(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=fg.newId()),BT("doc","path",e),r instanceof Vd){const s=at.fromString(e,...n);return dE(s),new _t(r,null,new _e(s))}{if(!(r instanceof _t||r instanceof Ts))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return dE(s),new _t(r.firestore,r instanceof Ts?r.converter:null,new _e(s))}}const tb="AsyncQueue";class nb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mx(this,"async_queue_retry"),this._c=()=>{const s=op();s&&he(tb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;he(tb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Rr("INTERNAL UNHANDLED ERROR: ",ib(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Og.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:ib(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ib(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ir extends Vd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new nb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nb(e),this._firestoreClient=void 0,await e}}}function z3(r,e){const n=typeof r=="object"?r:Jb(),s=typeof r=="string"?r:id,o=tg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=B2("firestore");u&&U3(o,...u)}return o}function Pd(r){if(r._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||B3(r),r._firestoreClient}function B3(r){const e=r._freezeSettings(),n=L3(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new I3(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(sn.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Pt("string",Wn._jsonSchemaVersion),bytes:Pt("string")};class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._methodName=e}}class Ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(qu(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Pt("string",Ki._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gi(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Pt("string",gi._jsonSchemaVersion),vectorValues:Pt("object")};const q3=/^__.*__$/;class H3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class Wx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class qg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return dd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Zx(this.dataSource)&&q3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class F3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Md(e)}createContext(e,n,s,o=!1){return new qg({dataSource:e,methodName:n,targetDoc:s,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ud(r){const e=r._freezeSettings(),n=Md(r._databaseId);return new F3(r._databaseId,!!e.ignoreUndefinedProperties,n)}function e1(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Fg("Data must be an object, but it was:",h,s);const g=t1(s,h);let m,p;if(u.merge)m=new Vn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const x=Ra(e,b,n);if(!h.contains(x))throw new ue(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);r1(v,x)||v.push(x)}m=new Vn(v),p=h.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=h.fieldTransforms;return new H3(new wn(g),m,p)}class zd extends Ld{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}class Hg extends Ld{_toFieldTransform(e){return new DD(e.path,new Iu)}isEqual(e){return e instanceof Hg}}function G3(r,e,n,s){const o=r.createContext(1,e,n);Fg("Data must be an object, but it was:",o,s);const u=[],h=wn.empty();js(s,((m,p)=>{const v=i1(e,m,n);p=Ft(p);const b=o.childContextForFieldPath(v);if(p instanceof zd)u.push(v);else{const x=Yu(p,b);x!=null&&(u.push(v),h.set(v,x))}}));const g=new Vn(u);return new Wx(h,g,o.fieldTransforms)}function Q3(r,e,n,s,o,u){const h=r.createContext(1,e,n),g=[Ra(e,s,n)],m=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)g.push(Ra(e,u[x])),m.push(u[x+1]);const p=[],v=wn.empty();for(let x=g.length-1;x>=0;--x)if(!r1(p,g[x])){const N=g[x];let O=m[x];O=Ft(O);const U=h.childContextForFieldPath(N);if(O instanceof zd)p.push(N);else{const V=Yu(O,U);V!=null&&(p.push(N),v.set(N,V))}}const b=new Vn(p);return new Wx(v,b,h.fieldTransforms)}function Y3(r,e,n,s=!1){return Yu(n,r.createContext(s?4:3,e))}function Yu(r,e){if(n1(r=Ft(r)))return Fg("Unsupported field value:",e,r),t1(r,e);if(r instanceof Ld)return(function(s,o){if(!Zx(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const g of s){let m=Yu(g,o.childContextForArray(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ut.fromDate(s);return{timestampValue:od(o.serializer,u)}}if(s instanceof ut){const u=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:od(o.serializer,u)}}if(s instanceof Ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:bx(o.serializer,s._byteString)};if(s instanceof _t){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gi)return(function(h,g){const m=h instanceof gi?h.toArray():h;return{mapValue:{fields:{[XT]:{stringValue:JT},[rd]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw g.createError("VectorValues must only contain numeric values.");return _g(g.serializer,v)}))}}}}}})(s,o);if(Rx(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${xd(s)}`)})(r,e)}function t1(r,e){const n={};return FT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(r,((s,o)=>{const u=Yu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function n1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ut||r instanceof Ki||r instanceof Wn||r instanceof _t||r instanceof Ld||r instanceof gi||Rx(r))}function Fg(r,e,n){if(!n1(n)||!qT(n)){const s=xd(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Ra(r,e,n){if((e=Ft(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return i1(r,e);throw dd("Field path arguments must be of type string or ",r,!1,void 0,n)}const K3=new RegExp("[~\\*/\\[\\]]");function i1(r,e,n){if(e.search(K3)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Bg(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function dd(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new ue(ee.INVALID_ARGUMENT,g+r+m)}function r1(r,e){return r.some((n=>n.isEqual(e)))}class $3{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return js(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[rd].arrayValue?.values?.map((s=>St(s.doubleValue)));return new gi(n)}convertGeoPoint(e){return new Ki(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ad(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const n=ws(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Je(Nx(s),9688,{name:e});const o=new Nu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||Rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Gg extends $3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function xr(){return new Hg("serverTimestamp")}const rb="@firebase/firestore",sb="4.11.0";function ab(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class s1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ra("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X3 extends s1{data(){return super.data()}}function a1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class o1 extends Qg{}function rn(r,e,...n){let s=[];e instanceof Qg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((m=>m instanceof Yg)).length,g=u.filter((m=>m instanceof Bd)).length;if(h>1||h>0&&g>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Bd extends o1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Bd(e,n,s)}_apply(e){const n=this._parse(e);return l1(e._query,n),new Vs(e.firestore,e.converter,Cp(e._query,n))}_parse(e){const n=Ud(e.firestore);return(function(u,h,g,m,p,v,b){let x;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){lb(b,v);const O=[];for(const U of b)O.push(ob(m,u,U));x={arrayValue:{values:O}}}else x=ob(m,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||lb(b,v),x=Y3(g,h,b,v==="in"||v==="not-in");return Vt.create(p,v,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ct(r,e,n){const s=e,o=Ra("where",r);return Bd._create(o,s,n)}class Yg extends Qg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const g=u.getFlattenedFilters();for(const m of g)l1(h,m),h=Cp(h,m)})(e._query,n),new Vs(e.firestore,e.converter,Cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kg extends o1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(u,h)})(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,ED(e._query,n))}}function $g(r,e="asc"){const n=e,s=Ra("orderBy",r);return Kg._create(s,n)}function ob(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sx(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!_e.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bE(r,new _e(s))}if(n instanceof _t)return bE(r,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xd(n)}.`)}function lb(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l1(r,e){const n=(function(o,u){for(const h of o)for(const g of h.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function u1(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends s1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ra("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:Pt("string",va._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Gh extends va{data(e={}){return super.data(e)}}class _a{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new fu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Gh(this._firestore,this._userDataWriter,s.key,s,new fu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((g=>{const m=new Gh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new fu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const m=new Gh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new fu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return g.type!==0&&(p=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),v=h.indexOf(g.doc.key)),{type:J3(g.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J3(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Pt("string",_a._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};function Pn(r){r=Sn(r,_t);const e=Sn(r.firestore,Ir),n=Pd(e);return j3(n,r._key).then((s=>c1(e,r,s)))}function $i(r){r=Sn(r,Vs);const e=Sn(r.firestore,Ir),n=Pd(e),s=new Gg(e);return a1(r._query),k3(n,r._query).then((o=>new _a(e,s,r,o)))}function ub(r,e,n){r=Sn(r,_t);const s=Sn(r.firestore,Ir),o=u1(r.converter,e),u=Ud(s);return qd(s,[e1(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zn.none())])}function Fi(r,e,n,...s){r=Sn(r,_t);const o=Sn(r.firestore,Ir),u=Ud(o);let h;return h=typeof(e=Ft(e))=="string"||e instanceof Bg?Q3(u,"updateDoc",r._key,e,n,s):G3(u,"updateDoc",r._key,e),qd(o,[h.toMutation(r._key,Zn.exists(!0))])}function Ea(r){return qd(Sn(r.firestore,Ir),[new Eg(r._key,Zn.none())])}function Ca(r,e){const n=Sn(r.firestore,Ir),s=Fe(r),o=u1(r.converter,e),u=Ud(r.firestore);return qd(n,[e1(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then((()=>s))}function Ps(r,...e){r=Ft(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ab(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ab(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,g;if(r instanceof _t)h=Sn(r.firestore,Ir),g=Nd(r._key.path),u={next:p=>{e[s]&&e[s](c1(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Sn(r,Vs);h=Sn(p.firestore,Ir),g=p._query;const v=new Gg(h);u={next:b=>{e[s]&&e[s](new _a(h,v,p,b))},error:e[s+1],complete:e[s+2]},a1(r._query)}const m=Pd(h);return M3(m,g,o,u)}function qd(r,e){const n=Pd(r);return V3(n,e)}function c1(r,e,n){const s=n.docs.get(e._key),o=new Gg(r);return new va(r,o,e._key,s,new fu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){jI(Go),ko(new Ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),g=new Ir(new PI(s.getProvider("auth-internal")),new zI(h,s.getProvider("app-check-internal")),iD(h,o),h);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Es(rb,sb,e),Es(rb,sb,"esm2020")})();const W3={apiKey:"AIzaSyDfYx2gFVHj-YaNmINYHhNsU_J4ju64SjA",authDomain:"artistline-v1.firebaseapp.com",projectId:"artistline-v1",storageBucket:"artistline-v1.firebasestorage.app",messagingSenderId:"499093106880",appId:"1:499093106880:web:994197f66294d185687d25"},h1=Xb(W3),Eu=OI(h1),Z3=new yr,ve=z3(h1),d1=j.createContext({}),Ma=()=>j.useContext(d1);function eO({children:r}){const[e,n]=j.useState(null),[s,o]=j.useState(!0);j.useEffect(()=>EC(Eu,m=>{n(m),o(!1)}),[]);const h={currentUser:e,logout:()=>bC(Eu),loading:s};return y.jsx(d1.Provider,{value:h,children:!s&&r})}function tO(){const[r,e]=j.useState(!0),[n,s]=j.useState(""),[o,u]=j.useState(""),[h,g]=j.useState(""),[m,p]=j.useState(!1),v=ti(),b=async U=>!(await Pn(Fe(ve,"usernames",U.toLowerCase()))).exists(),x=async(U,V,X)=>{await ub(Fe(ve,"artists",U),{email:V,username:X.toLowerCase(),displayName:X,createdAt:new Date}),await ub(Fe(ve,"usernames",X.toLowerCase()),{userId:U,createdAt:new Date})},N=async U=>{U.preventDefault(),p(!0);try{if(r)await yC(Eu,n,o),ye.success("Welcome back!"),v("/dashboard");else{if(!h||h.length<3){ye.error("Username must be at least 3 characters"),p(!1);return}if(!await b(h)){ye.error("Username already taken. Please choose another."),p(!1);return}const X=await gC(Eu,n,o);await x(X.user.uid,n,h),ye.success("Account created! Welcome to ArtistLine!"),v("/dashboard")}}catch(V){console.error("Auth error:",V),V.code==="auth/email-already-in-use"?ye.error("Email already in use. Try logging in!"):V.code==="auth/weak-password"?ye.error("Password should be at least 6 characters"):V.code==="auth/invalid-email"?ye.error("Invalid email address"):V.code==="auth/user-not-found"?ye.error("No account found. Try signing up!"):V.code==="auth/wrong-password"?ye.error("Incorrect password"):ye.error("Something went wrong. Please try again.")}finally{p(!1)}},O=async()=>{p(!0);try{const U=await BC(Eu,Z3);if(!(await Pn(Fe(ve,"artists",U.user.uid))).exists()){const X=U.user.email.split("@")[0].toLowerCase().replace(/[^a-z0-9]/g,"");let B=X,I=1;for(;!await b(B);)B=`${X}${I}`,I++;await x(U.user.uid,U.user.email,B)}ye.success("Welcome to ArtistLine!"),v("/dashboard")}catch(U){console.error("Google sign-in error:",U),ye.error("Google sign-in failed. Please try again.")}finally{p(!1)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-5xl font-bold text-lavender-600 mb-2",children:" ArtistLine"}),y.jsx("p",{className:"text-gray-600",children:r?"Welcome back!":"Create your account"})]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[y.jsxs("form",{onSubmit:N,className:"space-y-4",children:[!r&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),y.jsx("input",{type:"text",value:h,onChange:U=>g(U.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),required:!r,minLength:3,maxLength:30,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"your-username"}),y.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["This will be your permanent link: artistline.com/",h||"your-username"]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),y.jsx("input",{type:"email",value:n,onChange:U=>s(U.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"artist@example.com"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),y.jsx("input",{type:"password",value:o,onChange:U=>u(U.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:""})]}),y.jsx("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-lavender-500 to-softpink-500 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:m?"Loading...":r?"Log In":"Sign Up"})]}),y.jsxs("div",{className:"flex items-center my-6",children:[y.jsx("div",{className:"flex-1 border-t border-gray-300"}),y.jsx("span",{className:"px-4 text-sm text-gray-500",children:"or"}),y.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),y.jsxs("button",{onClick:O,disabled:m,className:"w-full bg-white border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-50 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsx("button",{onClick:()=>e(!r),className:"text-lavender-600 hover:text-lavender-700 font-medium",children:r?"Don't have an account? Sign up":"Already have an account? Log in"})})]}),y.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"By continuing, you agree to our Terms of Service"})]})})}const f1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const nO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const iO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const cb=r=>{const e=iO(r);return e.charAt(0).toUpperCase()+e.slice(1)};var rO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const aO=j.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...g},m)=>j.createElement("svg",{ref:m,...rO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:f1("lucide",o),...!u&&!sO(g)&&{"aria-hidden":"true"},...g},[...h.map(([p,v])=>j.createElement(p,v)),...Array.isArray(u)?u:[u]]));const pn=(r,e)=>{const n=j.forwardRef(({className:s,...o},u)=>j.createElement(aO,{ref:u,iconNode:e,className:f1(`lucide-${nO(cb(r))}`,`lucide-${r}`,s),...o}));return n.displayName=cb(r),n};const oO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wo=pn("arrow-left",oO);const lO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ku=pn("calendar",lO);const uO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m1=pn("clock",uO);const cO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hO=pn("log-out",cO);const dO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fO=pn("mail",dO);const mO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$u=pn("map-pin",mO);const pO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],gO=pn("monitor",pO);const yO=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],p1=pn("palette",yO);const vO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hb=pn("phone",vO);const _O=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fd=pn("plus",_O);const EO=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],bO=pn("qr-code",EO);const TO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xO=pn("refresh-cw",TO);const wO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],SO=pn("search",wO);const AO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zp=pn("users",AO);const NO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],db=pn("x",NO);function RO(){const{currentUser:r,logout:e}=Ma(),n=ti(),[s,o]=j.useState([]),[u,h]=j.useState(!0);j.useEffect(()=>{if(!r)return;const v=Et(ve,"events"),b=rn(v,ct("artistId","==",r.uid),$g("createdAt","desc")),x=Ps(b,N=>{const O=N.docs.map(U=>({id:U.id,...U.data()}));o(O),h(!1)});return()=>x()},[r]);const g=async()=>{try{await e(),ye.success("Logged out successfully"),n("/")}catch{ye.error("Failed to logout")}},m=v=>v?(v.toDate?v.toDate():new Date(v)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",p=async(v,b)=>{if(v.stopPropagation(),!!confirm("Delete this event? This cannot be undone."))try{const x=await $i(rn(Et(ve,"queues"),ct("eventId","==",b)));for(const N of x.docs){const O=await $i(rn(Et(ve,"customers"),ct("queueId","==",N.id)));for(const U of O.docs)await Ea(Fe(ve,"customers",U.id));await Ea(Fe(ve,"queues",N.id))}await Ea(Fe(ve,"events",b)),ye.success("Event deleted!")}catch(x){console.error("Error deleting event:",x),ye.error("Failed to delete event")}};return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50",children:[y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-lavender-600",children:" ArtistLine"}),y.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Welcome back, ",r?.email]})]}),y.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[y.jsx(hO,{size:20}),y.jsx("span",{children:"Logout"})]})]})})}),y.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsx("div",{className:"mb-8",children:y.jsxs("button",{onClick:()=>n("/create-event"),className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-lavender-500 to-softpink-500 text-white px-6 py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all",children:[y.jsx(fd,{size:24}),"Create New Event"]})}),u?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-lavender-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your events..."})]}):s.length===0?y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Events Yet"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first event to start managing queues!"}),y.jsxs("button",{onClick:()=>n("/create-event"),className:"inline-flex items-center gap-2 bg-gradient-to-r from-lavender-500 to-softpink-500 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:[y.jsx(fd,{size:20}),"Create Event"]})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(v=>y.jsxs("div",{onClick:()=>n(`/event/${v.id}`),className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all cursor-pointer border-2 border-transparent hover:border-lavender-300",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800 flex-1",children:v.name}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${v.status==="active"?"bg-green-100 text-green-700":v.status==="completed"?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"}`,children:v.status||"active"}),y.jsx("button",{onClick:b=>p(b,v.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete event",children:""})]})]}),y.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ku,{size:16,className:"text-lavender-500"}),y.jsx("span",{children:m(v.date)})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx($u,{size:16,className:"text-lavender-500"}),y.jsx("span",{className:"truncate",children:v.location?.address||"No location"})]})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-600",children:"Queues"}),y.jsx("span",{className:"font-semibold text-lavender-600",children:v.queueCount||0})]}),y.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[y.jsx("span",{className:"text-gray-600",children:"Total Served"}),y.jsx("span",{className:"font-semibold text-softpink-600",children:v.totalCustomers||0})]})]}),y.jsx("div",{className:"mt-4 flex gap-1",children:y.jsx("div",{className:"h-2 w-full rounded-full",style:{backgroundColor:`var(--${v.colorTheme||"lavender"}-400)`}})})]},v.id))})]})]})}const CO=[{value:"birthday",label:" Birthday Party",emoji:""},{value:"festival",label:" Festival / Fair",emoji:""},{value:"corporate",label:" Corporate / Private Event",emoji:""},{value:"school",label:" School Event",emoji:""},{value:"other",label:" Other",emoji:""}],IO=[{value:"lavender",label:"Lavender",color:"bg-lavender-400"},{value:"mint",label:"Mint Green",color:"bg-mint-400"},{value:"softpink",label:"Soft Pink",color:"bg-softpink-400"},{value:"peach",label:"Peach",color:"bg-peach-400"},{value:"skyblue",label:"Sky Blue",color:"bg-skyblue-400"}];function DO(){const{currentUser:r}=Ma(),e=ti(),[n,s]=j.useState(!1),[o,u]=j.useState(!1),[h,g]=j.useState({name:"",location:"",date:"",eventType:"",colorTheme:"lavender",notes:""}),m=v=>{g({...h,[v.target.name]:v.target.value})},p=async v=>{v.preventDefault(),s(!0);try{const b={artistId:r.uid,name:h.name,location:{address:h.location},date:new Date(h.date),colorTheme:h.colorTheme,status:"active",eventType:h.eventType||null,notes:h.notes||"",queueCount:0,totalCustomers:0,createdAt:xr()},x=await Ca(Et(ve,"events"),b);ye.success("Event created successfully! "),e(`/event/${x.id}`)}catch(b){console.error("Error creating event:",b),ye.error("Failed to create event. Please try again.")}finally{s(!1)}};return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50",children:[y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:y.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:y.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[y.jsx(Wo,{size:20}),y.jsx("span",{children:"Back to Dashboard"})]})})}),y.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-lavender-600 mb-2",children:"Create New Event"}),y.jsx("p",{className:"text-gray-600 mb-8",children:"Set up your event and start managing queues"}),y.jsxs("form",{onSubmit:p,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Name ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",name:"name",value:h.name,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"Emma's 5th Birthday Party"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsxs("div",{className:"relative",children:[y.jsx($u,{className:"absolute left-3 top-3.5 text-gray-400",size:20}),y.jsx("input",{type:"text",name:"location",value:h.location,onChange:m,required:!0,className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"123 Main Street, Brooklyn, NY"})]}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the full address where the event will take place"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Date ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(Ku,{className:"absolute left-3 top-3.5 text-gray-400",size:20}),y.jsx("input",{type:"date",name:"date",value:h.date,onChange:m,required:!0,min:new Date().toISOString().split("T")[0],className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors"})]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[y.jsx(p1,{className:"inline mr-2",size:18}),"Color Theme"]}),y.jsx("div",{className:"grid grid-cols-5 gap-3",children:IO.map(v=>y.jsxs("button",{type:"button",onClick:()=>g({...h,colorTheme:v.value}),className:`relative p-4 rounded-xl border-2 transition-all ${h.colorTheme===v.value?"border-gray-800 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[y.jsx("div",{className:`w-full h-12 rounded-lg ${v.color}`}),y.jsx("p",{className:"text-xs text-center mt-2 font-medium",children:v.label}),h.colorTheme===v.value&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:""})]},v.value))})]}),y.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[y.jsxs("button",{type:"button",onClick:()=>u(!o),className:"flex items-center gap-2 text-lavender-600 hover:text-lavender-700 font-medium mb-4",children:[y.jsx("span",{children:o?"":""}),"Advanced Options (Optional)"]}),o&&y.jsxs("div",{className:"space-y-4 pl-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),y.jsxs("select",{name:"eventType",value:h.eventType,onChange:m,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",children:[y.jsx("option",{value:"",children:"Select type (optional)"}),CO.map(v=>y.jsx("option",{value:v.value,children:v.label},v.value))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Internal Notes"}),y.jsx("textarea",{name:"notes",value:h.notes,onChange:m,rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors resize-none",placeholder:"Any notes for yourself about this event..."})]})]})]}),y.jsxs("div",{className:"flex gap-4 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-gradient-to-r from-lavender-500 to-softpink-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:n?"Creating...":"Create Event"})]})]})]})})]})}var OO=Object.defineProperty,md=Object.getOwnPropertySymbols,g1=Object.prototype.hasOwnProperty,y1=Object.prototype.propertyIsEnumerable,fb=(r,e,n)=>e in r?OO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Bp=(r,e)=>{for(var n in e||(e={}))g1.call(e,n)&&fb(r,n,e[n]);if(md)for(var n of md(e))y1.call(e,n)&&fb(r,n,e[n]);return r},qp=(r,e)=>{var n={};for(var s in r)g1.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&md)for(var s of md(r))e.indexOf(s)<0&&y1.call(r,s)&&(n[s]=r[s]);return n};var Ia;(r=>{const e=class Me{constructor(m,p,v,b){if(this.version=m,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],m<Me.MIN_VERSION||m>Me.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let x=[];for(let O=0;O<this.size;O++)x.push(!1);for(let O=0;O<this.size;O++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const N=this.addEccAndInterleave(v);if(this.drawCodewords(N),b==-1){let O=1e9;for(let U=0;U<8;U++){this.applyMask(U),this.drawFormatBits(U);const V=this.getPenaltyScore();V<O&&(b=U,O=V),this.applyMask(U)}}o(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(m,p){const v=r.QrSegment.makeSegments(m);return Me.encodeSegments(v,p)}static encodeBinary(m,p){const v=r.QrSegment.makeBytes(m);return Me.encodeSegments([v],p)}static encodeSegments(m,p,v=1,b=40,x=-1,N=!0){if(!(Me.MIN_VERSION<=v&&v<=b&&b<=Me.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let O,U;for(O=v;;O++){const I=Me.getNumDataCodewords(O,p)*8,re=h.getTotalBits(m,O);if(re<=I){U=re;break}if(O>=b)throw new RangeError("Data too long")}for(const I of[Me.Ecc.MEDIUM,Me.Ecc.QUARTILE,Me.Ecc.HIGH])N&&U<=Me.getNumDataCodewords(O,I)*8&&(p=I);let V=[];for(const I of m){n(I.mode.modeBits,4,V),n(I.numChars,I.mode.numCharCountBits(O),V);for(const re of I.getData())V.push(re)}o(V.length==U);const X=Me.getNumDataCodewords(O,p)*8;o(V.length<=X),n(0,Math.min(4,X-V.length),V),n(0,(8-V.length%8)%8,V),o(V.length%8==0);for(let I=236;V.length<X;I^=253)n(I,8,V);let B=[];for(;B.length*8<V.length;)B.push(0);return V.forEach((I,re)=>B[re>>>3]|=I<<7-(re&7)),new Me(O,p,B,x)}getModule(m,p){return 0<=m&&m<this.size&&0<=p&&p<this.size&&this.modules[p][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),p=m.length;for(let v=0;v<p;v++)for(let b=0;b<p;b++)v==0&&b==0||v==0&&b==p-1||v==p-1&&b==0||this.drawAlignmentPattern(m[v],m[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const p=this.errorCorrectionLevel.formatBits<<3|m;let v=p;for(let x=0;x<10;x++)v=v<<1^(v>>>9)*1335;const b=(p<<10|v)^21522;o(b>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,s(b,x));this.setFunctionModule(8,7,s(b,6)),this.setFunctionModule(8,8,s(b,7)),this.setFunctionModule(7,8,s(b,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,s(b,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,s(b,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,s(b,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let v=0;v<12;v++)m=m<<1^(m>>>11)*7973;const p=this.version<<12|m;o(p>>>18==0);for(let v=0;v<18;v++){const b=s(p,v),x=this.size-11+v%3,N=Math.floor(v/3);this.setFunctionModule(x,N,b),this.setFunctionModule(N,x,b)}}drawFinderPattern(m,p){for(let v=-4;v<=4;v++)for(let b=-4;b<=4;b++){const x=Math.max(Math.abs(b),Math.abs(v)),N=m+b,O=p+v;0<=N&&N<this.size&&0<=O&&O<this.size&&this.setFunctionModule(N,O,x!=2&&x!=4)}}drawAlignmentPattern(m,p){for(let v=-2;v<=2;v++)for(let b=-2;b<=2;b++)this.setFunctionModule(m+b,p+v,Math.max(Math.abs(b),Math.abs(v))!=1)}setFunctionModule(m,p,v){this.modules[p][m]=v,this.isFunction[p][m]=!0}addEccAndInterleave(m){const p=this.version,v=this.errorCorrectionLevel;if(m.length!=Me.getNumDataCodewords(p,v))throw new RangeError("Invalid argument");const b=Me.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][p],x=Me.ECC_CODEWORDS_PER_BLOCK[v.ordinal][p],N=Math.floor(Me.getNumRawDataModules(p)/8),O=b-N%b,U=Math.floor(N/b);let V=[];const X=Me.reedSolomonComputeDivisor(x);for(let I=0,re=0;I<b;I++){let le=m.slice(re,re+U-x+(I<O?0:1));re+=le.length;const de=Me.reedSolomonComputeRemainder(le,X);I<O&&le.push(0),V.push(le.concat(de))}let B=[];for(let I=0;I<V[0].length;I++)V.forEach((re,le)=>{(I!=U-x||le>=O)&&B.push(re[I])});return o(B.length==N),B}drawCodewords(m){if(m.length!=Math.floor(Me.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let b=0;b<this.size;b++)for(let x=0;x<2;x++){const N=v-x,U=(v+1&2)==0?this.size-1-b:b;!this.isFunction[U][N]&&p<m.length*8&&(this.modules[U][N]=s(m[p>>>3],7-(p&7)),p++)}}o(p==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let v=0;v<this.size;v++){let b;switch(m){case 0:b=(v+p)%2==0;break;case 1:b=p%2==0;break;case 2:b=v%3==0;break;case 3:b=(v+p)%3==0;break;case 4:b=(Math.floor(v/3)+Math.floor(p/2))%2==0;break;case 5:b=v*p%2+v*p%3==0;break;case 6:b=(v*p%2+v*p%3)%2==0;break;case 7:b=((v+p)%2+v*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][v]&&b&&(this.modules[p][v]=!this.modules[p][v])}}getPenaltyScore(){let m=0;for(let x=0;x<this.size;x++){let N=!1,O=0,U=[0,0,0,0,0,0,0];for(let V=0;V<this.size;V++)this.modules[x][V]==N?(O++,O==5?m+=Me.PENALTY_N1:O>5&&m++):(this.finderPenaltyAddHistory(O,U),N||(m+=this.finderPenaltyCountPatterns(U)*Me.PENALTY_N3),N=this.modules[x][V],O=1);m+=this.finderPenaltyTerminateAndCount(N,O,U)*Me.PENALTY_N3}for(let x=0;x<this.size;x++){let N=!1,O=0,U=[0,0,0,0,0,0,0];for(let V=0;V<this.size;V++)this.modules[V][x]==N?(O++,O==5?m+=Me.PENALTY_N1:O>5&&m++):(this.finderPenaltyAddHistory(O,U),N||(m+=this.finderPenaltyCountPatterns(U)*Me.PENALTY_N3),N=this.modules[V][x],O=1);m+=this.finderPenaltyTerminateAndCount(N,O,U)*Me.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let N=0;N<this.size-1;N++){const O=this.modules[x][N];O==this.modules[x][N+1]&&O==this.modules[x+1][N]&&O==this.modules[x+1][N+1]&&(m+=Me.PENALTY_N2)}let p=0;for(const x of this.modules)p=x.reduce((N,O)=>N+(O?1:0),p);const v=this.size*this.size,b=Math.ceil(Math.abs(p*20-v*10)/v)-1;return o(0<=b&&b<=9),m+=b*Me.PENALTY_N4,o(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let v=[6];for(let b=this.size-7;v.length<m;b-=p)v.splice(1,0,b);return v}}static getNumRawDataModules(m){if(m<Me.MIN_VERSION||m>Me.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*m+128)*m+64;if(m>=2){const v=Math.floor(m/7)+2;p-=(25*v-10)*v-55,m>=7&&(p-=36)}return o(208<=p&&p<=29648),p}static getNumDataCodewords(m,p){return Math.floor(Me.getNumRawDataModules(m)/8)-Me.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m]*Me.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let p=[];for(let b=0;b<m-1;b++)p.push(0);p.push(1);let v=1;for(let b=0;b<m;b++){for(let x=0;x<p.length;x++)p[x]=Me.reedSolomonMultiply(p[x],v),x+1<p.length&&(p[x]^=p[x+1]);v=Me.reedSolomonMultiply(v,2)}return p}static reedSolomonComputeRemainder(m,p){let v=p.map(b=>0);for(const b of m){const x=b^v.shift();v.push(0),p.forEach((N,O)=>v[O]^=Me.reedSolomonMultiply(N,x))}return v}static reedSolomonMultiply(m,p){if(m>>>8||p>>>8)throw new RangeError("Byte out of range");let v=0;for(let b=7;b>=0;b--)v=v<<1^(v>>>7)*285,v^=(p>>>b&1)*m;return o(v>>>8==0),v}finderPenaltyCountPatterns(m){const p=m[1];o(p<=this.size*3);const v=p>0&&m[2]==p&&m[3]==p*3&&m[4]==p&&m[5]==p;return(v&&m[0]>=p*4&&m[6]>=p?1:0)+(v&&m[6]>=p*4&&m[0]>=p?1:0)}finderPenaltyTerminateAndCount(m,p,v){return m&&(this.finderPenaltyAddHistory(p,v),p=0),p+=this.size,this.finderPenaltyAddHistory(p,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(m,p){p[0]==0&&(m+=this.size),p.pop(),p.unshift(m)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=e;function n(g,m,p){if(m<0||m>31||g>>>m)throw new RangeError("Value out of range");for(let v=m-1;v>=0;v--)p.push(g>>>v&1)}function s(g,m){return(g>>>m&1)!=0}function o(g){if(!g)throw new Error("Assertion error")}const u=class vt{constructor(m,p,v){if(this.mode=m,this.numChars=p,this.bitData=v,p<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(m){let p=[];for(const v of m)n(v,8,p);return new vt(vt.Mode.BYTE,m.length,p)}static makeNumeric(m){if(!vt.isNumeric(m))throw new RangeError("String contains non-numeric characters");let p=[];for(let v=0;v<m.length;){const b=Math.min(m.length-v,3);n(parseInt(m.substring(v,v+b),10),b*3+1,p),v+=b}return new vt(vt.Mode.NUMERIC,m.length,p)}static makeAlphanumeric(m){if(!vt.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],v;for(v=0;v+2<=m.length;v+=2){let b=vt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v))*45;b+=vt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v+1)),n(b,11,p)}return v<m.length&&n(vt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v)),6,p),new vt(vt.Mode.ALPHANUMERIC,m.length,p)}static makeSegments(m){return m==""?[]:vt.isNumeric(m)?[vt.makeNumeric(m)]:vt.isAlphanumeric(m)?[vt.makeAlphanumeric(m)]:[vt.makeBytes(vt.toUtf8ByteArray(m))]}static makeEci(m){let p=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)n(m,8,p);else if(m<16384)n(2,2,p),n(m,14,p);else if(m<1e6)n(6,3,p),n(m,21,p);else throw new RangeError("ECI assignment value out of range");return new vt(vt.Mode.ECI,0,p)}static isNumeric(m){return vt.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return vt.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,p){let v=0;for(const b of m){const x=b.mode.numCharCountBits(p);if(b.numChars>=1<<x)return 1/0;v+=4+x+b.bitData.length}return v}static toUtf8ByteArray(m){m=encodeURI(m);let p=[];for(let v=0;v<m.length;v++)m.charAt(v)!="%"?p.push(m.charCodeAt(v)):(p.push(parseInt(m.substring(v+1,v+3),16)),v+=2);return p}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=u;r.QrSegment=u})(Ia||(Ia={}));(r=>{(e=>{const n=class{constructor(o,u){this.ordinal=o,this.formatBits=u}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(r.QrCode||(r.QrCode={}))})(Ia||(Ia={}));(r=>{(e=>{const n=class{constructor(o,u){this.modeBits=o,this.numBitsCharCount=u}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(r.QrSegment||(r.QrSegment={}))})(Ia||(Ia={}));var Co=Ia;var MO={L:Co.QrCode.Ecc.LOW,M:Co.QrCode.Ecc.MEDIUM,Q:Co.QrCode.Ecc.QUARTILE,H:Co.QrCode.Ecc.HIGH},v1=128,_1="L",E1="#FFFFFF",b1="#000000",T1=!1,x1=1,jO=4,kO=0,VO=.1;function w1(r,e=0){const n=[];return r.forEach(function(s,o){let u=null;s.forEach(function(h,g){if(!h&&u!==null){n.push(`M${u+e} ${o+e}h${g-u}v1H${u+e}z`),u=null;return}if(g===s.length-1){if(!h)return;u===null?n.push(`M${g+e},${o+e} h1v1H${g+e}z`):n.push(`M${u+e},${o+e} h${g+1-u}v1H${u+e}z`);return}h&&u===null&&(u=g)})}),n.join("")}function S1(r,e){return r.slice().map((n,s)=>s<e.y||s>=e.y+e.h?n:n.map((o,u)=>u<e.x||u>=e.x+e.w?o:!1))}function PO(r,e,n,s){if(s==null)return null;const o=r.length+n*2,u=Math.floor(e*VO),h=o/e,g=(s.width||u)*h,m=(s.height||u)*h,p=s.x==null?r.length/2-g/2:s.x*h,v=s.y==null?r.length/2-m/2:s.y*h,b=s.opacity==null?1:s.opacity;let x=null;if(s.excavate){let O=Math.floor(p),U=Math.floor(v),V=Math.ceil(g+p-O),X=Math.ceil(m+v-U);x={x:O,y:U,w:V,h:X}}const N=s.crossOrigin;return{x:p,y:v,h:m,w:g,excavation:x,opacity:b,crossOrigin:N}}function LO(r,e){return e!=null?Math.max(Math.floor(e),0):r?jO:kO}function A1({value:r,level:e,minVersion:n,includeMargin:s,marginSize:o,imageSettings:u,size:h,boostLevel:g}){let m=Bt.useMemo(()=>{const O=(Array.isArray(r)?r:[r]).reduce((U,V)=>(U.push(...Co.QrSegment.makeSegments(V)),U),[]);return Co.QrCode.encodeSegments(O,MO[e],n,void 0,void 0,g)},[r,e,n,g]);const{cells:p,margin:v,numCells:b,calculatedImageSettings:x}=Bt.useMemo(()=>{let N=m.getModules();const O=LO(s,o),U=N.length+O*2,V=PO(N,h,O,u);return{cells:N,margin:O,numCells:U,calculatedImageSettings:V}},[m,h,u,s,o]);return{qrcode:m,margin:v,cells:p,numCells:b,calculatedImageSettings:x}}var UO=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),zO=Bt.forwardRef(function(e,n){const s=e,{value:o,size:u=v1,level:h=_1,bgColor:g=E1,fgColor:m=b1,includeMargin:p=T1,minVersion:v=x1,boostLevel:b,marginSize:x,imageSettings:N}=s,U=qp(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:V}=U,X=qp(U,["style"]),B=N?.src,I=Bt.useRef(null),re=Bt.useRef(null),le=Bt.useCallback(je=>{I.current=je,typeof n=="function"?n(je):n&&(n.current=je)},[n]),[de,C]=Bt.useState(!1),{margin:A,cells:R,numCells:P,calculatedImageSettings:k}=A1({value:o,level:h,minVersion:v,boostLevel:b,includeMargin:p,marginSize:x,imageSettings:N,size:u});Bt.useEffect(()=>{if(I.current!=null){const je=I.current,Ge=je.getContext("2d");if(!Ge)return;let J=R;const ae=re.current,pe=k!=null&&ae!==null&&ae.complete&&ae.naturalHeight!==0&&ae.naturalWidth!==0;pe&&k.excavation!=null&&(J=S1(R,k.excavation));const ke=window.devicePixelRatio||1;je.height=je.width=u*ke;const Qe=u/P*ke;Ge.scale(Qe,Qe),Ge.fillStyle=g,Ge.fillRect(0,0,P,P),Ge.fillStyle=m,UO?Ge.fill(new Path2D(w1(J,A))):R.forEach(function(z,te){z.forEach(function(oe,ce){oe&&Ge.fillRect(ce+A,te+A,1,1)})}),k&&(Ge.globalAlpha=k.opacity),pe&&Ge.drawImage(ae,k.x+A,k.y+A,k.w,k.h)}}),Bt.useEffect(()=>{C(!1)},[B]);const H=Bp({height:u,width:u},V);let D=null;return B!=null&&(D=Bt.createElement("img",{src:B,key:B,style:{display:"none"},onLoad:()=>{C(!0)},ref:re,crossOrigin:k?.crossOrigin})),Bt.createElement(Bt.Fragment,null,Bt.createElement("canvas",Bp({style:H,height:u,width:u,ref:le,role:"img"},X)),D)});zO.displayName="QRCodeCanvas";var N1=Bt.forwardRef(function(e,n){const s=e,{value:o,size:u=v1,level:h=_1,bgColor:g=E1,fgColor:m=b1,includeMargin:p=T1,minVersion:v=x1,boostLevel:b,title:x,marginSize:N,imageSettings:O}=s,U=qp(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:V,cells:X,numCells:B,calculatedImageSettings:I}=A1({value:o,level:h,minVersion:v,boostLevel:b,includeMargin:p,marginSize:N,imageSettings:O,size:u});let re=X,le=null;O!=null&&I!=null&&(I.excavation!=null&&(re=S1(X,I.excavation)),le=Bt.createElement("image",{href:O.src,height:I.h,width:I.w,x:I.x+V,y:I.y+V,preserveAspectRatio:"none",opacity:I.opacity,crossOrigin:I.crossOrigin}));const de=w1(re,V);return Bt.createElement("svg",Bp({height:u,width:u,viewBox:`0 0 ${B} ${B}`,ref:n,role:"img"},U),!!x&&Bt.createElement("title",null,x),Bt.createElement("path",{fill:g,d:`M0,0 h${B}v${B}H0z`,shapeRendering:"crispEdges"}),Bt.createElement("path",{fill:m,d:de,shapeRendering:"crispEdges"}),le)});N1.displayName="QRCodeSVG";function BO(){const{eventId:r}=Dr(),{currentUser:e}=Ma(),n=ti(),[s,o]=j.useState(null),[u,h]=j.useState([]),[g,m]=j.useState(!0),[p,v]=j.useState(!1),[b,x]=j.useState(""),N=`${window.location.origin}/artistline/artist/${b}`;j.useEffect(()=>{if(!r||!e)return;(async()=>{try{const de=await Pn(Fe(ve,"events",r));if(de.exists()){const C={id:de.id,...de.data()},A=await Pn(Fe(ve,"artists",C.artistId));A.exists()&&(x(A.data().username),C.username=A.data().username),o(C)}else ye.error("Event not found"),n("/dashboard")}catch(de){console.error("Error loading event:",de),ye.error("Failed to load event")}finally{m(!1)}})();const I=Et(ve,"queues"),re=rn(I,ct("eventId","==",r)),le=Ps(re,de=>{const C=de.docs.map(A=>({id:A.id,...A.data()}));h(C)});return()=>le()},[r,e,n]);const O=B=>B?(B.toDate?B.toDate():new Date(B)).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"",U=async()=>{if(confirm("Are you sure you want to close this event?"))try{await Fi(Fe(ve,"events",r),{status:"completed"}),ye.success("Event closed"),n("/dashboard")}catch(B){console.error("Error closing event:",B),ye.error("Failed to close event")}},V=()=>{window.print()};if(g)return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-lavender-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading event..."})]})});if(!s)return null;const X=async(B,I)=>{if(B.stopPropagation(),!!confirm("Delete this queue? This cannot be undone."))try{const re=await $i(rn(Et(ve,"customers"),ct("queueId","==",I)));for(const le of re.docs)await Ea(Fe(ve,"customers",le.id));await Ea(Fe(ve,"queues",I)),ye.success("Queue deleted!")}catch(re){console.error("Error deleting queue:",re),ye.error("Failed to delete queue")}};return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50",children:[y.jsx("style",{children:`
        @media print {
          body * { visibility: hidden; }
          #qr-print-section, #qr-print-section * { visibility: visible; }
          #qr-print-section { 
            position: fixed; 
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
          }
        }
      `}),y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[y.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[y.jsx(Wo,{size:20}),y.jsx("span",{children:"Back to Dashboard"})]}),y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),y.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ku,{size:16,className:"text-lavender-500"}),y.jsx("span",{children:O(s.date)})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx($u,{size:16,className:"text-lavender-500"}),y.jsx("span",{children:s.location?.address||"No location"})]})]})]}),y.jsx("button",{onClick:U,className:"px-4 py-2 border-2 border-red-300 text-red-700 rounded-lg font-semibold hover:bg-red-50 transition-colors",children:"Close Event"})]})]})}),y.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsxs("div",{className:"bg-gradient-to-r from-lavender-500 to-softpink-500 rounded-2xl shadow-xl p-6 mb-8 text-white",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:" Share Your Permanent Link"}),y.jsx("p",{className:"mb-4 opacity-90",children:"Give this ONE link to clients - it always shows your active events!"}),y.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg p-4 mb-4",children:[y.jsx("p",{className:"text-sm opacity-75 mb-2",children:"Your permanent URL:"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:N,readOnly:!0,className:"flex-1 px-4 py-2 bg-white/30 backdrop-blur rounded-lg border-2 border-white/50 text-white font-mono text-sm"}),y.jsx("button",{onClick:()=>{navigator.clipboard.writeText(N),ye.success("Link copied!")},className:"px-6 py-2 bg-white text-lavender-600 rounded-lg font-semibold hover:shadow-lg transition-all",children:"Copy"})]})]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[y.jsxs("button",{onClick:()=>v(!p),className:"flex items-center gap-2 bg-white text-lavender-600 px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:[y.jsx(bO,{size:20}),p?"Hide QR Code":"Show QR Code"]}),y.jsxs("button",{onClick:()=>window.open(`/display/${r}`,"_blank"),className:"flex items-center gap-2 bg-white/20 text-white border-2 border-white/50 px-6 py-3 rounded-xl font-semibold hover:bg-white/30 transition-all",children:[y.jsx(gO,{size:20}),"Open Display Screen"]})]}),p&&y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{id:"qr-print-section",className:"bg-white rounded-2xl p-8 text-center inline-block",children:[y.jsx("p",{className:"text-lavender-600 font-bold text-xl mb-4",children:" Scan to Join Queue"}),y.jsx(N1,{value:N,size:200,level:"H",includeMargin:!0,fgColor:"#7C3AED"}),y.jsx("p",{className:"text-gray-600 text-sm mt-4 font-mono",children:N})]}),y.jsxs("div",{className:"mt-4 flex gap-3",children:[y.jsx("button",{onClick:V,className:"flex items-center gap-2 bg-white text-lavender-600 px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:" Print QR Code"}),y.jsx("p",{className:"text-white/75 text-sm self-center",children:"Print once, use at all your events forever!"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[y.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"p-3 bg-lavender-100 rounded-lg",children:y.jsx(zp,{className:"text-lavender-600",size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Total Queues"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.length})]})]})}),y.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"p-3 bg-softpink-100 rounded-lg",children:y.jsx(zp,{className:"text-softpink-600",size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Total Customers"}),y.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.totalCustomers||0})]})]})}),y.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"p-3 bg-mint-100 rounded-lg",children:y.jsx(p1,{className:"text-mint-600",size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Color Theme"}),y.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:s.colorTheme})]})]})})]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Queues"}),y.jsxs("button",{onClick:()=>n(`/event/${r}/create-queue`),className:"flex items-center gap-2 bg-gradient-to-r from-lavender-500 to-softpink-500 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:[y.jsx(fd,{size:20}),"Create Queue"]})]}),u.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Queues Yet"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first queue to start managing customers!"}),y.jsxs("button",{onClick:()=>n(`/event/${r}/create-queue`),className:"inline-flex items-center gap-2 bg-gradient-to-r from-lavender-500 to-softpink-500 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:[y.jsx(fd,{size:20}),"Create Queue"]})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(B=>y.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-lavender-300 hover:shadow-lg transition-all cursor-pointer",onClick:()=>n(`/queue/${B.id}/manage`),children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:B.name}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${B.status==="open"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:B.status||"open"})]}),y.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"Current Number:"}),y.jsxs("span",{className:"font-bold text-lavender-600",children:["#",B.currentNumber||0]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"In Queue:"}),y.jsx("span",{className:"font-bold text-softpink-600",children:B.waitingCount||0})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"Total Served:"}),y.jsx("span",{className:"font-bold text-gray-700",children:B.totalServed||0})]})]}),y.jsxs("div",{className:"flex gap-2 mt-4",children:[y.jsx("button",{onClick:I=>{I.stopPropagation(),n(`/queue/${B.id}/manage`)},className:"flex-1 bg-gradient-to-r from-lavender-500 to-softpink-500 text-white py-2 rounded-lg font-semibold hover:shadow-lg transition-all",children:"Manage Queue"}),y.jsx("button",{onClick:I=>X(I,B.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete queue",children:""})]}),y.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[y.jsx("button",{onClick:I=>{I.stopPropagation(),window.open(`/artistline/kiosk/${r}/${B.id}`,"_blank")},className:"py-2 px-3 bg-mint-100 text-mint-700 rounded-lg text-xs font-semibold hover:bg-mint-200 transition-colors",children:" Kiosk Mode"}),y.jsx("button",{onClick:I=>{I.stopPropagation(),window.open(`/artistline/display/${r}`,"_blank")},className:"py-2 px-3 bg-skyblue-100 text-skyblue-700 rounded-lg text-xs font-semibold hover:bg-skyblue-200 transition-colors",children:" Display"})]})]},B.id))})]})]})]})}function qO(){const{eventId:r}=Dr(),{currentUser:e}=Ma(),n=ti(),[s,o]=j.useState(!1),[u,h]=j.useState({name:"",isVisible:!0}),g=p=>{const v=p.target.type==="checkbox"?p.target.checked:p.target.value;h({...u,[p.target.name]:v})},m=async p=>{p.preventDefault(),o(!0);try{const v={eventId:r,artistId:e.uid,name:u.name,isVisible:u.isVisible,status:"open",currentNumber:0,waitingCount:0,totalServed:0,createdAt:xr()};await Ca(Et(ve,"queues"),v),ye.success("Queue created successfully! "),n(`/event/${r}`)}catch(v){console.error("Error creating queue:",v),ye.error("Failed to create queue. Please try again.")}finally{o(!1)}};return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50",children:[y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:y.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:y.jsxs("button",{onClick:()=>n(`/event/${r}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[y.jsx(Wo,{size:20}),y.jsx("span",{children:"Back to Event"})]})})}),y.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-lavender-600 mb-2",children:"Create New Queue"}),y.jsx("p",{className:"text-gray-600 mb-8",children:'Add a queue to your event (e.g., "Face Painting", "Balloon Animals")'}),y.jsxs("form",{onSubmit:m,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Queue Name ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",name:"name",value:u.name,onChange:g,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"Face Painting Line"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This name will be shown to clients when they join the queue"})]}),y.jsx("div",{className:"bg-lavender-50 rounded-xl p-6 border-2 border-lavender-200",children:y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("input",{type:"checkbox",name:"isVisible",id:"isVisible",checked:u.isVisible,onChange:g,className:"mt-1 w-5 h-5 text-lavender-600 border-gray-300 rounded focus:ring-lavender-500"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{htmlFor:"isVisible",className:"font-semibold text-gray-900 cursor-pointer",children:"Visible to Clients"}),y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"When enabled, clients will see this queue when they scan the QR code. Disable if you want to manage this queue privately or use it only on specific kiosk stations."})]})]})}),y.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4",children:y.jsxs("p",{className:"text-sm text-blue-900",children:[y.jsx("strong",{children:" Tip:"}),' You can create multiple queues for different activities at the same event. For example: "Quick Face Paint" and "Full Face Designs" or "Face Painting" and "Balloon Animals".']})}),y.jsxs("div",{className:"flex gap-4 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>n(`/event/${r}`),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-gradient-to-r from-lavender-500 to-softpink-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:s?"Creating...":"Create Queue"})]})]})]})})]})}function HO(){const{queueId:r}=Dr(),{currentUser:e}=Ma(),n=ti(),[s,o]=j.useState(null),[u,h]=j.useState(null),[g,m]=j.useState([]),[p,v]=j.useState(!0);j.useEffect(()=>{if(!r||!e)return;(async()=>{try{const C=await Pn(Fe(ve,"queues",r));if(C.exists()){const A={id:C.id,...C.data()};o(A);const R=await Pn(Fe(ve,"events",A.eventId));R.exists()&&h({id:R.id,...R.data()})}else ye.error("Queue not found"),n("/dashboard")}catch(C){console.error("Error loading queue:",C),ye.error("Failed to load queue")}finally{v(!1)}})();const re=Et(ve,"customers"),le=rn(re,ct("queueId","==",r),$g("number","asc")),de=Ps(le,C=>{const A=C.docs.map(R=>({id:R.id,...R.data()})).filter(R=>R.status!=="completed");m(A)});return()=>de()},[r,e,n]);const b=async()=>{const I=g.filter(le=>le.status==="waiting");if(I.length===0){ye.error("No customers waiting in queue");return}const re=I[0];try{await Fi(Fe(ve,"customers",re.id),{status:"called",calledAt:xr()}),await Fi(Fe(ve,"queues",r),{currentNumber:re.number,waitingCount:Math.max(0,(s.waitingCount||0)-1),totalServed:(s.totalServed||0)+1}),"vibrate"in navigator&&navigator.vibrate(200),ye.success(`Called #${re.number} - ${re.childName||re.parentName}`)}catch(le){console.error("Error calling next number:",le),ye.error("Failed to call next number")}},x=async I=>{if(!I||!s)return;const re=I.notificationMethod||(I.phone?"sms":I.email?"email":"none"),le=I.pushToken||I.pushSubscription||I.deviceToken||null,de={sms:I.phone,email:I.email,push:le};if(re==="none"||!de[re]){ye.error("No contact information available for this customer");return}const C=I.childName||I.parentName||"there",A=s.name||"your artist",R=`Hi ${C}, it's your turn at ${A}! Please head over now.`;try{await Ca(Et(ve,"notifications"),{customerId:I.id,queueId:r,eventId:s.eventId||null,method:re,target:de[re],phone:I.phone||null,email:I.email||null,message:R,type:"resend",triggeredBy:e?.uid||null,triggeredByName:e?.displayName||e?.email||null,status:"pending",createdAt:xr()}),await Fi(Fe(ve,"customers",I.id),{lastNotificationAt:xr()}),ye.success(`Notification sent to ${C}`)}catch(P){console.error("Error sending notification:",P),ye.error("Failed to send notification")}},N=async I=>{if(confirm(`Remove ${I.childName||I.parentName} from queue?`))try{await Ea(Fe(ve,"customers",I.id)),ye.success("Customer removed from queue")}catch(re){console.error("Error removing customer:",re),ye.error("Failed to remove customer")}},O=async()=>{if(!s)return;const I=s.status==="open"?"closed":"open";try{await Fi(Fe(ve,"queues",r),{status:I}),ye.success(`Queue ${I==="open"?"opened":"closed"}`)}catch(re){console.error("Error updating queue status:",re),ye.error("Failed to update queue status")}},U=I=>I?(I.toDate?I.toDate():new Date(I)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"-";if(p)return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-lavender-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading queue..."})]})});if(!s||!u)return null;const V=g.filter(I=>I.status==="waiting"),X=g.filter(I=>I.status==="called"),B=g.filter(I=>I.status==="coming");return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 pb-20",children:[y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10",children:y.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[y.jsxs("button",{onClick:()=>n(`/event/${u.id}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-3",children:[y.jsx(Wo,{size:20}),y.jsx("span",{children:"Back to Event"})]}),y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.name}),y.jsx("p",{className:"text-sm text-gray-600",children:u.name})]}),y.jsx("button",{onClick:O,className:`px-4 py-2 rounded-lg font-semibold transition-colors ${s.status==="open"?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:s.status==="open"?"Close Queue":"Open Queue"})]})]})}),y.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[y.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[y.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Current #"}),y.jsx("p",{className:"text-3xl font-bold text-lavender-600",children:s.currentNumber||0})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"In Queue"}),y.jsx("p",{className:"text-3xl font-bold text-softpink-600",children:V.length})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow p-4 text-center",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Total Served"}),y.jsx("p",{className:"text-3xl font-bold text-gray-700",children:s.totalServed||0})]})]}),y.jsx("button",{onClick:b,disabled:V.length===0,className:"w-full bg-gradient-to-r from-lavender-500 to-softpink-500 text-white py-5 rounded-xl font-bold text-xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed mb-6",children:" Call Next Number"}),X.length>0&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"Currently Serving"}),X.map(I=>y.jsx("div",{className:"bg-green-50 border-2 border-green-300 rounded-xl p-4 mb-3",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsxs("span",{className:"text-3xl font-bold text-green-600",children:["#",I.number]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-gray-900",children:I.childName||I.parentName}),I.childName&&I.parentName&&y.jsxs("p",{className:"text-sm text-gray-600",children:["Parent: ",I.parentName]})]})]}),I.phone&&y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[y.jsx(hb,{size:14}),y.jsx("span",{children:I.phone})]}),I.response&&y.jsxs("p",{className:"text-sm text-green-700 mt-2",children:[" Response: ",I.response]})]}),y.jsx("button",{onClick:()=>x(I),className:"px-3 py-2 bg-blue-100 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-200",children:y.jsx(xO,{size:16})})]})},I.id))]}),B.length>0&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:"Coming Soon"}),B.map(I=>y.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 mb-3",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["#",I.number]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-900",children:I.childName||I.parentName}),y.jsx("p",{className:"text-xs text-blue-600",children:" Marked as coming"})]})]}),y.jsx("button",{onClick:()=>N(I),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",children:y.jsx(db,{size:20})})]})},I.id))]}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3",children:["Waiting (",V.length,")"]}),V.length===0?y.jsx("div",{className:"bg-white rounded-xl p-8 text-center",children:y.jsx("p",{className:"text-gray-500",children:"No customers waiting"})}):y.jsx("div",{className:"space-y-3",children:V.map((I,re)=>y.jsx("div",{className:"bg-white rounded-xl p-4 shadow hover:shadow-md transition-shadow",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[y.jsxs("span",{className:"text-2xl font-bold text-lavender-600",children:["#",I.number]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-semibold text-gray-900",children:I.childName||I.parentName}),I.childName&&I.parentName&&y.jsxs("p",{className:"text-sm text-gray-600",children:["Parent: ",I.parentName]}),y.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-xs text-gray-500",children:[I.phone&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(hb,{size:12}),y.jsx("span",{children:I.phone})]}),I.joinedAt&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(m1,{size:12}),y.jsxs("span",{children:["Joined ",U(I.joinedAt)]})]}),I.notificationMethod&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(fO,{size:12}),y.jsx("span",{className:"capitalize",children:I.notificationMethod})]})]}),re===0&&y.jsx("p",{className:"text-xs text-green-600 font-semibold mt-2",children:" Next in line"})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>x(I),className:"px-3 py-2 bg-blue-100 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-200",children:"Resend"}),y.jsx("button",{onClick:()=>N(I),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",children:y.jsx(db,{size:20})})]})]})},I.id))})]})]})]})}function FO(){const{eventId:r}=Dr(),e=ti(),[n,s]=j.useState(null),[o,u]=j.useState([]),[h,g]=j.useState(null),[m,p]=j.useState(!0),[v,b]=j.useState(!1),[x,N]=j.useState({childName:"",parentName:"",phone:"",email:"",notificationMethod:"sms",isChild:!0,marketingConsent:!1});j.useEffect(()=>{if(!r)return;(async()=>{try{const I=await Pn(Fe(ve,"events",r));if(!I.exists()){ye.error("Event not found");return}const re={id:I.id,...I.data()};s(re);const le=Et(ve,"queues"),de=rn(le,ct("eventId","==",r),ct("isVisible","==",!0),ct("status","==","open")),C=Ps(de,A=>{const R=A.docs.map(P=>({id:P.id,...P.data()}));u(R),p(!1)});return()=>C()}catch(I){console.error("Error loading data:",I),ye.error("Failed to load event"),p(!1)}})()},[r]);const O=B=>{const I=B.target.type==="checkbox"?B.target.checked:B.target.value;N({...x,[B.target.name]:I})},U=async B=>{const I=Et(ve,"customers"),re=rn(I,ct("queueId","==",B)),le=await $i(re);if(le.empty)return 1;const de=le.docs.map(C=>C.data().number||0);return Math.max(...de)+1},V=async B=>{if(B.preventDefault(),!h){ye.error("Please select a queue");return}b(!0);try{const I=await U(h.id),re={queueId:h.id,eventId:r,number:I,childName:x.isChild?x.childName:"",parentName:x.parentName,isChild:x.isChild,phone:x.phone,email:x.email||"",notificationMethod:x.notificationMethod,status:"waiting",response:null,joinedAt:xr()},le=await Ca(Et(ve,"customers"),re);x.marketingConsent&&(x.phone||x.email)&&await Ca(Et(ve,"contacts"),{parentName:x.parentName||x.childName,phone:x.phone||"",email:x.email||"",artistId:n.artistId,eventId:r,eventType:n.eventType||"other",consentDate:xr(),consentText:"Yes! Notify me about future events from this artist and ArtistLine.",source:"qr"}),await Fi(Fe(ve,"queues",h.id),{waitingCount:(h.waitingCount||0)+1}),await Fi(Fe(ve,"events",r),{totalCustomers:(n.totalCustomers||0)+1}),ye.success(`You're number ${I}!`),e(`/customer/${le.id}`)}catch(I){console.error("Error joining queue:",I),ye.error("Failed to join queue. Please try again.")}finally{b(!1)}},X=B=>B?(B.toDate?B.toDate():new Date(B)).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"";return m?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-lavender-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading event..."})]})}):n?y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 pb-10",children:[y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:y.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:y.jsxs("div",{className:"text-center",children:[y.jsxs("h1",{className:"text-3xl font-bold text-lavender-600 mb-2",children:[" ",n.name]}),y.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx(Ku,{size:16}),y.jsx("span",{children:X(n.date)})]}),y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx($u,{size:16}),y.jsx("span",{children:n.location?.address})]})]})]})})}),y.jsxs("main",{className:"max-w-2xl mx-auto px-4 py-8",children:[h?y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-lavender-600",children:["Join ",h.name]}),y.jsx("button",{onClick:()=>g(null),className:"text-gray-600 hover:text-gray-900",children:" Back"})]}),y.jsxs("form",{onSubmit:V,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Name ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",name:"childName",value:x.childName,onChange:O,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"Enter name"})]}),y.jsx("div",{className:"bg-lavender-50 rounded-xl p-4 border-2 border-lavender-200",children:y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[y.jsx("input",{type:"checkbox",name:"isChild",checked:x.isChild,onChange:O,className:"w-5 h-5 text-lavender-600 border-gray-300 rounded focus:ring-lavender-500"}),y.jsx("span",{className:"font-medium text-gray-900",children:"This is a child's name"})]})}),x.isChild&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent/Guardian Name"}),y.jsx("input",{type:"text",name:"parentName",value:x.parentName,onChange:O,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"Parent's name (optional)"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),y.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:O,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"555-0123 (optional)"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (Optional)"}),y.jsx("input",{type:"email",name:"email",value:x.email,onChange:O,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"email@example.com"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How would you like to be notified?"}),y.jsxs("select",{name:"notificationMethod",value:x.notificationMethod,onChange:O,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",children:[y.jsx("option",{value:"sms",children:"SMS Text Message"}),y.jsx("option",{value:"email",children:"Email"}),y.jsx("option",{value:"push",children:"Web Notification"}),y.jsx("option",{value:"none",children:"I'll check the screen"})]})]}),y.jsx("div",{className:"bg-gradient-to-r from-lavender-50 to-softpink-50 rounded-xl p-5 border-2 border-lavender-200",children:y.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[y.jsx("input",{type:"checkbox",name:"marketingConsent",checked:x.marketingConsent,onChange:O,className:"mt-1 w-5 h-5 text-lavender-600 border-gray-300 rounded focus:ring-lavender-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-900",children:" Hear about future events!"}),y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Get notified about upcoming events from this artist and similar events in your area. We never spam. Unsubscribe anytime."})]})]})}),y.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-lavender-500 to-softpink-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:v?"Joining...":"Join Queue"})]})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Choose a Queue"}),o.length===0?y.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:y.jsx("p",{className:"text-gray-600",children:"No queues available at this time."})}):o.map(B=>y.jsx("button",{onClick:()=>g(B),className:"w-full bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all text-left border-2 border-transparent hover:border-lavender-300",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:B.name}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[y.jsx(zp,{size:16}),y.jsxs("span",{children:[B.waitingCount||0," people waiting"]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Current #"}),y.jsx("p",{className:"text-3xl font-bold text-lavender-600",children:B.currentNumber||0})]})]})},B.id))]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsx("button",{onClick:()=>e(`/event/${r}/find`),className:"text-lavender-600 hover:text-lavender-700 font-medium",children:"Already in queue? Find your turn "})})]})]}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),y.jsx("p",{className:"text-gray-600",children:"This event may have been closed or removed."})]})})}function GO(){const{username:r}=Dr(),e=ti(),[n,s]=j.useState(null),[o,u]=j.useState([]),[h,g]=j.useState(!0);j.useEffect(()=>{if(!r)return;(async()=>{try{const v=await $i(rn(Et(ve,"usernames"),ct("__name__","==",r.toLowerCase())));if(v.empty){ye.error("Artist not found"),g(!1);return}const b=v.docs[0].data().userId,x=await $i(rn(Et(ve,"artists"),ct("__name__","==",b)));if(!x.empty){s({id:b,...x.docs[0].data()});const N=Et(ve,"events"),O=new Date;O.setHours(0,0,0,0);const U=rn(N,ct("artistId","==",b),ct("status","==","active"),$g("date","asc")),V=Ps(U,X=>{const B=X.docs.map(I=>({id:I.id,...I.data()})).filter(I=>(I.date.toDate?I.date.toDate():new Date(I.date))>=O);u(B),g(!1)});return()=>V()}}catch(v){console.error("Error loading artist profile:",v),ye.error("Failed to load artist profile"),g(!1)}})()},[r]);const m=p=>p?(p.toDate?p.toDate():new Date(p)).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"";return h?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-lavender-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 pb-10",children:[y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:y.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:y.jsxs("div",{className:"text-center",children:[y.jsxs("h1",{className:"text-4xl font-bold text-lavender-600 mb-2",children:[" ",n.displayName]}),y.jsxs("p",{className:"text-gray-600",children:["@",n.username]})]})})}),y.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Active Events"}),o.length===0?y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Active Events"}),y.jsx("p",{className:"text-gray-600",children:"This artist doesn't have any upcoming events at the moment."})]}):y.jsx("div",{className:"space-y-6",children:o.map(p=>y.jsxs("div",{onClick:()=>e(`/join/${p.id}`),className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all cursor-pointer border-2 border-transparent hover:border-lavender-300",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:p.name}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[y.jsx(Ku,{size:18,className:"text-lavender-500"}),y.jsx("span",{children:m(p.date)})]}),p.location?.address&&y.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[y.jsx($u,{size:18,className:"text-lavender-500"}),y.jsx("span",{children:p.location.address})]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Queues"}),y.jsx("p",{className:"text-3xl font-bold text-lavender-600",children:p.queueCount||0})]})]}),y.jsx("button",{className:"w-full bg-gradient-to-r from-lavender-500 to-softpink-500 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all mt-4",children:"Join Queue "})]},p.id))})]})]}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Artist Not Found"}),y.jsx("p",{className:"text-gray-600",children:"This artist profile doesn't exist."})]})})}function QO(){const{customerId:r}=Dr(),e=ti(),[n,s]=j.useState(null),[o,u]=j.useState(null),[h,g]=j.useState(null),[m,p]=j.useState(0),[v,b]=j.useState(!0);j.useEffect(()=>{if(!r)return;const V=Ps(Fe(ve,"customers",r),async X=>{if(!X.exists()){ye.error("Customer not found"),b(!1);return}const B={id:X.id,...X.data()};s(B);const I=await Pn(Fe(ve,"queues",B.queueId));if(I.exists()){u({id:I.id,...I.data()});const re=await Pn(Fe(ve,"events",I.data().eventId));re.exists()&&g({id:re.id,...re.data()})}b(!1)});return()=>V()},[r]),j.useEffect(()=>{if(!n||!o)return;(async()=>{if(await Pn(Fe(ve,"queues",n.queueId)),n.status==="waiting"){const X=n.number-(o.currentNumber||0);p(X>0?X:0)}else p(0)})()},[n,o]);const x=async V=>{if(n)try{V==="coming"?(await Fi(Fe(ve,"customers",r),{status:"coming",response:"coming",respondedAt:new Date}),ye.success("Great! We'll see you soon!")):V==="skip"&&confirm("Are you sure you can't make it? You'll be removed from the queue.")&&(await Ea(Fe(ve,"customers",r)),ye.success("You have been removed from the queue"),e(`/join/${h.id}`))}catch(X){console.error("Error updating response:",X),ye.error("Failed to update. Please try again.")}},N=()=>{if(!o||!m)return"Soon!";const V=o.avgServiceTime||5;return`${m*V+2} min`};if(v)return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-lavender-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your status..."})]})});if(!n||!o||!h)return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Found"}),y.jsx("p",{className:"text-gray-600",children:"This queue entry doesn't exist or has been removed."})]})});const O=n.status==="called",U=n.status==="coming";return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 pb-10",children:[y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:y.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4",children:[y.jsxs("button",{onClick:()=>e(`/join/${h.id}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-3",children:[y.jsx(Wo,{size:20}),y.jsx("span",{children:"Back to Event"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o.name}),y.jsx("p",{className:"text-sm text-gray-600",children:h.name})]})]})}),y.jsxs("main",{className:"max-w-2xl mx-auto px-4 py-8",children:[y.jsx("div",{className:`rounded-2xl shadow-xl p-8 mb-6 ${O?"bg-gradient-to-br from-green-400 to-green-600 animate-pulse":"bg-white"}`,children:y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:`text-sm mb-2 ${O?"text-white":"text-gray-600"}`,children:O?" IT'S YOUR TURN!":"Your Number"}),y.jsxs("div",{className:`text-8xl font-bold mb-4 ${O?"text-white":"text-lavender-600"}`,children:["#",n.number]}),y.jsx("p",{className:`text-lg font-semibold ${O?"text-white":"text-gray-900"}`,children:n.childName||n.parentName}),n.childName&&n.parentName&&y.jsxs("p",{className:`text-sm ${O?"text-white/80":"text-gray-600"}`,children:["Parent: ",n.parentName]})]})}),!O&&y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{className:"text-center p-4 bg-lavender-50 rounded-xl",children:[y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Now Serving"}),y.jsxs("p",{className:"text-4xl font-bold text-lavender-600",children:["#",o.currentNumber||0]})]}),y.jsxs("div",{className:"text-center p-4 bg-softpink-50 rounded-xl",children:[y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"People Ahead"}),y.jsx("p",{className:"text-4xl font-bold text-softpink-600",children:m})]})]}),y.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600 mb-2",children:[y.jsx(m1,{size:18}),y.jsxs("span",{children:["Estimated wait: ",y.jsx("strong",{children:N()})]})]}),U&&y.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-3 text-center",children:y.jsx("p",{className:"text-blue-700 font-semibold",children:" Marked as coming"})})]}),O&&!n.response&&y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[y.jsx("p",{className:"text-center text-gray-700 font-semibold mb-4",children:"Please let us know:"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("button",{onClick:()=>x("coming"),className:"bg-green-500 text-white py-4 px-6 rounded-xl font-bold hover:bg-green-600 transition-all",children:" I'll Be There Soon"}),y.jsx("button",{onClick:()=>x("skip"),className:"bg-red-500 text-white py-4 px-6 rounded-xl font-bold hover:bg-red-600 transition-all",children:" Can't Make It"})]})]}),y.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 text-sm text-blue-900",children:[y.jsx("p",{className:"font-semibold mb-2",children:" Tips:"}),y.jsxs("ul",{className:"space-y-1 ml-4",children:[y.jsx("li",{children:" Keep this page open to see live updates"}),y.jsx("li",{children:" You'll see when your number is called"}),y.jsx("li",{children:" Bookmark this page to check back anytime"})]})]}),n.status==="waiting"&&y.jsx("div",{className:"mt-6",children:y.jsx("button",{onClick:()=>x("skip"),className:"w-full py-3 text-gray-600 hover:text-gray-900 font-medium",children:"Can't make it? Skip my turn"})})]})]})}function YO(){const{eventId:r}=Dr(),[e,n]=j.useState(null),[s,o]=j.useState([]),[u,h]=j.useState(0),[g,m]=j.useState(!0);if(j.useEffect(()=>{if(!r)return;(async()=>{const O=await Pn(Fe(ve,"events",r));O.exists()&&n({id:O.id,...O.data()})})();const b=Et(ve,"queues"),x=rn(b,ct("eventId","==",r)),N=Ps(x,O=>{const U=O.docs.map(V=>({id:V.id,...V.data()}));o(U),m(!1)});return()=>N()},[r]),j.useEffect(()=>{if(s.length<=1)return;const v=setInterval(()=>{h(b=>(b+1)%s.length)},5e3);return()=>clearInterval(v)},[s.length]),g)return y.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-lavender-600 to-softpink-600 text-white",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-white mb-4"}),y.jsx("p",{className:"text-2xl",children:"Loading..."})]})});if(!e||s.length===0)return y.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-lavender-600 to-softpink-600 text-white p-8",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-6xl font-bold mb-4",children:""}),y.jsx("h2",{className:"text-4xl font-bold mb-4",children:e?.name||"Event"}),y.jsx("p",{className:"text-2xl opacity-90",children:"No active queues"})]})});const p=s[u];return y.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-gradient-to-br from-lavender-50 via-mint-50 to-softpink-50 p-8 relative",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h2",{className:"text-4xl md:text-6xl font-bold text-gray-900",children:p.name}),y.jsx("p",{className:"text-2xl md:text-3xl text-gray-700 mt-2",children:"Now Serving"})]}),y.jsx("div",{className:"bg-white rounded-3xl p-16 md:p-24 mb-8 shadow-2xl border-8 border-lavender-400",children:y.jsx("div",{className:"text-center",children:y.jsx("div",{className:"text-[12rem] md:text-[25rem] font-bold leading-none text-gray-900",children:p.currentNumber||"-"})})}),y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-xl md:text-2xl text-gray-700",children:[y.jsx("span",{className:"font-bold text-gray-900",children:p.waitingCount||0})," people waiting"]}),p.waitingCount>0&&y.jsxs("p",{className:"text-lg md:text-xl text-gray-600 mt-2",children:["Est. wait: ",y.jsxs("span",{className:"font-semibold text-gray-900",children:[(p.avgServiceTime||5)+2," min"]})]})]}),s.length>1&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 text-sm text-gray-500",children:["Queue ",u+1," of ",s.length]}),y.jsx("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center gap-3",children:s.map((v,b)=>y.jsx("div",{className:`h-4 rounded-full transition-all ${b===u?"bg-lavender-600 w-12":"bg-gray-300 w-4"}`},b))})]}),s.length>1&&y.jsx("div",{className:"absolute top-6 right-6 text-xs text-gray-500",children:"Auto-rotating every 5s"})]})}function KO(){const{eventId:r}=Dr(),e=ti(),[n,s]=j.useState(""),[o,u]=j.useState(!1),[h,g]=j.useState([]),[m,p]=j.useState(!1),v=async N=>{if(N.preventDefault(),!n.trim()){ye.error("Please enter a name or phone number");return}u(!0),p(!0);try{const O=Et(ve,"customers"),U=rn(O,ct("eventId","==",r),ct("phone","==",n.trim())),V=rn(O,ct("eventId","==",r),ct("childName","==",n.trim())),X=rn(O,ct("eventId","==",r),ct("parentName","==",n.trim())),[B,I,re]=await Promise.all([$i(U),$i(V),$i(X)]),le=[...B.docs,...I.docs,...re.docs],de=new Set,C=le.filter(A=>de.has(A.id)?!1:(de.add(A.id),!0)).map(A=>({id:A.id,...A.data()})).filter(A=>A.status!=="completed");g(C),C.length===0?ye.error("No turns found. Try a different name or phone number."):ye.success(`Found ${C.length} turn(s)!`)}catch(O){console.error("Error searching:",O),ye.error("Search failed. Please try again.")}finally{u(!1)}},b=N=>{switch(N){case"called":return"bg-green-100 text-green-700 border-green-300";case"coming":return"bg-blue-100 text-blue-700 border-blue-300";case"waiting":return"bg-lavender-100 text-lavender-700 border-lavender-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},x=N=>{switch(N){case"called":return" It's your turn!";case"coming":return" Marked as coming";case"waiting":return" Waiting in queue";default:return N}};return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 pb-10",children:[y.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:y.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4",children:[y.jsxs("button",{onClick:()=>e(`/join/${r}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-3",children:[y.jsx(Wo,{size:20}),y.jsx("span",{children:"Back to Event"})]}),y.jsx("h1",{className:"text-2xl font-bold text-lavender-600",children:"Find Your Turn"}),y.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Enter your name or phone number to find your place in the queue"})]})}),y.jsxs("main",{className:"max-w-2xl mx-auto px-4 py-8",children:[y.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:y.jsxs("form",{onSubmit:v,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name or Phone Number"}),y.jsxs("div",{className:"relative",children:[y.jsx(SO,{className:"absolute left-3 top-3.5 text-gray-400",size:20}),y.jsx("input",{type:"text",value:n,onChange:N=>s(N.target.value),className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"Emma, John, or 555-0123"})]})]}),y.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-lavender-500 to-softpink-500 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:o?"Searching...":"Find My Turn"})]})}),m&&y.jsx("div",{className:"space-y-4",children:h.length===0&&!o?y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[y.jsx("div",{className:"text-5xl mb-4",children:""}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No turns found"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Try searching with a different name or phone number"}),y.jsx("button",{onClick:()=>e(`/join/${r}`),className:"bg-gradient-to-r from-lavender-500 to-softpink-500 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Join Queue Instead"})]}):h.map(N=>y.jsxs("div",{className:`bg-white rounded-2xl shadow-lg p-6 border-2 ${b(N.status)}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:N.childName||N.parentName}),N.childName&&N.parentName&&y.jsxs("p",{className:"text-gray-600 text-sm",children:["Parent: ",N.parentName]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Turn Number"}),y.jsxs("p",{className:"text-4xl font-bold text-lavender-600",children:["#",N.number]})]})]}),y.jsx("div",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold border-2 mb-4 ${b(N.status)}`,children:x(N.status)}),y.jsx("button",{onClick:()=>e(`/customer/${N.id}`),className:"w-full bg-gradient-to-r from-lavender-500 to-softpink-500 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"View My Turn Details "})]},N.id))})]})]})}const up=10;function mb(){const{eventId:r,queueId:e}=Dr(),[n,s]=j.useState(null),[o,u]=j.useState([]),[h,g]=j.useState(null),[m,p]=j.useState(!0),[v,b]=j.useState(!1),[x,N]=j.useState("select"),[O,U]=j.useState(up),[V,X]=j.useState(null),[B,I]=j.useState({childName:"",parentName:"",phone:"",isChild:!0,marketingConsent:!1});j.useEffect(()=>{if(!r)return;(async()=>{try{const R=await Pn(Fe(ve,"events",r));if(!R.exists()){p(!1);return}if(s({id:R.id,...R.data()}),e){const P=await Pn(Fe(ve,"queues",e));if(P.exists()){const k={id:P.id,...P.data()};u([k]),g(k),N("form")}}else{const P=Et(ve,"queues"),k=rn(P,ct("eventId","==",r),ct("isVisible","==",!0),ct("status","==","open")),H=Ps(k,D=>{const je=D.docs.map(Ge=>({id:Ge.id,...Ge.data()}));u(je),je.length===1&&(g(je[0]),N("form")),p(!1)});return()=>H()}p(!1)}catch(R){console.error("Error loading data:",R),p(!1)}})()},[r,e]),j.useEffect(()=>{if(x!=="success")return;U(up);const A=setInterval(()=>{U(R=>R<=1?(clearInterval(A),re(),up):R-1)},1e3);return()=>clearInterval(A)},[x]);const re=()=>{I({childName:"",parentName:"",phone:"",isChild:!0}),X(null),e||o.length===1?N("form"):(g(null),N("select"))},le=async A=>{const R=Et(ve,"customers"),P=rn(R,ct("queueId","==",A)),k=await $i(P);if(k.empty)return 1;const H=k.docs.map(D=>D.data().number||0);return Math.max(...H)+1},de=async A=>{if(A.preventDefault(),!!h){b(!0);try{const R=await le(h.id),P={queueId:h.id,eventId:r,number:R,childName:B.isChild?B.childName:"",parentName:B.parentName||"",isChild:B.isChild,phone:B.phone||"",email:"",notificationMethod:"screen",status:"waiting",response:null,joinedAt:xr(),isKiosk:!0};await Ca(Et(ve,"customers"),P),B.marketingConsent&&B.phone&&await Ca(Et(ve,"contacts"),{parentName:B.parentName||B.childName,phone:B.phone||"",email:"",artistId:n.artistId,eventId:r,eventType:n.eventType||"other",consentDate:xr(),consentText:"Yes! Notify me about future events from this artist and ArtistLine.",source:"kiosk"}),await Fi(Fe(ve,"queues",h.id),{waitingCount:(h.waitingCount||0)+1}),await Fi(Fe(ve,"events",r),{totalCustomers:(n.totalCustomers||0)+1}),X(R),N("success")}catch(R){console.error("Error joining queue:",R),ye.error("Failed to join queue. Please try again.")}finally{b(!1)}}},C=A=>{const R=A.target.type==="checkbox"?A.target.checked:A.target.value;I({...B,[A.target.name]:R})};return m?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-lavender-600"}),y.jsx("p",{className:"mt-4 text-2xl text-gray-600",children:"Loading..."})]})}):x==="success"?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-500 to-softpink-500 flex items-center justify-center p-8",children:y.jsxs("div",{className:"text-center text-white",children:[y.jsx("div",{className:"text-8xl mb-6",children:""}),y.jsx("h1",{className:"text-4xl font-bold mb-4",children:"You're In!"}),y.jsx("p",{className:"text-2xl mb-8 opacity-90",children:"Your number is:"}),y.jsx("div",{className:"bg-white rounded-3xl p-12 mb-8 shadow-2xl inline-block",children:y.jsxs("div",{className:"text-9xl font-bold text-lavender-600",children:["#",V]})}),y.jsxs("p",{className:"text-xl mb-4 opacity-90",children:["Queue: ",y.jsx("strong",{children:h?.name})]}),y.jsx("p",{className:"text-lg opacity-75 mb-8",children:"Watch the display screen for your number!"}),y.jsxs("div",{className:"bg-white/20 rounded-2xl p-6",children:[y.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Next customer in:"}),y.jsx("div",{className:"text-6xl font-bold",children:O}),y.jsx("p",{className:"text-sm opacity-75 mt-2",children:"seconds"})]}),y.jsx("button",{onClick:re,className:"mt-8 bg-white text-lavender-600 px-8 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all",children:"Next Customer "})]})}):x==="select"?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center p-8",children:y.jsxs("div",{className:"w-full max-w-2xl",children:[y.jsxs("div",{className:"text-center mb-10",children:[y.jsx("h1",{className:"text-5xl font-bold text-lavender-600 mb-2",children:" Welcome!"}),y.jsx("p",{className:"text-2xl text-gray-600",children:"Choose your queue"})]}),y.jsx("div",{className:"space-y-4",children:o.map(A=>y.jsx("button",{onClick:()=>{g(A),N("form")},className:"w-full bg-white rounded-2xl shadow-lg p-8 hover:shadow-xl transition-all text-left border-2 border-transparent hover:border-lavender-300",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:A.name}),y.jsxs("p",{className:"text-xl text-gray-600",children:[A.waitingCount||0," people waiting"]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-gray-500 text-lg",children:"Now serving"}),y.jsxs("p",{className:"text-5xl font-bold text-lavender-600",children:["#",A.currentNumber||0]})]})]})},A.id))})]})}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lavender-50 to-softpink-50 flex items-center justify-center p-8",children:y.jsxs("div",{className:"w-full max-w-2xl",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("h1",{className:"text-4xl font-bold text-lavender-600 mb-2",children:[" Join ",h?.name]}),y.jsx("p",{className:"text-xl text-gray-600",children:"Enter your info below"})]}),y.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:y.jsxs("form",{onSubmit:de,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-xl font-medium text-gray-700 mb-3",children:["Name ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",name:"childName",value:B.childName,onChange:C,required:!0,className:"w-full px-6 py-4 text-xl border-2 border-gray-200 rounded-xl focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"Enter name"})]}),y.jsx("div",{className:"bg-lavender-50 rounded-xl p-5 border-2 border-lavender-200",children:y.jsxs("label",{className:"flex items-center gap-4 cursor-pointer",children:[y.jsx("input",{type:"checkbox",name:"isChild",checked:B.isChild,onChange:C,className:"w-7 h-7 text-lavender-600 border-gray-300 rounded"}),y.jsx("span",{className:"text-xl font-medium text-gray-900",children:"This is a child's name"})]})}),B.isChild&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-xl font-medium text-gray-700 mb-3",children:"Parent/Guardian Name"}),y.jsx("input",{type:"text",name:"parentName",value:B.parentName,onChange:C,className:"w-full px-6 py-4 text-xl border-2 border-gray-200 rounded-xl focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"Parent's name (optional)"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xl font-medium text-gray-700 mb-3",children:"Phone Number (Optional)"}),y.jsx("input",{type:"tel",name:"phone",value:B.phone,onChange:C,className:"w-full px-6 py-4 text-xl border-2 border-gray-200 rounded-xl focus:border-lavender-500 focus:outline-none transition-colors",placeholder:"For notifications (optional)"})]}),y.jsx("div",{className:"bg-gradient-to-r from-lavender-50 to-softpink-50 rounded-xl p-5 border-2 border-lavender-200",children:y.jsxs("label",{className:"flex items-start gap-4 cursor-pointer",children:[y.jsx("input",{type:"checkbox",name:"marketingConsent",checked:B.marketingConsent,onChange:C,className:"mt-1 w-7 h-7 text-lavender-600 border-gray-300 rounded"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xl font-semibold text-gray-900",children:" Hear about future events!"}),y.jsx("p",{className:"text-base text-gray-600 mt-1",children:"Get notified about upcoming events near you. We never spam. Unsubscribe anytime."})]})]})}),y.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-lavender-500 to-softpink-500 text-white py-6 rounded-xl font-bold text-2xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:v?"Joining...":"Get My Number! "})]})}),o.length>1&&y.jsx("button",{onClick:()=>{g(null),N("select")},className:"w-full mt-4 py-4 text-gray-600 font-medium text-lg",children:" Choose Different Queue"})]})})}function ou({children:r}){const{currentUser:e}=Ma();return e?r:y.jsx($p,{to:"/"})}function $O({children:r}){const{currentUser:e}=Ma();return e?y.jsx($p,{to:"/dashboard"}):r}function XO(){return y.jsx(eO,{children:y.jsxs(kA,{basename:"/artistline",children:[y.jsx(O2,{position:"top-center"}),y.jsxs(hA,{children:[y.jsx(mn,{path:"/kiosk/:eventId",element:y.jsx(mb,{})}),y.jsx(mn,{path:"/kiosk/:eventId/:queueId",element:y.jsx(mb,{})}),y.jsx(mn,{path:"/event/:eventId/find",element:y.jsx(KO,{})}),y.jsx(mn,{path:"/display/:eventId",element:y.jsx(YO,{})}),y.jsx(mn,{path:"/customer/:customerId",element:y.jsx(QO,{})}),y.jsx(mn,{path:"/artist/:username",element:y.jsx(GO,{})}),y.jsx(mn,{path:"/join/:eventId",element:y.jsx(FO,{})}),y.jsx(mn,{path:"/queue/:queueId/manage",element:y.jsx(ou,{children:y.jsx(HO,{})})}),y.jsx(mn,{path:"/event/:eventId/create-queue",element:y.jsx(ou,{children:y.jsx(qO,{})})}),y.jsx(mn,{path:"/event/:eventId",element:y.jsx(ou,{children:y.jsx(BO,{})})}),y.jsx(mn,{path:"/",element:y.jsx($O,{children:y.jsx(tO,{})})}),y.jsx(mn,{path:"/dashboard",element:y.jsx(ou,{children:y.jsx(RO,{})})}),y.jsx(mn,{path:"/create-event",element:y.jsx(ou,{children:y.jsx(DO,{})})}),y.jsx(mn,{path:"*",element:y.jsx($p,{to:"/"})})]})]})})}mS.createRoot(document.getElementById("root")).render(y.jsx(j.StrictMode,{children:y.jsx(XO,{})}));
